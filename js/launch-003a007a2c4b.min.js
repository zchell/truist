// For license information, see `https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/launch-003a007a2c4b.js`.
(function(){window._satellite=window._satellite||{},window._satellite.container={buildInfo:{minified:!0,buildDate:"2025-10-21T15:24:12Z",turbineBuildDate:"2024-08-22T17:32:44Z",turbineVersion:"28.0.0"},environment:{id:"EN499a64a82b0d44abb4f6dfeb3e957bda",stage:"production"},dataElements:{"zGlobal_xdm._experience.analytics.event801to900":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(event){var waData=window.digitalDataWAposting||{};if(!waData.eventsArray||waData.eventsArray.length<1)return{};var event801to900={};return waData.eventsArray.forEach((item=>{if(!item)return;if(item.indexOf("event")<0)return;let regexArray=item.match(/(event)([^=]*)(.*)/),txt=regexArray[1];if(!txt)return;let num=regexArray[2],value=regexArray[3];Number(num)>800&&Number(num)<901&&(eval("event801to900.event"+num+"= {}"),value?eval("event801to900.event"+num+".value"+value):eval("event801to900.event"+num+".value= 1"))})),event801to900}}},"zGlobal_xdm.eventType":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalDataWAposting.eventType"}},"3pt_facebook":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){try{fbq("trackCustom",e.event,{content_name:e.name,content_category:e.cat,lp:e.lp}),_satellite.logger.log("3PT Facebook pixel fired with: "+JSON.stringify(e))}catch(e){_satellite.logger.log("3PT ERROR firing custom facebook tag: "+e)}}}}},zGlobal_alloyPrehideUtil:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(_satellite.truist=_satellite.truist||{},_satellite.truist.alloyPrehideUtil)return _satellite.truist.alloyPrehideUtil;_satellite.logger.info("alloy-prehiding initialized");var e="2.2",t="page_alloy_prehiding_selectors",n=function(e){var n=_satellite.getVar(t)||[];n.push(e),_satellite.setVar(t,n)},o=function(e){e=e||" { opacity: 0 !important; } ";var n=(_satellite.getVar(t)||[]).join(",");if(n&&(n+=e),!(n+=_satellite.getVar("zSite_alloy_prehiding_css")||""))return!1;var o=_satellite.getVar("zSite_AT_alloyConfig").getTargetUtilVars(),r=(o[5],o[11]||"alloy-prehide"),i=o[12]||3e3;i+=1e3;var a=o[13]||"target_prehide_timeout_expired";_satellite.logger.info("alloy-prehiding css",n+""),_satellite.logger.info("alloy-prehiding id",r+""),_satellite.setVar("alloy-prehiding-start",Date.now()),function(e,t,n,o){var i=e.head;if(i){if(t)return;var s=e.createElement("style");s.id=r,s.innerText=n,i.appendChild(s),setTimeout((function(){_satellite.logger.info("alloy-prehiding timeout expired",Date.now()-_satellite.getVar("alloy-prehiding-start")),_satellite.setVar(a,!0),s.parentNode&&s.parentNode.removeChild(s)}),o)}}(document,-1!==document.location.href.indexOf("adobe_authoring_enabled"),n,i)};return _satellite.truist.alloyPrehideUtil={version:e,addPageLoadSelector:n,executePageLoadPrehide:o},_satellite.truist.alloyPrehideUtil}}},"zGlobal_xdm.web.webPageDetails.siteSection":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalDataWAposting.channel"}},"3pt_floodlight":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){try{var t,n,o=document.createElement("img");if(e.cache_bust&&"off"===e.cache_bust)_satellite.logger.log("not using cachebuster"),t="https://ad.doubleclick.net/ddm/activity/src=4264071;type="+e.type+";cat="+e.cat+";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755};ord=1?",e.hasOwnProperty("u1")&&e.hasOwnProperty("u2")&&(t="https://ad.doubleclick.net/ddm/activity/src=4264071;type="+e.type+";cat="+e.cat+";u1="+e.u1+";u2="+encodeURIComponent(e.u2)+";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755};ord=1?"),o.setAttribute("src",t);else n=1e13*(Math.random()+""),_satellite.logger.log("using cachebuster"),t="https://ad.doubleclick.net/ddm/activity/src=4264071;type="+e.type+";cat="+e.cat+";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755};ord=1;num=",o.setAttribute("src",t+n+"?");o.setAttribute("height","1"),o.setAttribute("width","1"),o.setAttribute("style","display:none"),o.setAttribute("alt",""),document.body.appendChild(o),n?_satellite.logger.log("3PT floodlight (with cachebuster) fired with: "+t+n+"?"):_satellite.logger.log("3PT floodlight (without cachebuster) fired with: "+t)}catch(e){_satellite.logger.log("3PT ERROR appending floodlight image tag: "+e)}}}}},"3pt_yahoo":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){try{if("object"==typeof e&&e.hasOwnProperty("yp")){var t=document.createElement("img"),n=JSON.stringify(e),o="https://sp.analytics.yahoo.com/spp.pl?a=10000&.yp="+e.yp;e.hasOwnProperty("ea")&&(o+="&ea="+e.ea),e.hasOwnProperty("auid")&&(o+="&auid="+e.auid),e.hasOwnProperty("ec")&&(o+="&ec="+e.ec),e.hasOwnProperty("he")&&(o+="&he="+e.he),t.setAttribute("src",o),t.setAttribute("height","1"),t.setAttribute("width","1"),t.setAttribute("style","display:none"),t.setAttribute("alt",""),document.body.appendChild(t),_satellite.logger.log("3PT yahoo pixel fired with : "+n)}}catch(e){_satellite.logger.log("3PT ERROR appending yahoo image tag: "+e)}}}}},zGlobal_etp_total_optout:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return!!_satellite.getVar("zGlobal_etp_gpc_optout")||!!_satellite.getVar("zGlobal_etp_onetrust_optout")}}},zSite_alloy_prehiding_css:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return""}}},zGlobal_ds_wa_pl:{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"DS_WA_PL"}},zGlobal_util_getDataQueue:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=["events","products","contentID","intCampaignImp","offersImp","targetImp"];return{update:function(t){if("object"!=typeof t)return!1;var n=_satellite.getVar("dataQueue")||null;if(null===n)n=t;else for(var o in t)if(n[o])for(var r in t[o])if(e.indexOf(r)>-1&&n[o][r]){var i=t[o][r].split(","),a=n[o][r].split(",");for(var s in i)-1===a.indexOf(s)&&a.push(s);n[o][r]+=","+t[o][r]}else n[o][r]=t[o][r];else n[o]=t[o];_satellite.logger.info("dataQueue updated"),_satellite.logger.info(n),_satellite.setVar("dataQueue",n)},go:function(){_satellite.logger.info("Executing getDataQueue..."),window.digitalDataWAUtils||(_satellite.logger.warn("window.digitalDataWAUtils was not found -> fetching utilities again..."),window.digitalDataWAUtils=_satellite.getVar("zGlobal_utils"));var t=_satellite.getVar("dataQueue");if(void 0!==t){for(var n in t)for(var o in t[n])e.indexOf(o)>-1&&window.digitalDataWA[o]?window.digitalDataWA[o]+=","+t[n][o]:window.digitalDataWA[o]=t[n][o];_satellite.logger.info("dataQueue found - added data to new cache.  New digitalDataWA:"),_satellite.logger.info(window.digitalDataWAUtils.clone(window.digitalDataWA))}return _satellite.setVar("dataQueue",void 0),!0}}}}},zGlobal_AA_Global_Processing_PageViewOnly:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return{go:function(){_satellite.logger.info("Executing pageview only processing..."),window.digitalDataWA=window.digitalDataWA||{},window.digitalDataWA.temp=window.digitalDataWA.temp||{};var e=window.digitalDataWA||{};window.digitalDataWA&&window.digitalDataWAUtils||_satellite.logger.warn("Something is missing for zGlobal_AA_Global_Processing_PageViewOnly!!");var t=window.digitalDataWAUtils||_satellite.getVar("zGlobal_utils");_satellite.getVar("zSite_config");e.temp.previousPage=t.getCookieValue("s_prevpagename",e.pageName),_satellite.logger.info("Executing pageview only query string params..."),e.campaign&&(e.temp.campaign=e.campaign,delete e.campaign),!e.temp.campaign&&t.getQueryParam("cid,lcid")&&(e.temp.campaign=t.getQueryParam("cid,lcid")),e.temp.campaign&&(e.temp.campaign=t.getValOnce("campaign",e.temp.campaign)),e.internalSource&&(e.temp.internalSource=e.internalSource,delete e.internalSource),!e.temp.internalSource&&t.getQueryParam("intsource")&&(e.temp.internalSource=t.getQueryParam("intsource")),e.temp.internalSource&&(e.temp.internalSource=t.getValOnce("intsource",e.temp.internalSource)),t.getQueryParam("lsid")&&(e.temp.lsid=t.getQueryParam("lsid")),e.temp.lsid&&(e.temp.lsid=t.getValOnce("lsid",e.temp.lsid)),t.getQueryParam("CampIDMaj")&&(e.temp.cmpMajorMinor=t.getQueryParam("CampIDMaj"),e.temp.cmpMajorMinor&&(e.temp.cmpMajorMinor+="-"+t.getQueryParam("CampIDMin"),e.temp.cmpMajorMinor=t.getValOnce("cmpMajorMinor",e.temp.cmpMajorMinor))),t.getQueryParam("odeid")&&(e.temp.offerCTA=t.getQueryParam("odeid")),e.temp.offerCTA&&(e.temp.offerCTA=t.getValOnce("offerCTA",e.temp.offerCTA)),t.getQueryParam("acrid")&&(e.temp.acousticID=t.getQueryParam("acrid")),e.temp.acousticID&&(e.temp.acousticID=t.getValOnce("acousticID",e.temp.acousticID)),t.getQueryParam("utm_clickid")&&(e.temp.adnetID=t.getQueryParam("utm_clickid")),e.temp.adnetID&&(e.temp.adnetID=t.getValOnce("adnetID",e.temp.adnetID)),e.eloquaID&&(e.temp.eloquaID=e.eloquaID,delete e.eloquaID),!e.temp.eloquaID&&t.getQueryParam("elrid")&&(e.temp.eloquaID=t.getQueryParam("elrid")),e.temp.eloquaID&&(e.temp.eloquaID=t.getValOnce("elrid",e.temp.eloquaID))}}}}},"zGlobal_xdm.productListItems":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalDataWAposting.productsArray"}},"zGlobal_xdm.commerce.productViews.value":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.digitalDataWAposting.eventsArray.find((e=>"prodView"===e))?1:0}}},zGlobal_social_domains:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return["facebook.com","twitter.com","linkedin.com","buzzsprout.com","pinterest.com"]}}},"3pt_matrix_interaction":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.HVATags={"truist|com|home":{selectors:[".hero-btn-container a[data-wa-linkname='Learn more']",".hero-content a.btn.btn-primary.btn-lg.btn-cta[data-wa-linkname='Learn more']","[data-wa-linkname='Learn More']","#main-hero-login [data-wa-linkname='Open now']"],eventType:"click",tags:{facebook:{event:"TruistOneOfferHomePage"},pinterest:{event_name:"custom"},linkedin:{conversion_id:"16340332"}},selector_specific_tags:[{".hero-content a.btn.btn-primary.btn-lg.btn-cta[data-wa-linkname='Learn more']":{floodlight_2:{type:"landi0",cat:"truis00",cache_bust:"off"}},"[data-wa-linkname='Learn More']":{floodlight_2:{type:"landi0",cat:"truis00",cache_bust:"off"}}}]},"truist|com|care":{selectors:[".btn-global-nav[data-wa-linkname='Sign in']",".btn-global-nav[data-wa-linkname='Open Account']"],eventType:"click",tags:{},selector_specific_tags:[{".btn-global-nav[data-wa-linkname='Sign in']":{floodlight_2:{type:"care_0",cat:"truis00",u1:"",u2:document.location.pathname,cache_bust:"off"}},".btn-global-nav[data-wa-linkname='Open Account']":{floodlight_2:{type:"care_0",cat:"truis0",u1:"",u2:document.location.pathname,cache_bust:"off"}}}]},"truist|com|commercial_corporate_institutional|investment_banking":{selectors:["[data-wa-linkname='Download the Purple Paper (PDF)']"],eventType:"click",tags:{floodlight_2:{type:"landi0",cat:"truis00a",u1:"",u2:document.location.pathname,cache_bust:"off"}}},"truist|com|savings|truist_confidence_savings":{selectors:["[data-wa-linkname='Open now']"],eventType:"click",tags:{floodlight_2:{type:"appli0",cat:"truis010",cache_bust:"off",u2:document.location.pathname}}},"truist|com|savings|truist_one_savings":{selectors:["[data-wa-linkname='Open now']"],eventType:"click",tags:{floodlight_2:{type:"appli0",cat:"truis010",cache_bust:"off",u2:document.location.pathname}}},"truist|com|savings|truist_one_money_market":{selectors:["[data-wa-linkname='Open now']"],eventType:"click",tags:{facebook:{event:"MMAOpenButton"},floodlight_2:{type:"appli0",cat:"truis011",cache_bust:"off",u2:document.location.pathname}}},"truist|com|savings|truist_one_money_market|rate_tx_nj_pa":{selectors:["[data-wa-linkname='Start saving now']","[data-wa-linkname='Open now']"],eventType:"click",tags:{facebook:{event:"MMATestMarketsOpenButton"}}},"truist|com|savings|lp|money_market_account|rate_tx":{selectors:["[data-wa-linkname='Open now']"],eventType:"click",tags:{facebook:{event:"MMAOpenNowButtonClick"}}},"truist|com|checking|checking_offer":{selectors:["[data-wa-linkurl='https://deposits.digitalcommerce.truist.com/product/195']","[data-wa-linkname='Open now']","[data-wa-linkname='Get Truist One Checking']"],eventType:"click",tags:{},selector_specific_tags:[{"[data-wa-linkname='Get Truist One Checking']":{facebook:{event:"HVA",name:"deposit",cat:"checking",lp:"/checking/checking-offer"},linkedin:{conversion_url:"truist.com/checkinghvatag"},twitter:{image1:"https://analytics.twitter.com/i/adsct?txn_id=o6i5d&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0",image2:"//t.co/i/adsct?txn_id=o6i5d&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0"},yahoo:{yp:"10186305",ea:""}},"[data-wa-linkurl='https://deposits.digitalcommerce.truist.com/product/195']":{facebook:{event:"TruistOneOpenButton"},pinterest:{event_name:"custom"},linkedin:{conversion_id:"16340340"},tiktok:{event:"StartTrial"}},"[data-wa-linkname='Open now']":{floodlight_2:{type:"appli0",cat:"truis01",u2:document.location.pathname,cache_bust:"off"}}}]},"truist|com|credit_cards":{selectors:[".author-cta-styling.global-cta-btn [data-wa-linkname='Find an account']","[data-wa-linkname='Apply now']","[data-wa-linkname='Learn more']",".aem-GridColumn--default--none.aem-GridColumn.aem-GridColumn--default--24.aem-GridColumn--offset--default--0 > div > p > a"],eventType:"click",tags:{facebook:{event:"HVA",name:"CreditCards",cat:"ConsumerCreditCards",lp:document.location.pathname}}},"truist|com|credit-cards|enjoy_cash":{selectors:["[data-wa-linkname='Apply now']","[data-wa-linkname='Learn more']",".aem-GridColumn--default--none.aem-GridColumn.aem-GridColumn--default--24.aem-GridColumn--offset--default--0 > div > p > a:not(:contains('Card agreement (PDF)'))"],eventType:"click",tags:{facebook:{event:"HVA",name:"CreditCards",cat:"ConsumerCreditCards",lp:document.location.pathname}}},"truist|com|credit_cards|enjoy_travel":{selectors:["[data-wa-linkname='Apply now']","[data-wa-linkname='Learn more']",".aem-GridColumn--default--none.aem-GridColumn.aem-GridColumn--default--24.aem-GridColumn--offset--default--0 > div > p > a:not(:contains('Card agreement (PDF)'))"],eventType:"click",tags:{facebook:{event:"HVA",name:"CreditCards",cat:"ConsumerCreditCards",lp:document.location.pathname}}},"truist|com|credit_cards|future":{selectors:["[data-wa-linkname='Apply now']","[data-wa-linkname='Learn more']",".aem-GridColumn--default--none.aem-GridColumn.aem-GridColumn--default--24.aem-GridColumn--offset--default--0 > div > p > a:not(:contains('Card agreement (PDF)'))"],eventType:"click",tags:{facebook:{event:"HVA",name:"CreditCards",cat:"ConsumerCreditCards",lp:document.location.pathname}}},"truist|com|credit_cards|enjoy_beyond":{selectors:["[data-wa-linkname='Apply now']","[data-wa-linkname='Learn more']",".aem-GridColumn--default--none.aem-GridColumn.aem-GridColumn--default--24.aem-GridColumn--offset--default--0 > div > p > a:not(:contains('Card agreement (PDF)'))"],eventType:"click",tags:{facebook:{event:"HVA",name:"CreditCards",cat:"ConsumerCreditCards",lp:document.location.pathname}}},"truist|com|credit_cards|enjoy_cash_secured":{selectors:["[data-wa-linkname='Apply now']","[data-wa-linkname='Learn more']","[title='travel card disclosure']",".aem-GridColumn--default--none.aem-GridColumn.aem-GridColumn--default--24.aem-GridColumn--offset--default--0 > div > p > a:not(:contains('Card agreement (PDF)'))"],eventType:"click",tags:{facebook:{event:"HVA",name:"CreditCards",cat:"ConsumerCreditCards",lp:document.location.pathname}}},"truist|com|checking|open_checking":{selectors:["[data-wa-linkurl*='https://deposits.digitalcommerce.truist.com/product/195']"],eventType:"click",tags:{facebook:{event:"HVA",name:"deposit",cat:"checking",lp:document.location.pathname},floodlight_2:{type:"appli0",cat:"truis01",u2:document.location.pathname,cache_bust:"off"}},selector_specific_tags:[{"[data-wa-linkurl*='https://deposits.digitalcommerce.truist.com/product/195']":{facebook:{event:"TruistOneOpenButton"},pinterest:{event_name:"custom"},linkedin:{conversion_id:"16340340"}}}]},"truist|com|checking|one_simple_choice":{selectors:["[data-wa-linkurl*='https://deposits.digitalcommerce.truist.com/product/195']"],eventType:"click",tags:{floodlight_2:{type:"appli0",cat:"truis01",u2:document.location.pathname,cache_bust:"off"}}},"truist|com|mortgage|mortgage_offer":{selectors:["[href='tel:844-669-6777']","[data-wa-linkname='Apply for a mortgage']","a[href*='#calculator']","[data-wa-linkname='Know your options']","[data-wa-linkname='Check current rates']"],eventType:"click",tags:{facebook:{event:"HVA",name:"MortgageCTAClick",cat:"Mortgage",lp:"/mortgage/mortgage-offer"}},selector_specific_tags:[{"[href='tel:844-669-6777']":{gtag:{account:"1032153865",identifier:"aO0kCIPNpq4DEInWlewD"},yahoo:{yp:"10150341",ea:"calltracking"}},"[data-wa-linkname='Apply for a mortgage']":{gtag:{account:"1032153865",identifier:"nNoACLf83q4DEInWlewD"},yahoo:{yp:"10150341",ea:"apply"}},"a[href*='#calculator']":{gtag:{account:"1032153865",identifier:"LHVVCJjcpq4DEInWlewD"},yahoo:{yp:"10150341",ea:"calculator"}},"[data-wa-linkname='Check current rates']":{gtag:{account:"1032153865",identifier:"zDQGCJ_i2q4DEInWlewD"},yahoo:{yp:"10150341",ea:"checkcurrentrates"}},"[data-wa-linkname='Know your options']":{gtag:{account:"1032153865",identifier:"K4R2CLXnpq4DEInWlewD"},yahoo:{yp:"10150341",ea:"knowyouroptions"}}}]},"truist|com|digital_banking":{selectors:["[data-wa-linkname='Register now']","[data-wa-linkname='Login to get started']","[data-wa-linkname='Learn more']","[data-wa-linkname='View details']"],eventType:"click",tags:{facebook:{event:"HVA",name:"digitalbanking_hva",cat:"digital_banking",lp:"/digital-banking"},linkedin:{conversion_url:"digitalbankinghvatag"},twitter:{image1:"https://analytics.twitter.com/i/adsct?txn_id=o6i5b&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0",image2:"//t.co/i/adsct?txn_id=o6i5b&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0"}}},"truist|com|mortgage":{selectors:["[data-wa-linkname='Refinance your mortgage']","[data-wa-linkname='Get preapproved']","[data-wa-linkname='Apply now']","[data-wa-linkname='Buy a home']:not('.comparison-nav__link')"],eventType:"click",tags:{facebook:{event:"HVA",name:"MortgageCTAClick",cat:"Mortgage",lp:"/mortgage"}}},"truist|com|checking|truist_one_banking":{selectors:["[data-wa-linkurl='https://deposits.digitalcommerce.truist.com/product/195']","[data-wa-linkurl='/content/truist-bank/us/en/open-account.html']","div.herobanner [data-wa-linkname='Open now']"],eventType:"click",tags:{facebook:{event:"HVA",name:"deposit",cat:"checking",lp:"/checking/truist-one-banking"},twitter:{image1:"https://analytics.twitter.com/i/adsct?txn_id=o6i5b&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0",image2:"//t.co/i/adsct?txn_id=o6i5b&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0"}},selector_specific_tags:[{"[data-wa-linkurl='https://deposits.digitalcommerce.truist.com/product/195']":{facebook:{event:"TruistOneOpenButton"},pinterest:{event_name:"custom"},linkedin:{conversion_id:"16340340"}},"div.herobanner [data-wa-linkname='Open now']":{facebook:{event:"TruistOneOpenButton"},pinterest:{event_name:"custom"},linkedin:{conversion_id:"16340340"}}}]},"truist|com|commercial_corporate_institutional|contact_form":{selectors:["#form33"],eventType:"submit",tags:{linkedin:{conversion_url:"truist.com/ccbhvatag"}}},"truist|com|small_business|banking|checking":{selectors:["a[data-wa-linkname='Open now']"],eventType:"click",tags:{floodlight_2:{type:"appli0",cat:"truis012",cache_bust:"off",u2:document.location.pathname}}},"truist|com|small_business_banking|business_checking":{selectors:["[data-wa-productcta=';business|truist_simple_business_checking']","[data-wa-productcta=';business|truist_dynamic_business_checking ']","[data-wa-linkname='Open now']"],eventType:"click",tags:{},selector_specific_tags:[{"[data-wa-productcta=';business|truist_simple_business_checking']":{facebook:{event:"TruistSimpleBusinessChecking"}},"[data-wa-productcta=';business|truist_dynamic_business_checking ']":{facebook:{event:"TruistDynamicBusinessChecking"}},"[data-wa-linkname='Open now']":{floodlight_2:{type:"appli0",cat:"truis012",cache_bust:"off",u2:document.location.pathname}}}]},"truist|com|small_business|banking|checking|dynamic_business_checking":{selectors:["a[href='https://businessdeposits.digitalcommerce.truist.com/product/158']"],eventType:"click",tags:{facebook:{event:"TruistDynamicBusinessChecking"},tiktok:{event:"StartTrial"}}},"truist|com|small_business|banking|checking|simple_business_checking":{selectors:["[data-wa-linkname='Open now']"],eventType:"click",tags:{facebook:{event:"TruistSimpleBusinessChecking"}}},"truist|com|small_business|banking|checking_offer":{selectors:["[data-wa-linkname='Open now']"],eventType:"click",tags:{floodlight_2:{type:"appli0",cat:"truis012",cache_bust:"off",u2:document.location.pathname}}},"truist|com|small_business|banking|checking_offer1":{selectors:["[data-wa-linkname='Apply now']","[data-wa-linkname='Open now']"],eventType:"click",tags:{facebook:{event:"HVA",name:"small-business",cat:"BusinessDeposite",lp:"/lp/open-small-business-checking"},linkedin:{conversion_url:"truist.com/smallbizhvatag"},twitter:{image1:"https://analytics.twitter.com/i/adsct?txn_id=o6i5n&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0",image2:"//t.co/i/adsct?txn_id=o6i5n&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0"},floodlight_2:{type:"appli0",cat:"truis012",cache_bust:"off",u2:document.location.pathname}}},"truist|com|small_business|banking|savings_account|business_money_market_account":{selectors:["[data-wa-linkname='Open now']"],eventType:"click",tags:{floodlight_2:{type:"appli0",cat:"truis014",cache_bust:"off",u2:document.location.pathname}}},"truist|com|small_business|banking|savings_account|simple_business_savings":{selectors:["[data-wa-linkname='Open now']"],eventType:"click",tags:{floodlight_2:{type:"appli0",cat:"truis013",cache_bust:"off",u2:document.location.pathname}}},"truist|com|mortgage|correspondent_lending":{selectors:["[data-wa-linkname='LendingSpace Portal']","[data-wa-linkname='Seller Guide']","[data-wa-linkname='CRA Geocoder']"],eventType:"click",tags:{linkedin:{conversion_id:9958826}}},"truist|com|small_business|online_banking|zelle":{selectors:["[data-wa-linkname='Learn more']","[data-wa-linkname='Register now']"],eventType:"click",tags:{facebook:{event:"HVA",name:"zelle_hva",cat:"zelle",lp:"/small-business/online-banking/zelle"}}},"truist|com|wealth":{selectors:[".btn.search-btn",".btn.btn-primary.submit","[data-wa-linkname='Work with us']","[data-wa-linkurl='/finder/wealth']","[href='#find-an-advisor']"],eventType:"click",tags:{},selector_specific_tags:[{"[data-wa-linkurl='/finder/wealth']":{floodlight_2:{type:"landi0",cat:"truis00d",cache_bust:"off",u1:"",u2:document.location.pathname}},"[href='#find-an-advisor']":{floodlight_2:{type:"landi0",cat:"truis00d",cache_bust:"off",u1:"",u2:document.location.pathname}},".btn.search-btn":{floodlight_2:{type:"landi0",cat:"truis00b",cache_bust:"off",u1:"",u2:document.location.pathname}},".btn.btn-primary.submit":{floodlight_2:{type:"landi0",cat:"truis00c",cache_bust:"off",u1:"",u2:document.location.pathname}},"[data-wa-linkname='Work with us']":{floodlight_2:{type:"landi0",cat:"truis00e",cache_bust:"off",u1:"",u2:document.location.pathname}}}]},"truist|com|online_banking|paze":{selectors:["[data-wa-linkname='Sign in to get started with PAZE']"],eventType:"click",tags:{facebook:{event:"PazeButtonClick"}}}},_satellite.logger.log("the pageName is:"),_satellite.logger.log(window.digitalDataWA.pageName),HVATags[window.digitalDataWA.pageName]}}},"3pt_floodlight_2":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){try{var t,n,o=document.createElement("img");if(e.cache_bust&&"off"===e.cache_bust)_satellite.logger.log("not using cachebuster"),t="https://ad.doubleclick.net/ddm/activity/src=14781975;type="+e.type+";cat="+e.cat+";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755};ord=1?",e.hasOwnProperty("u2")&&(t="https://ad.doubleclick.net/ddm/activity/src=14781975;type="+e.type+";cat="+e.cat+";u2="+encodeURIComponent(e.u2)+";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755};ord=1?"),e.hasOwnProperty("u1")&&e.hasOwnProperty("u2")&&(t="https://ad.doubleclick.net/ddm/activity/src=14781975;type="+e.type+";cat="+e.cat+";u1="+e.u1+";u2="+encodeURIComponent(e.u2)+";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755};ord=1?"),o.setAttribute("src",t);else n=1e13*(Math.random()+""),_satellite.logger.log("using cachebuster"),t="https://ad.doubleclick.net/ddm/activity/src=14781975;type="+e.type+";cat="+e.cat+";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755};ord=1;num=",o.setAttribute("src",t+n+"?");o.setAttribute("height","1"),o.setAttribute("width","1"),o.setAttribute("style","display:none"),o.setAttribute("alt",""),document.body.appendChild(o),n?_satellite.logger.log("3PT floodlight_2 (with cachebuster) fired with: "+t+n+"?"):_satellite.logger.log("3PT floodlight_2 (without cachebuster) fired with: "+t)}catch(e){_satellite.logger.log("3PT ERROR appending floodlight_2 image tag: "+e)}}}}},"zGlobal_xdm._experience.analytics.event201to300":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(event){var waData=window.digitalDataWAposting||{};if(!waData.eventsArray||waData.eventsArray.length<1)return{};var event201to300={};return waData.eventsArray.forEach((item=>{if(!item)return;if(item.indexOf("event")<0)return;let regexArray=item.match(/(event)([^=]*)(.*)/),txt=regexArray[1];if(!txt)return;let num=regexArray[2],value=regexArray[3];Number(num)>200&&Number(num)<301&&(eval("event201to300.event"+num+"= {}"),value?eval("event201to300.event"+num+".value"+value):eval("event201to300.event"+num+".value= 1"))})),event201to300}}},"zGlobal_xdm._experience.analytics.event1to100":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(event){var waData=window.digitalDataWAposting||{};if(!waData.eventsArray||waData.eventsArray.length<1)return _satellite.logger.info("xdm._experience.analytics.event1to100: no events."),{};var event1to100={};return waData.eventsArray.forEach((item=>{if(!item)return;if(item.indexOf("event")<0)return;let regexArray=item.match(/(event)([^=]*)(.*)/),txt=regexArray[1];if(!txt)return;let num=regexArray[2],value=regexArray[3];Number(num)<101&&(eval("event1to100.event"+num+"= {}"),value?eval("event1to100.event"+num+".value"+value):eval("event1to100.event"+num+".value= 1"))})),event1to100}}},"3pt_cognitiv":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){try{var t=document.createElement("img");t.setAttribute("src",e),t.setAttribute("height","1"),t.setAttribute("width","1"),t.setAttribute("style","display:none"),t.setAttribute("alt",""),document.body.appendChild(t)}catch(e){_satellite.logger.log("3PT ERROR appending cognitiv image tag: "+e)}}}}},"zGlobal_xdm.web.webPageDetails.server":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"document.location.hostname"}},zGlobal_util_functionQueue:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.truist=_satellite.truist||{},_satellite.truist.functionQueue=_satellite.truist.functionQueue||{runFunction:function(e){_satellite.logger.info("functionQueue runFunction",e),this[e].inpFunction(),this[e].timeoutID=void 0},queueFunction:function(e,t,n){"string"==typeof e?"function"==typeof t?("number"!=typeof n&&(n=50),_satellite.logger.info("functionQueue queueFunction",e,t,n),this[e]&&"number"==typeof this[e].timeoutID&&this.cancel(e),this[e]={name:e,inpFunction:t,timeoutID:window.setTimeout(function(e){this.runFunction(e)}.bind(this),n,e)}):_satellite.logger.error("functionQueue error: bad function.",t):_satellite.logger.error("functionQueue error: bad function name.",e)},cancel:function(e){_satellite.logger.warn("functionQueue cancel",e),window.clearTimeout(this[e].timeoutID)}},_satellite.truist.functionQueue}}},"zGlobal_xdm._experience.analytics.event901to1000":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(event){var waData=window.digitalDataWAposting||{};if(!waData.eventsArray||waData.eventsArray.length<1)return{};var event901to1000={};return waData.eventsArray.forEach((item=>{if(!item)return;if(item.indexOf("event")<0)return;let regexArray=item.match(/(event)([^=]*)(.*)/),txt=regexArray[1];if(!txt)return;let num=regexArray[2],value=regexArray[3];Number(num)>900&&Number(num)<1001&&(eval("event901to1000.event"+num+"= {}"),value?eval("event901to1000.event"+num+".value"+value):eval("event901to1000.event"+num+".value= 1"))})),event901to1000}}},"3pt_deluxe":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){try{_satellite.logger.log("Deluxe base script - loading");var t=document.createElement("script");t.type="text/javascript",t.src="//ndn.statistinamics.com/cstnxtm/"+e.account+".js",document.getElementsByTagName("head")[0].appendChild(t),_satellite.logger.log("Deluxe base script - finished loading")}catch(e){_satellite.logger.log("error loading the Deluxe base script: "+e)}}}}},zGlobal_utils:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(window.digitalDataWAUtils)return window.digitalDataWAUtils;var e={getTimeParting:function(e){var t=e;if("-v"===e)return{plugin:"getTimeParting",version:"6.3"};e:{if(void 0!==window.s_c_il)for(var n,o=0;o<window.s_c_il.length;o++)if((n=window.s_c_il[o])._c&&"s_c"===n._c){o=n;break e}o=void 0}return void 0!==o&&(o.contextData.getTimeParting="6.3"),t=document.documentMode?void 0:t||"Etc/GMT",o=(new Date).toLocaleDateString("en-US",{timeZone:t,minute:"numeric",hour:"numeric",weekday:"long",day:"numeric",year:"numeric",month:"long"}),"year="+(o=/([a-zA-Z]+).*?([a-zA-Z]+).*?([0-9]+).*?([0-9]+)(.*?)([0-9])(.*)/.exec(o))[4]+" | month="+o[2]+" | date="+o[3]+" | day="+o[1]+" | time="+(o[6]+o[7])},getCookieValue:function(e,t,n){var o,r;if(!e)return"";if(o=void 0===_satellite.cookie.get(e)?"":_satellite.cookie.get(e),!t&&!n)return o;if(n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3),r=i.toUTCString()}else r=0;if(t){var a=document.location.hostname.split(".").slice(-2).join(".");document.cookie=e+"="+encodeURIComponent(t)+";expires="+r+";path=/;secure;domain="+a}return o},getQueryParam:function(e,t,n){function o(e,t){var n,o=t?0:-1;if(e&&-1!=o&&-1!=t.indexOf("="))for(var r=0,i=(n=t.substring(o+1).split("&")).length;r<i;r++){var a=n[r].indexOf("="),s=n[r].substring(0,a),l=n[r].substring(a+1);if(s.toLowerCase()===e.toLowerCase())return decodeURIComponent(l||!0)}return""}if("-v"===e)return{plugin:"getQueryParam",version:"5.0.0-IAN-EDITED"};if(e){if(((t=t||",").length>4||t.indexOf("=")>-1)&&n&&n.length<4){var r=t;t=n,n=r}n=(n||location.search)+"";for(var i,a="",s=e.split(","),l=s.length,c=0;c<l;c++)"string"==typeof(i=o(s[c],n))&&""!==i&&(a+=a?t+i:i);return a}},getValOnce:function(e,t){var n=decodeURIComponent(sessionStorage.getItem("aa_valOnce"));if(void 0===typeof n||"null"===n)return sessionStorage.setItem("aa_valOnce",encodeURIComponent(e+":"+t)),t;var o="^"+e+":",r=new RegExp(o,"g"),i=n.split(","),a=i.find((e=>r.test(e)));if(a){if(a.substring(a.indexOf(":")+1)===t)return"";var s=new RegExp(o,"g"),l=i.findIndex((e=>s.test(e)));return l>-1&&(i[l]=e+":"+t,n=i.join(","),sessionStorage.setItem("aa_valOnce",encodeURIComponent(n))),t}return i.push(e+":"+t),n=i.join(","),sessionStorage.setItem("aa_valOnce",encodeURIComponent(n)),t},getStoreValue:function(e,t){let n=sessionStorage.getItem(e),o="";return n&&(o=decodeURIComponent(n)),t&&sessionStorage.setItem(e,encodeURIComponent(t)),o},cleanCSV:function(e,t,n){var o=(e||"").split(",").filter(Boolean).filter((function(e,t,n){return t===n.indexOf(e)}));if("string"==typeof t)for(var r=o.length-1;r>=0;r--)o[r]===t&&o.splice(r,1);return n?o:""+o},cleanSProductStr:function(e){if(!e)return"";let t=e.split(",");return t.forEach(((e,n)=>{e&&-1===e.indexOf(";")&&(e=";"+e,t[n]=e)})),e=t.join(",")},cleanText:function(e){
return e=(e=(e=(e=(e=(e=(e=(e=e.toLowerCase()).replace("&amp;","&")).replace("&","&")).replace("bb&t","bbt")).replace(/^(?:\W|_)+|(?:\W|_)+$/g,"")).replace(/[^:|\-\.\w]+/g,"_")).replace(/-/g,"_")).replace(/_+/g,"_")},cleanUrl:function(e){if(e.indexOf("?")>-1){var t,n=["username=","user=","userid=","email=","emailaddress=","ssn=","jsessionid=","accountnumber="];for(t=0;t<n.length;t++)if(e.toLowerCase().indexOf(n[t])>-1){var o=new RegExp("("+n[t]+")([^&#]+)","i");e=e.replace(o,"$1[redacted]")}}return e},clone:function(e){if(null==e||"object"!=typeof e||e instanceof Element)return e;var t=new e.constructor;for(var n in e)t[n]=window.digitalDataWAUtils.clone(e[n]);return t},cloneAssign:function(e,t){if(null==e||"object"!=typeof e||e instanceof Element)return e;if(null==t||"object"!=typeof t||t instanceof Element)return e;for(var n in t)e[n]=digitalDataWAUtils.clone(t[n]);return e},convertProductStringToArray:function(e){var t=e.split(","),n=[];return t.forEach((e=>{var t=e.split(";");t[2]&&(t[2]=Number(t[2]),isNaN(t[2])&&(t[2]=1)),""===t[2]&&(t[2]=void 0),t[3]&&(t[3]=Number(t[3]),isNaN(t[3])&&(t[3]=1)),""===t[3]&&(t[3]=void 0);var o={};t[4]&&t[4].split("|").forEach((e=>{var t=e.split("=");t[0]&&t[1]&&(isNaN(Number(t[1]))?o[t[0]]={value:1}:o[t[0]]={value:Number(t[1])}),t[0]&&!t[1]&&(o[t[0]]={value:1})}));var r={};t[5]&&t[5].split("|").forEach((e=>{var t=e.split("=");t[0]&&t[1]&&(r[t[0]]=t[1])}));var i={name:t[1],SKU:t[1],quantity:t[2],priceTotal:t[3],_experience:{analytics:{customDimensions:{eVars:r},event1to100:o}}};t[1]&&n.push(i)})),n},getClosest:function(e,t){for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1});e&&e!==document;e=e.parentNode)if(e.matches(t))return e;return null},getClosestAll:function(e,t){var n=[];for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1});e&&e!==document;e=e.parentNode)e.matches(t)&&n.push(e);return n},getText:function(e){var t=e;if(e.children.length>=1){t=document.createElement("div");var n,o=e.childNodes;for(n=0;n<o.length;n++)if("span"==o[n].nodeName.toLowerCase()&&o[n].className&&o[n].className.indexOf("screen-reader-only")>-1);else{var r=o[n].cloneNode();t.appendChild(r)}}return this.cleanText(t.textContent)},searchStringForArrayValues:function(e,t){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return t[n];return""}},t=function(e){if(null==e||"object"!=typeof e||e instanceof Element)return e;var n=new e.constructor;for(var o in e)n[o]=t(e[o]);return n},n=_satellite.getVar("zSite_config");if(n&&n.utils)if(t){var o=n.utils;for(var r in o)e[r]=t(o[r]);_satellite.logger.info("zSite_config.utils -> zGlobal_utils merge was successful")}else _satellite.logger.warn("localClone is not available");return _satellite.logger.info("zGlobal_utils Data Element is now built"),e}}},zGlobal_3PT_utils:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e={execute3PT:function(e,t){var n={threePT:e};_satellite.logger.log("ev is"),_satellite.logger.log(t),t.$rule&&t.$rule.name&&(n.ruleTrigger=t.$rule.name,_satellite.logger.log("3PT object sent by rule:"+t.$rule.name),_satellite.logger.log(n.threePT),_satellite.track("threePT",n))},generateUUID:function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))},getAppName:function(e){return _satellite.getVar("3pt_app_name")(e)},generate3ptObj:function(e,t){var n="";_satellite.logger.log("newAcctAppType is:"),_satellite.logger.log(t);var o=this.getAppName(t);if(_satellite.logger.log("3pt_app_name is: "+o),e.detail&&e.detail.waData&&e.detail.waData.events&&(e.detail.waData.events.indexOf("event23")>-1||e.detail.waData.events.indexOf("event24")>-1)&&o&&e.detail.waData.products){var r=e.detail.waData.events.indexOf("event23")>-1?"event23":"event24";_satellite.logger.log("the newAcctAppType is:"+t),_satellite.logger.log("3pt test event is: "+r);var i=_satellite.getVar("3pt_matrix_new_acct")[o];if(!i)return _satellite.getVar("index "+o+" does not exist on tagging_matrix"),!1;n=i[r],_satellite.logger.log("the appObj is:"),_satellite.logger.log(n);var a=e.detail.waData.products.split(";");_satellite.logger.log("productStringArray is:"),_satellite.logger.log(a),_satellite.logger.log("tagging_matrix.products are: "),_satellite.logger.log(i.products);var s=this.productMatchesHelper(a,i.products);if(_satellite.logger.log("product matches are :"),_satellite.logger.log(s),i.hasOwnProperty("product_specific_tags")){var l=i.product_specific_tags;_satellite.logger.log("product_specific_tags are"),_satellite.logger.log(l);var c=this.productMatchesHelper(a,Object.keys(l));if(_satellite.logger.log(typeof c),_satellite.logger.log("prodMatch is : "+c),c){var d=l[c][r];return fullMapping={...n,...d},fullMapping}}return s.length>0?(_satellite.logger.log("step 0: end condition"),n):(_satellite.logger.log("step 0: no matching products found"),!1)}},interactionHandler:function(t){t.selectors.forEach((function(n){n.includes(":contains")?$(n).on("click",(function(o){if(o.detail={},o.detail.threePT=t.tags,o.detail.$rule={name:"zGlobal - 3PT - DOM R - Interaction Listeners"},e.execute3PT(o.detail.threePT,o.detail),t.selector_specific_tags&&t.selector_specific_tags[0][n]){var r={detail:{threePT:t.selector_specific_tags[0][n],$rule:{name:"zGlobal - 3PT - DOM R - Interaction Listeners"}}};e.execute3PT(r.detail.threePT,r.detail)}})):document.querySelectorAll(n).forEach((function(o){o.addEventListener(t.eventType,(function(){var o={detail:{threePT:t.tags,$rule:{name:"zGlobal - 3PT - DOM R - Interaction Listeners"}}};if(e.execute3PT(o.detail.threePT,o.detail),t.selector_specific_tags&&t.selector_specific_tags[0][n]){var r={detail:{threePT:t.selector_specific_tags[0][n],$rule:{name:"zGlobal - 3PT - DOM R - Interaction Listeners"}}};e.execute3PT(r.detail.threePT,r.detail)}}))}))}))},productMatchesHelper:function(e,t){for(var n=0;n<e.length;n++)for(var o=0;o<t.length;o++)if(e[n]===t[o])return e[n]},timestamp:function(){return Math.floor(Date.now()/1e3).toString()}};return e}}},zGlobal_analyticsDatasetId:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return(_satellite.getVar("zSite_AA_alloyConfig")||{}).getAnalyticsDatasetId()||""}}},zGlobal_etp_onetrust_optout:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.OptanonActiveGroups;if(_satellite.logger.info("DE: zGlobal_etp_onetrust_optout: oneTrustAG origially is: "+e),e&&",,"!==e)return _satellite.logger.info("DE: zGlobal_etp_onetrust_optout: oneTrustAG found with valid info: "+e),e.indexOf("SPD_BG")>-1||e.indexOf("C0004")>-1||e.indexOf("C0005")>-1?(_satellite.logger.info("DE: zGlobal_etp_onetrust_optout: false"),!1):(_satellite.logger.info("DE: zGlobal_etp_onetrust_optout: true"),!0);",,"===e&&_satellite.logger.info("DE: zGlobal_etp_onetrust_optout: oneTrustAG found with bad info: "+e),e||_satellite.logger.info("DE: zGlobal_etp_onetrust_optout: no oneTrustAG, getting cookie...");var t=_satellite.cookie.get("OptanonConsent");return!(!t||!t)&&(_satellite.logger.info("DE: zGlobal_etp_onetrust_optout: oneTrustCookie found with valid info: "+t),t.indexOf("SPD_BG:1")>-1||t.indexOf("C0004:1")>-1||t.indexOf("C0005:1")>-1?(_satellite.logger.info("DE: zGlobal_etp_onetrust_optout: false"),!1):(_satellite.logger.info("DE: zGlobal_etp_onetrust_optout: true"),!0))}}},zGlobal_alloyConfig:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(_satellite.truist=_satellite.truist||{},_satellite.truist.alloyConfig)return _satellite.truist.alloyConfig;var e=_satellite.getVar("zSite_config"),t=e.prodHosts||[],n=e.prdrHosts||[],o={},r="aep_ss",i=r+"a",a=r+"b",s=[i,a],l=function(){return s},c=function(e){return s=s.concat(e)},d=function(){var e=!1;return t.indexOf(window.location.hostname)>-1&&(e="production"===_satellite.environment.stage),n.indexOf(window.location.hostname)>-1&&(e=!1),e},u=d(),g=function(){if(d())return"prod";var e=sessionStorage.getItem(i)||"";if(!e){for(var t=0,o=n.length,r=!1;t<o&&!(r=-1!==window.location.hostname.indexOf(n[t]));t++);e=r?"prdr":"itca",sessionStorage.setItem(i,e)}return e},m=function(e){if(!u){console.log('Test any of the following environments: "prod", "prdr", "play", "acs", or "itca". All other inputs will fail.');var t=["prod","prdr","play","acs","itca"];"string"==typeof e&&(e=e.toLowerCase(),-1!==t.indexOf(e)&&(sessionStorage.setItem(i,e),console.log("Environment set. To take effect refresh page once in the app.")))}},p=function(e){return"string"==typeof e&&o[e]&&o[e][g()]||""},f=function(){return o},h=function(){return _satellite.getVar("zGlobal_datastreamID")},b=function(){var e=sessionStorage.getItem(a);return u||"string"!=typeof e?void 0:JSON.parse(e)},v=function(e){console.log('Test any of the following cdata variables: "truistCIF", "hSTICIN", "clientView", or "customerProfile". All other inputs will fail.','Example: setUserData({"hSTICIN":"0123456789"})'),u||"object"!=typeof e||sessionStorage.setItem(a,JSON.stringify(offersUserData))},y=function(){if("object"==typeof s)for(var e=0,t=s.length;e<t;e++)sessionStorage.removeItem(s[e])};return _satellite.truist.alloyConfig={getSessionStorageVars:l,addSessionStorageVars:c,getDatasetId:p,getDatasetMap:f,getEdgeId:h,getEnvironment:g,setEnvironment:m,getUserData:b,setUserData:v,resetConfig:y},_satellite.truist.alloyConfig}}},zGlobal_AA_Global_Processing:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return{go:function(e,t,n){_satellite.logger.info("***DataElement zGlobal_AA_Global_Processing: Currently processing...***"),window.digitalDataWA=window.digitalDataWA||{},window.digitalDataWA.temp=window.digitalDataWA.temp||{};var o=window.digitalDataWA||{};window.digitalDataWApre=window.digitalDataWApre||[],window.digitalDataWA&&window.digitalDataWAUtils||_satellite.logger.warn("Something is missing for zGlobal_AA_Global_Processing!!");var r=window.digitalDataWAUtils||_satellite.getVar("zGlobal_utils"),i=_satellite.getVar("zSite_config");(n&&(o=r.cloneAssign(o,n)),_satellite.getVar("dataQueue"))&&_satellite.getVar("zGlobal_util_getDataQueue").go();o.temp.eventType=e||"unknown",o.temp.events=o.temp.events||"",o.events&&(o.temp.events+=","+o.events,o.events=""),o.debugAnalytics||(o.debugAnalytics=""),o.temp.debugAnalytics||(o.temp.debugAnalytics=""),o.temp.debugETP||(o.temp.debugETP="");for(const e in o)null===o[e]&&(delete o[e],o.temp.debugAnalytics+=", GP_error: waData."+e+" is null",_satellite.logger.warn("Processing Error: waData."+e+" is null!"));o.eventType&&(o.eventType!==e&&(_satellite.logger.warn("waData eventType is invalid - logging this to debugAnalytics, but not providing it in the record"),o.debugAnalytics+=",ERROR invalid root-level waData.eventType was given to GP: "+o.eventType,delete o.eventType),o.eventType===e&&(_satellite.logger.info("waData eventType was provided in the original dataLayer - but correctly matches the global processing eventType... Cleaning up..."),delete o.eventType)),o.alloyVersion=_satellite.getVar("alloyVersion"),o.ecid=o.ecid||_satellite.getVar("ECID"),o.ecid||(o.debugAnalytics+=",no_ecid"),o.server=document.location.hostname,window.location.search&&(o.queryString=r.cleanUrl(window.location.search)),o.cleanURL=r.cleanUrl([window.location.protocol,"//",window.location.host,window.location.pathname].join("")),window.navigator&&(o.browserLanguage=window.navigator.language),o.pageName=_satellite.getVar("zGlobal_pageName"),o.pageName&&(o.siteSection1=o.pageName.substring(0,o.pageName.indexOf("|"))),o.pageName&&(o.siteSection2=o.pageName.substring(0,o.pageName.indexOf("|",o.pageName.indexOf("|")+1))),o.pageName&&(o.channel=o.pageName.substring(0,o.pageName.indexOf("|")));var a=new Date;o.temp.timestampUTC=a.toISOString(),o.temp.timeParting=r.getTimeParting("America/New_York"),o.library=_satellite.property.name+"|"+_satellite.environment.stage+"|"+_satellite.buildInfo.buildDate,o.library=r.cleanText(o.library),o.marTechV=o.marTechV||"no_martech","no_martech"===o.marTechV&&window.marTech&&window.marTech.version&&(o.marTechV=window.marTech.version),o.aepSyncOverride=o.aepSyncOverride||i.aepSyncOverride||"none",o.zGlobalVersion=o.zGlobalVersion||i.zGlobalVersion||"unknown",o.trigger&&(o.temp.trigger=o.trigger,delete o.trigger),o.temp.trigger||(o.temp.trigger=t.$rule.name,o.temp.trigger=r.cleanText(o.temp.trigger));var s="in",l="in",c="in";if(_satellite.getVar("zGlobal_etp_gpc_optout")&&(s="out"),_satellite.getVar("zGlobal_etp_onetrust_optout")&&(l="out"),_satellite.getVar("zGlobal_etp_total_optout")&&(c="out"),o.etpSettings="gpc:"+s+",ot:"+l+",total:"+c,"sync_off"===o.aepSyncOverride&&(o.etpSettings=o.etpSettings+",aepSyncOverride:out"),"sync_on"===o.aepSyncOverride&&(o.etpSettings=o.etpSettings+",aepSyncOverride:in"),o.intCampaign&&(o.temp.intCampaign=o.intCampaign,delete o.intCampaign),!o.temp.intCampaign&&r.getQueryParam("icid")&&(o.temp.intCampaign=r.getQueryParam("icid")),o.temp.intCampaign&&(o.temp.intCampaign=r.getValOnce("intCampaign",o.temp.intCampaign)),o.temp.intCampaign&&(o.temp.events+=",event6"),o.intCampaignImp&&(o.temp.intCampaignImp=o.intCampaignImp,o.intCampaignImp="",o.temp.contentList1?o.temp.contentList1+=",":o.temp.contentList1="",o.temp.contentList1+=o.temp.intCampaignImp),o.contentList1&&(o.temp.contentList1?o.temp.contentList1+=","+o.contentList1:o.temp.contentList1=o.contentList1,delete o.contentList1),o.contentDefaultImp&&(o.temp.contentDefaultImp=o.contentDefaultImp,delete o.contentDefaultImp,o.temp.contentList1?o.temp.contentList1+=",":o.temp.contentList1="",o.temp.contentList1+=o.temp.contentDefaultImp,o.temp.events+=",event21"),o.contentDefaultClk&&(o.temp.contentDefaultClk=o.contentDefaultClk,delete o.contentDefaultClk),o.temp.contentDefaultClk&&(o.temp.contentList1=o.temp.contentDefaultClk,o.temp.events+=",event22"),o.offersImp&&(o.temp.offersImp=o.offersImp,delete o.offersImp,o.temp.contentList1?o.temp.contentList1+=",":o.temp.contentList1="",o.temp.contentList1+=o.temp.offersImp),o.offerClk&&(o.temp.offerClk=o.offerClk,delete o.offerClk),o.temp.offerClk&&(o.temp.contentList1=o.temp.offerClk),o.offerCTA&&(o.temp.offerCTA=o.offerCTA,delete o.offerCTA),o.temp.offerCTA&&(o.temp.contentList1=o.temp.offerCTA),o.targetImp&&(o.temp.targetImp=o.targetImp,delete o.targetImp,o.temp.contentList1?o.temp.contentList1+=",":o.temp.contentList1="",o.temp.contentList1+=o.temp.targetImp),o.targetClk&&(o.temp.targetClk=o.targetClk,delete o.targetClk),o.temp.targetClk&&(o.temp.contentList1=o.temp.targetClk),o.list2&&(o.temp.list2=o.list2,delete o.list2),o.products&&(o.temp.products=o.products,delete o.products),o.prodView&&(o.temp.prodView=o.prodView,delete o.prodView),o.temp.prodView&&(o.temp.products=o.temp.prodView,o.temp.events+=",prodView"),o.productCTA&&(o.temp.productCTA=o.productCTA,delete o.productCTA),o.temp.productCTA&&(o.temp.products=o.temp.productCTA,o.temp.events+=",event59"),o.transactionID&&(o.temp.transactionID=o.transactionID,delete o.transactionID),i.toggleLogin&&!0===i.toggleLogin){var d=_satellite.getVar("zGlobal_ds_wa_pl"),u=_satellite.getVar("zGlobal_ds_wa_pl_wac")||sessionStorage.getItem("ds_wa_pl_wac");if(d&&(!u||d!==u)){_satellite.logger.info("GP: Login detected - Adding event and login method");var g="";var m=/~lm:(.*)~/.exec(d);null!==m&&m[1]&&"p"===(g=m[1])&&(g="password"),o.temp.loginMethod=g||"unknown",o.temp.loginMethod=i.site+"|"+o.temp.loginMethod,o.temp.events+=",event35",sessionStorage.setItem("ds_wa_pl_wac",d);var p="ds_wa_pl_wac="+encodeURI(d)+";domain="+encodeURI(document.location.hostname)+";path=/;secure";document.cookie=p}}if(o.loginMethod&&(o.temp.loginMethod=o.loginMethod,delete o.loginMethod),o.profileFlowName&&(o.temp.profileFlowName=o.profileFlowName,delete o.profileFlowName),(o.profileFlowInfo||o.profileInfo)&&(o.profileFlowInfo?(o.temp.profileFlowInfo=o.profileFlowInfo,delete o.profileFlowInfo):o.profileInfo&&(o.temp.profileFlowInfo=o.profileInfo,delete o.profileInfo)),o.toolFlowName&&(o.temp.toolFlowName=o.toolFlowName,delete o.toolFlowName),(o.toolFlowInfo||o.toolInfo)&&(o.toolFlowInfo?(o.temp.toolFlowInfo=o.toolFlowInfo,delete o.toolFlowInfo):o.toolInfo&&(o.temp.toolFlowInfo=o.toolInfo,delete o.toolInfo)),o.serviceFlowName&&(o.temp.serviceFlowName=o.serviceFlowName,delete o.serviceFlowName),(o.serviceFlowInfo||o.serviceInfo)&&(o.serviceFlowInfo?(o.temp.serviceFlowInfo=o.serviceFlowInfo,delete o.serviceFlowInfo):o.serviceInfo&&(o.temp.serviceFlowInfo=o.serviceInfo,delete o.serviceInfo)),o.securityFlowName&&(o.temp.securityFlowName=o.securityFlowName,delete o.securityFlowName),(o.securityFlowInfo||o.securityInfo)&&(o.securityFlowInfo?(o.temp.securityFlowInfo=o.securityFlowInfo,delete o.securityFlowInfo):o.securityInfo&&(o.temp.securityFlowInfo=o.securityInfo,delete o.securityInfo)),o.truistCIF&&"string"!=typeof o.truistCIF&&(o.temp.debugAnalytics+=", warning: truistCIF is not string (converting it to string...)",o.truistCIF=""+o.truistCIF),o.newAcctExpType&&-1!=o.newAcctExpType.indexOf("teammate")&&delete o.truistCIF,-1!=o.pageName.indexOf("truist|digital_commerce_tm")&&delete o.truistCIF,o.trigger&&(o.temp.trigger=o.trigger,delete o.trigger),o.error&&(o.temp.systemError=o.error,delete o.error),o.temp.error&&(o.temp.systemError=o.temp.error,delete o.temp.error),o.systemError&&(o.temp.systemError=o.systemError,delete o.systemError),o.temp.systemError&&(o.temp.systemError=r.cleanText(o.temp.systemError),o.temp.events+=",event50"),o.validationError&&(o.temp.validationError=o.validationError,delete o.validationError),o.temp.validationError&&(o.temp.validationError=r.cleanText(o.temp.validationError),o.temp.events+=",event69"),o.searchResults&&(o.temp.searchResults=o.searchResults,delete o.searchResults),o.searchInfo&&(o.temp.searchInfo=o.searchInfo,delete o.searchInfo),o.searchTerm&&(o.temp.searchTerm=o.searchTerm,delete o.searchTerm),o.searchType&&(o.temp.searchType=o.searchType,delete o.searchType),o.newAcctNoofProducts&&(o.temp.newAcctNoofProducts=o.newAcctNoofProducts,delete o.newAcctNoofProducts),o.newAcctProductCrosssell&&(o.temp.newAcctProductCrosssell=o.newAcctProductCrosssell,delete o.newAcctProductCrosssell),o.newAcctExtraInfo&&(o.temp.newAcctExtraInfo=o.newAcctExtraInfo,delete o.newAcctExtraInfo),o.enrollmentType&&(o.temp.enrollmentType=o.enrollmentType,delete o.enrollmentType),o.enrollmentInfo&&(o.temp.enrollmentInfo=o.enrollmentInfo,delete o.enrollmentInfo),o.newAcctFundingType&&(o.temp.newAcctFundingType=o.newAcctFundingType,delete o.newAcctFundingType),o.newAcctAuthFlow&&(o.temp.newAcctAuthFlow=o.newAcctAuthFlow,delete o.newAcctAuthFlow),o.newAcctAppTerm&&(o.temp.newAcctAppTerm=o.newAcctAppTerm,delete o.newAcctAppTerm),o.newAcctBalTrxType&&(o.temp.newAcctBalTrxType=o.newAcctBalTrxType,delete o.newAcctBalTrxType),o.newAcctTMTGroup&&(o.temp.newAcctTMTGroup=o.newAcctTMTGroup,delete o.newAcctTMTGroup),o.newAcctContactType&&(o.temp.newAcctContactType=o.newAcctContactType,delete o.newAcctContactType),o.overlayName&&(o.temp.overlayName=o.overlayName,delete o.overlayName),o.fieldTrackingName&&(o.temp.fieldTrackingName=o.fieldTrackingName,delete o.fieldTrackingName),o.temp.fieldTrackingName&&(o.temp.events+=",event73"),o.transactionFlowName&&(o.temp.transactionFlowName=o.transactionFlowName,delete o.transactionFlowName),o.transactionFlowID&&(o.temp.transactionFlowID=o.transactionFlowID,delete o.transactionFlowID),o.transactionFromToAccts&&(o.temp.transactionFromToAccts=o.transactionFromToAccts,delete o.transactionFromToAccts),o.transactionFlowInfo&&(o.temp.transactionFlowInfo=o.transactionFlowInfo,o.transactionFlowInfo=""),o.locatorSearchType&&(o.temp.locatorSearchType=o.locatorSearchType,delete o.locatorSearchType),o.locatorSearchTerm&&(o.temp.locatorSearchTerm=o.locatorSearchTerm,delete o.locatorSearchTerm),o.locatorSearchExtraInfo&&(o.temp.locatorSearchExtraInfo=o.locatorSearchExtraInfo,delete o.locatorSearchExtraInfo),o.notificationName&&(o.temp.notificationName=o.notificationName,delete o.notificationName),o.temp.notificationName){let e=o.temp.notificationName.split(",");e.forEach((function(t,n){e[n]=r.cleanText(t)})),o.temp.notificationName=e.toString()}o.insightID&&(o.temp.insightID=o.insightID,delete o.insightID),o.workCode&&(o.temp.workCode=o.workCode,delete o.workCode),o.secureMessageID&&(o.temp.secureMessageID=o.secureMessageID,delete o.secureMessageID),o.secureMessageSubject&&(o.temp.secureMessageSubject=o.secureMessageSubject,delete o.secureMessageSubject),o.promoCenterQualDetails&&(o.temp.promoCenterQualDetails=o.promoCenterQualDetails,delete o.promoCenterQualDetails),"true"===sessionStorage.getItem("aep_debug")&&(o.testFlag=o.testFlag?o.testFlag+",aep_debug":"aep_debug"),"true"===sessionStorage.getItem("waData_debug")&&(o.testFlag=o.testFlag?o.testFlag+",waData_debug":"waData_debug"),o.testFlag&&(o.temp.testFlag=o.testFlag,delete o.testFlag),o.debugAnalytics&&(o.temp.debugAnalytics?o.temp.debugAnalytics+=", "+o.debugAnalytics:o.temp.debugAnalytics=o.debugAnalytics,delete o.debugAnalytics),o.debugTarget&&(o.temp.debugTarget=o.debugTarget,delete o.debugTarget),o.debugOffers&&(o.temp.debugOffers=o.debugOffers,delete o.debugOffers),o.debug3PT&&(o.temp.debug3PT=o.debug3PT,delete o.debug3PT),o.temp.debugAEP="domain:"+_satellite.getVar("zGlobal_edgeDomain")+",datastream:"+_satellite.getVar("zGlobal_datastreamID")+",dataset:"+_satellite.getVar("zGlobal_analyticsDatasetId"),o.debugAEP&&(o.temp.debugAEP+=","+o.debugAEP,delete o.debugAEP),o.debugETP&&(o.temp.debugETP=","+o.debugETP,delete o.debugETP);let f=document.querySelector('[href="https://privacycenter.truist.com"]')?"yes":"no",h=document.querySelector('script[src^="https://cdn.cookielaw.org/consent/"]')?"yes":"no",b=document.querySelector(".ot-sdk-show-settings")?"yes":"no",v=window.OptanonActiveGroups?"yes":"no",y=_satellite.cookie.get("OptanonConsent")?"yes":"no";(o.temp.debugETP=",privacyLink:"+f+",onetrustInclude:"+h+",onetrustLink:"+b+",onetrustWindowObj:"+v+",onetrustCookie:"+y,o.videoTitle&&(_satellite.logger.log("inside video tracking set vars"),o.temp.videoTitle=o.videoTitle,delete o.videoTitle),o.videoSegment&&(_satellite.logger.log("setting video segment"),o.temp.videoSegment=o.videoSegment,delete o.videoSegment),o.videoContentType&&(_satellite.logger.log("setting video content type"),o.temp.videoContentType=o.videoContentType,delete o.videoContentType),o.linkName&&(o.temp.linkName=o.linkName,delete o.linkName),o.linkURL&&(o.temp.linkURL=o.linkURL,delete o.linkURL),o.linkType&&(o.temp.linkType=o.linkType,delete o.linkType),o.temp.linkName&&!o.temp.linkType&&(o.temp.linkType="navigation"),"navigation"===o.temp.linkType&&o.temp.linkURL&&/(^http)/.test(o.temp.linkURL)&&!r.searchStringForArrayValues(new URL(o.temp.linkURL).hostname,_satellite.getVar("zGlobal_truist_domains"))&&(r.searchStringForArrayValues(new URL(o.temp.linkURL).hostname,_satellite.getVar("zGlobal_social_domains"))?(_satellite.logger.info("social network link detected. changing linkType to social..."),o.temp.linkType="social"):(_satellite.logger.info("exit link detected. changing linkType to exit..."),o.temp.linkType="exit")),o.temp.linkURL&&/^(tel:|mailto:)/.test(o.temp.linkURL)&&(o.temp.linkType=/(^tel:)/.test(o.temp.linkURL)?"phone":"email"),o.linkPosition&&(o.temp.linkPosition=o.linkPosition,delete o.linkPosition),null!==o.linkPosition&&null!==o.temp.linkPosition||(void 0!==o.linkPosition&&delete o.linkPosition,o.temp.linkPosition="null",_satellite.logger.warn("Processing Erorr: linkPosition is not a string!"),o.temp.debugAnalytics="warning: linkPosition is not string (null)"),o.linkPage&&(o.temp.linkPage=o.linkPage,delete o.linkPage),!o.temp.linkPage&&o.pageName&&o.temp.linkName&&(o.temp.linkPage=o.pageName),o.linkCategory&&(o.temp.linkCategory=o.linkCategory,delete o.linkCategory),o.fileDownloadName&&(o.temp.fileDownloadName=o.fileDownloadName,delete o.fileDownloadName),!o.temp.fileDownloadName&&"download"===o.temp.linkType&&o.temp.linkName&&(o.temp.fileDownloadName=o.temp.linkName),o.linkExtraInfo&&(o.temp.linkExtraInfo=o.linkExtraInfo,delete o.linkExtraInfo),(null===o.linkExtraInfo||null===o.temp.linkExtraInfo||void 0!==o.temp.linkExtraInfo&&"string"!=typeof o.temp.linkExtraInfo)&&(void 0!==o.linkExtraInfo&&delete o.linkExtraInfo,o.temp.linkExtraInfo="null",_satellite.logger.warn("Processing Erorr: linkExtraInfo is not a string!"),o.temp.debugAnalytics="warning: linkExtraInfo is not a string"),o.temp.linkName&&(o.events&&(o.events=r.cleanCSV(o.events,"event11"),o.events=r.cleanCSV(o.events,"event13")),o.temp.events&&(o.temp.events=r.cleanCSV(o.temp.events,"event11"),o.temp.events=r.cleanCSV(o.temp.events,"event13")),"download"===o.temp.linkType?o.temp.events+=",event12,event52":"exit"===o.temp.linkType?o.temp.events+=",event13,event52":"interaction"===o.temp.linkType?o.temp.events+=",event49,event52":"social"===o.temp.linkType?o.temp.events+=",event51,event52":"phone"===o.temp.linkType?o.temp.events+=",event56,event52":"email"===o.temp.linkType?o.temp.events+=",event57,event52":o.temp.events+=",event11,event52"),"web.webpagedetails.pageViews"===e||"1"===o.pageView)&&_satellite.getVar("zGlobal_AA_Global_Processing_PageViewOnly").go();o.temp.products&&(o.temp.products=r.cleanSProductStr(o.temp.products)),o.temp.products&&!o.temp.productsArray&&(o.temp.productsArray=r.convertProductStringToArray(o.temp.products)),o.events&&(o.temp.events+=","+o.events,o.events=""),o.temp.events?(o.temp.events=r.cleanCSV(o.temp.events),o.temp.eventsArray=o.temp.events.split(",")):o.temp.eventsArray=[],window.digitalDataWApre.push(r.clone(o));var _=r.clone(o);delete(_=r.cloneAssign(_,_.temp)).temp,o.temp={},_satellite.logger.info("***DataElement zGlobal_AA_Processing: Processing Completed.***"),_satellite.track("Analytics_Post",{triggerEvent:t,waData:_})}}}}},zGlobal_pageName:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="";window.digitalDataWA=window.digitalDataWA||{};var t=window.digitalDataWA;if(t.pageName)return e=t.pageName,_satellite.logger.info("zGlobal_pageName: cache detected: pageName= "+e),e;window.digitalDataWAUtils=window.digitalDataWAUtils||_satellite.getVar("zGlobal_utils");var n,o,r,a=window.digitalDataWAUtils,s=_satellite.getVar("xSite_pageName");if("string"==typeof s){if(_satellite.logger.info("xSite_pageName Data Element is available. Using that value."),""!==s)return e=s,e=a.cleanText(e),t.pageName=e,_satellite.logger.info("pageName derived from the Data Element xSite_pageName: "+e),e;_satellite.logger.info("*****xSite_pageName IS blank!*****")}else void 0!==s&&_satellite.logger.warn("*****xSite_pageName is "+typeof s+"!*****");if(window.glbPageData&&window.glbPageData.pageName)return e=window.glbPageData.pageName,e=a.cleanText(e),t.pageName=e,_satellite.logger.info("pageName derived from glbPageData.pageName: "+e),e;if(e="",n="|",r="home",(o=window.location.pathname.toLowerCase()).length>1){var l=o.split("/");for(i=1;i<l.length;i++)null!=l[i]&&""!=l[i]&&(e+=n,e+=l[i]);e=a.cleanText(e).replace(/(\.|\?).*/,""),e=_satellite.getVar("zSite_config").site+n+e}else e=_satellite.getVar("zSite_config").site+n+r;return _satellite.logger.info("pageName fallback used: pageName= "+e),t.pageName=e,e}}},"3pt_gtag":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){try{gtag("event","conversion",{send_to:"AW-"+e.account+"/"+e.identifier}),"377173270"===e.account?_satellite.logger.log("3PT Youtube fired with: AW-"+e.account+"/"+e.identifier):_satellite.logger.log("3PT Gtag fired with : AW-"+e.account+"/"+e.identifier)}catch(e){_satellite.logger.log("3PT ERROR firing Gtag or Youtube script: "+e)}}}}},zGlobal_util_getWAData:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return{getFieldData:function(e){_satellite.logger.info("zGlobal_util_getWAData.getFieldData is executing..."),window.digitalDataWA=window.digitalDataWA||{},window.digitalDataWA.temp=window.digitalDataWA.temp||{},window.digitalDataWAUtils=window.digitalDataWAUtils||_satellite.getVar("zGlobal_utils");var t=window.digitalDataWAUtils;if(!t.getClosest||!t.getClosestAll||!t.cleanText)return _satellite.logger.warn("Required Utilities Are Missing!  Abort everything."),!1;var n="";e.getAttribute("data-wa-fieldname")?(n=e.getAttribute("data-wa-fieldname"),n=t.cleanText(n)):n="unknown",window.digitalDataWA.temp.fieldTrackingName=n},getLinkData:function(e){if(void 0===e)return!1;_satellite.logger.info("zGlobal_util_getWAData.getLinkData is executing..."),window.digitalDataWA=window.digitalDataWA||{},window.digitalDataWA.temp=window.digitalDataWA.temp||{},window.digitalDataWAUtils=window.digitalDataWAUtils||_satellite.getVar("zGlobal_utils");var t=window.digitalDataWAUtils;if(!t.getClosest||!t.getClosestAll||!t.cleanText)return _satellite.logger.warn("Required Utilities Are Missing!  Abort everything."),!1;var n="",o="",r="",i="",a="",s="",l="",c="",d="",u="",g="",m=function(n){for(var o=0,r=n.length,i=null;o<r;o++)if(i=t.getClosest(e,"["+n[o]+"]")){var a=i.getAttribute(n[o]);if(a)return a}return""};o=m(["data-wa-linkurl","href","onclick"])||"unknown",r=m(["data-wa-linktype"]),r=t.cleanText(r);var p=t.getClosestAll(e,"[data-wa-component]");if(p){for(var f=p.length-1;f>=0;f--)i&&(i+="|"),i+=p[f].getAttribute("data-wa-component"),"search_results"==p[f].getAttribute("data-wa-component")&&(window.digitalDataWA.events?window.digitalDataWA.events+=",event60":window.digitalDataWA.events=",event60");if(i){var h=i.split("|"),b=h.length;for(f=0;f<b;f++)h[f]&&(h[f]=h[f].replace(/^[_\s]+|[_\s]+$/gm,""));i=h.join("|"),i=t.cleanText(i)}}if(e.getAttribute("data-wa-linkname")?(a=e.getAttribute("data-wa-linkname"),a=t.cleanText(a)):e.innerText||e.textContent?(a=(a=e.innerText||e.textContent).trim(),a=t.cleanText(a)):a="unknown",s=m(["data-wa-linkcategory"]),s=t.cleanText(s),(e.getAttribute("data-wa-filedownloadname")||"download"===r&&a)&&(c=e.getAttribute("data-wa-filedownloadname")||a,c=t.cleanText(c)),l=e.getAttribute("data-wa-linkextrainfo")||""){for(var v=l.split(","),y=0,_=v.length;y<_;y++)v[y]&&(v[y]=t.cleanText(v[y]));l=v.join(",")}d=m(["data-wa-productcta"]),(u=m(["data-wa-targettrackingid"]))&&(n+=",event22"),g=m(["data-wa-contentdefaultid"]),window.digitalDataWA.temp.linkURL=o,window.digitalDataWA.temp.linkType=r,window.digitalDataWA.temp.linkPosition=i,window.digitalDataWA.temp.linkPage=_satellite.getVar("zGlobal_pageName")||"",window.digitalDataWA.temp.linkName=a,window.digitalDataWA.temp.linkCategory=s,window.digitalDataWA.temp.fileDownloadName=c,window.digitalDataWA.temp.linkExtraInfo=l,window.digitalDataWA.temp.productCTA=d,window.digitalDataWA.temp.targetClk=u,window.digitalDataWA.temp.contentDefaultClk=g,n&&(window.digitalDataWA.temp.events=(window.digitalDataWA.temp.events||"")+n)},getFormSubmitData:function(e){_satellite.logger.info("zGlobal_util_getWAData.getFormSubmitData is executing..."),window.digitalDataWA=window.digitalDataWA||{},window.digitalDataWA.temp=window.digitalDataWA.temp||{},window.digitalDataWAUtils=window.digitalDataWAUtils||_satellite.getVar("zGlobal_utils");var t=window.digitalDataWAUtils;if(!t.getClosest||!t.getClosestAll||!t.cleanText)return _satellite.logger.warn("Required Utilities Are Missing!  Abort everything."),!1;var n="";e.getAttribute("data-wa-formname")?(n=e.getAttribute("data-wa-formname"),n=t.cleanText(n)):n="unknown";var o=_satellite.getVar("zSite_config").site;window.digitalDataWA.temp.toolFlowName=o+"|forms|"+n,window.digitalDataWA.temp.events="event39"}}}}},zSite_AT_alloyConfig:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("zGlobal_alloyConfig");if(!e)return _satellite.error("MISSING DE zGlobal_alloyConfig!"),!1;if(e.target_extended)return e;e.getDatasetMap().target={play:"62728c38496dbc194908995b",itca:"631263e02185d11c07d432e1",prdr:"63755c9b078be51c0755e513",prod:"6377b4a36f3d141c08a12a01"};var t={play:"b5df5058-8392-9242-1c5b-4a54bdc935b1",itca:"b5df5058-8392-9242-1c5b-4a54bdc935b1",prdr:"b5df5058-8392-9242-1c5b-4a54bdc935b1",prod:"062dbe94-7604-9e00-1f2e-75addeb37fc2"
},n="at",o="trackingElements",r="prefetchMboxes",i="target_requests_data",a="zGlobal_target_requests_xdm",s="alloy_target_results",l="data-wa-track-clk",c=".at-tracking-element",d="--",u="data-wa-targettrackingid",g=["activity.id","option.id","experience.id","experience.trafficAllocationType","offer.id"],m="alloy-prehide",p=3e3,f="target_prehide_timeout_expired",h=1,b="target_mbox_parameters";return e.getTargetUtilVars=function(){return[n,o,r,i,a,s,l,c,d,u,g,m,p,f,h,b]},e.getTargetDatasetId=function(){return e.getDatasetId("target")},e.getTargetProperty=function(){return t[e.getEnvironment()]||""},e.target_extended=!0,e}}},zGlobal_target_requests_xdm:{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{name:"target_request",type:"other",linkClicks:{value:1}}}},sandbox:{name:"itca"}}},getVOCEnvir:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t="dev",n=location.hostname.toLowerCase(),o=_satellite.getVar("zSite_config").prodHosts;for(e=0;e<o.length;e++)n===o[e]&&"production"===_satellite.buildInfo.environment&&(t="prod");return t}}},"zGlobal_xdm.web.webInteraction.name":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.digitalDataWAposting;return e.linkName?e.linkName:"web.webinteraction.linkClicks"===e.eventType?"":void 0}}},"3pt_matrix_LP":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return{"truist|com|home":{gtag:{account:"1032153865",identifier:"PdvKCJzwsvsCEInWlewD"}},"truist|com|care":{floodlight_2:{type:"care_0",cat:"truis000",u2:document.location.pathname,cache_bust:"off"}},"truist|com|checking|truist_one_banking":{gtag:{account:"1032153865",identifier:"GtGpCMr3svsCEInWlewD"},floodlight_2:{type:"landi0",cat:"truis00r",u2:document.location.pathname,cache_bust:"off"}},"truist|com|checking|one_simple_choice":{impact:{campaignId:"16852",customerId:"",customerEmail:""}},"truist|com|checking|checking_offer":{yahoo:{yp:"10176830",ea:""},cognitiv:"https://beacon.lynx.cognitivlabs.com/pixel/capture?tags=truist_homepage",floodlight_2:{type:"landi0",cat:"truis001",cache_bust:"off"}},"truist|com|checking|student_checking":{gtag:{account:"1032153865",identifier:"OmOXCL6YtfsCEInWlewD"}},"truist|com|checking|open_checking":{floodlight_2:{type:"landi0",cat:"truis00j",u1:"",u2:document.location.pathname,cache_bust:"off"}},"truist|com|savings":{gtag:{account:"1032153865",identifier:"y3-fCNKjtfsCEInWlewD"}},"truist|com|savings|certificate_of_deposit":{gtag:{account:"1032153865",identifier:"-ZP8CK_1ivsCEInWlewD"}},"truist|com|investing_retirement|investing_services":{gtag:{account:"1032153865",identifier:"0KSRCLyQs_sCEInWlewD"},floodlight_2:{type:"landi0",cat:"truis004",cache_bust:"false"}},"truist|com|digital_banking":{gtag:{account:"1032153865",identifier:"4Zh8CO6qtfsCEInWlewD"}},"truist|com|digital_banking|digital_wealth":{gtag:{account:"1032153865",identifier:"-rxvCPystfsCEInWlewD"}},"truist|com|checking|premier_banking":{gtag:{account:"1032153865",identifier:"M1cnCK73ivsCEInWlewD"}},"truist|com|checking|premier_banking|financial_planning":{gtag:{account:"1032153865",identifier:"zrquCOW2tfsCEInWlewD"}},"truist|com|checking|premier_banking|benefits_rewards":{gtag:{account:"1032153865",identifier:"53VGCOChiP0CEInWlewD"}},"truist|com|commercial_corporate_institutional":{deluxe:{account:"629D9A5A-2054-4C14-914C-EF9ABC286032"},floodlight_2:{type:"lobad0",cat:"truis003",cache_bust:"off",u1:"",u2:document.location.pathname}},"truist|com|commercial_corporate_institutional|banking":{deluxe:{account:"629D9A5A-2054-4C14-914C-EF9ABC286032"},floodlight_2:{type:"landi0",cat:"truis00k",u1:"",u2:document.location.pathname,cache_bust:"off"}},"truist|com|commercial_corporate_institutional|banking|business_banking":{deluxe:{account:"629D9A5A-2054-4C14-914C-EF9ABC286032"}},"truist|com|commercial_corporate_institutional|business_insights":{deluxe:{account:"629D9A5A-2054-4C14-914C-EF9ABC286032"},floodlight_2:{type:"lobad0",cat:"truis003",cache_bust:"off",u1:"",u2:document.location.pathname}},"truist|com|commercial_corporate_institutional|banking|commercial_banking":{deluxe:{account:"629D9A5A-2054-4C14-914C-EF9ABC286032"}},"truist|com|commercial_corporate_institutional|banking|middle_market_banking":{deluxe:{account:"629D9A5A-2054-4C14-914C-EF9ABC286032"}},"truist|com|commercial_corporate_institutional|banking|business_lifecycle_advisory":{deluxe:{account:"629D9A5A-2054-4C14-914C-EF9ABC286032"},floodlight_2:{type:"lobad0",cat:"truis003",cache_bust:"off",u1:"",u2:document.location.pathname}},"truist|com|commercial_corporate_institutional|financing":{deluxe:{account:"629D9A5A-2054-4C14-914C-EF9ABC286032"}},"truist|com|commercial_corporate_institutional|manage_cash_flow|checking_solutions":{deluxe:{account:"629D9A5A-2054-4C14-914C-EF9ABC286032"}},"truist|com|commercial_corporate_institutional|manage_cash_flow|information_reporting":{deluxe:{account:"629D9A5A-2054-4C14-914C-EF9ABC286032"}},"truist|com|commercial_corporate_institutional|manage_cash_flow|merchant_services":{deluxe:{account:"629D9A5A-2054-4C14-914C-EF9ABC286032"}},"truist|com|commercial_corporate_institutional|manage_cash_flow|payables":{deluxe:{account:"629D9A5A-2054-4C14-914C-EF9ABC286032"}},"truist|com|commercial_corporate_institutional|risk_management|business_insurance":{deluxe:{account:"629D9A5A-2054-4C14-914C-EF9ABC286032"}},"truist|com|resources|commercial_corporate_institutional|risk_management|articles|risk_management_strategies_to_protect_your_business":{floodlight_2:{type:"lobad0",cat:"truis003",cache_bust:"off",u1:"",u2:document.location.pathname}},"truist|com|resources|commercial_corporate_institutional|strategic_advice|articles|how_to_prepare_your_business_for_a_recession":{floodlight_2:{type:"lobad0",cat:"truis003",cache_bust:"off",u1:"",u2:document.location.pathname}},"truist|com|resources|commercial_corporate_institutional|employee_benefits|articles|talent_optimization_strategies_for_employee_retention":{floodlight_2:{type:"lobad0",cat:"truis003",cache_bust:"off",u1:"",u2:document.location.pathname}},"truist|com|resources|commercial_corporate_institutional|investment_banking|articles|how_truist_securities_leaders_collaborate_to_improve_client_experience":{floodlight_2:{type:"unive0",cat:"truis0",u1:"",u2:document.location.pathname,cache_bust:"off"}},"truist|com|resources|commercial_corporate_institutional|strategic_advice|videos|truist_helps_biote_expand_into_new_markets":{floodlight_2:{type:"unive0",cat:"truis0",u1:"",u2:document.location.pathname,cache_bust:"off"}},"truist|com|commercial_corporate_institutional|industry_expertise|commercial_real_estate":{deluxe:{account:"629D9A5A-2054-4C14-914C-EF9ABC286032"}},"truist|com|commercial_corporate_institutional|industry_expertise|commercial_real_estate|our_expertise":{deluxe:{account:"629D9A5A-2054-4C14-914C-EF9ABC286032"}},"truist|com|commercial_corporate_institutional|industry_expertise|commercial_real_estate|contact_us":{deluxe:{account:"629D9A5A-2054-4C14-914C-EF9ABC286032"}},"truist|com|commercial_corporate_institutional|contact_form":{floodlight_2:{type:"landi0",cat:"truis00f",u1:"",u2:document.location.pathname,cache_bust:"off"}},"truist|com|commercial_corporate_institutional|contact_form|thank_you":{floodlight_2:{type:"landi0",cat:"truis00g",u1:"",u2:document.location.pathname,cache_bust:"off"}},"truist|com|commercial_corporate_institutional|investment_banking":{floodlight_2:{type:"landi0",cat:"truis00n",u1:"",u2:document.location.pathname,cache_bust:"off"}},"truist|com|credit_cards":{gtag:{account:"1032153865",identifier:"jjWICNC_tfsCEInWlewD"}},"truist|com|credit_cards|enjoy_cash":{gtag:{account:"1032153865",identifier:"izn8CIWqs_sCEInWlewD"},yahoo:{yp:"10176829",ea:""},floodlight_2:{type:"landi0",cat:"truis003",cache_bust:"off"}},"truist|com|credit_cards|enjoy_cash_secured":{gtag:{account:"1032153865",identifier:"9mFTCPHFtfsCEInWlewD"}},"truist|com|credit_cards|enjoy_travel":{gtag:{account:"1032153865",identifier:"63OaCOmrs_sCEInWlewD"}},"truist|com|credit_cards|enjoy_beyond":{gtag:{account:"1032153865",identifier:"-douCInJtfsCEInWlewD"}},"truist|com|credit_cards|future":{gtag:{account:"1032153865",identifier:"RzwECPCSi_sCEInWlewD"}},"truist|com|credit_cards|deals":{gtag:{account:"1032153865",identifier:"b6w_CLbJtfsCEInWlewD"}},"truist|com|loans":{gtag:{account:"1032153865",identifier:"JC5BCK2Ri_sCEInWlewD"}},"truist|com|loans|heloc":{gtag:{account:"1032153865",identifier:"aP-vCKbLtfsCEInWlewD"}},"truist|com|loans|auto_loans":{gtag:{account:"1032153865",identifier:"jiceCOCxs_sCEInWlewD"}},"truist|com|loans|recreational_loans":{gtag:{account:"1032153865",identifier:"Bs2SCM2zs_sCEInWlewD"}},"truist|com|loans|recreational_loans|marine_loans":{gtag:{account:"1032153865",identifier:"WnhSCPfUtfsCEInWlewD"}},"truist|com|loans|recreational_loans|boat_loans":{gtag:{account:"1032153865",identifier:"HaC8CKuys_sCEInWlewD"}},"truist|com|loans|recreational_loans|rv_loans":{gtag:{account:"1032153865",identifier:"B7cyCOq1s_sCEInWlewD"}},"truist|com|mortgage":{gtag:{account:"1032153865",identifier:"nDa1CNeCi_sCEInWlewD"}},"truist|com|mortgage|buy_home":{gtag:{account:"1032153865",identifier:"BLG9CLiEi_sCEInWlewD"}},"truist|com|mortgage|refinance":{gtag:{account:"1032153865",identifier:"z28iCOCFi_sCEInWlewD"}},"truist|com|mortgage|correspondent_lending":{gtag:{account:"1032153865",identifier:"9YVoCJKIi_sCEInWlewD"}},"truist|com|money_mindset":{gtag:{account:"1032153865",identifier:"CC5SCLu_tfsCEInWlewD"}},"truist|com|resources":{floodlight_2:{type:"landi0",cat:"truis00q",u1:"",u2:document.location.pathname,cache_bust:"off"}},"truist|com|resources|commercial_corporate_institutional":{floodlight_2:{type:"landi0",cat:"truis00m",u1:"",u2:document.location.pathname,cache_bust:"off"},deluxe:{account:"629D9A5A-2054-4C14-914C-EF9ABC286032"}},"truist|com|resources|commercial_corporate_institutional|strategic_advice|videos|expanding_global_presence":{deluxe:{account:"629D9A5A-2054-4C14-914C-EF9ABC286032"}},"truist|com|small_business":{gtag:{account:"1032153865",identifier:"GUOyCJyRuPsCEInWlewD"}},"truist|com|small_business|banking|checking":{gtag:{account:"1032153865",identifier:"kPmwCOz7tfsCEInWlewD"},floodlight_2:{type:"landi0",cat:"truis00",cache_bust:"off"}},"truist|com|small_business|banking|checking_offer":{floodlight_2:{type:"landi0",cat:"truis0",cache_bust:"off"}},"truist|com|small_business|banking|checking|simple_business_checking":{gtag:{account:"1032153865",identifier:"5V01CIT8tfsCEInWlewD"}},"truist|com|small_business|banking|checking|dynamic_business_checking":{gtag:{account:"1032153865",identifier:"uT1HCLX9tfsCEInWlewD"}},"truist|com|small_business|credit_cards":{gtag:{account:"1032153865",identifier:"9ooTCLSauPsCEInWlewD"}},"truist|com|small_business|credit_cards|business_cash_rewards":{gtag:{account:"1032153865",identifier:"iAlnCKCDtvsCEInWlewD"}},"truist|com|small_business|loans|auto_loan":{gtag:{account:"1032153865",identifier:"OjmRCMnxjfsCEInWlewD"}},"truist|com|small_business|loans|real_estate_loan":{gtag:{account:"1032153865",identifier:"y1uvCPvzjfsCEInWlewD"}},"truist|com|small_business|loans|line_of_credit":{gtag:{account:"1032153865",identifier:"JPf5CNWFtvsCEInWlewD"}},"truist|com|wealth":{gtag:{account:"1032153865",identifier:"uQD1CK6js_sCEInWlewD"},floodlight_2:{type:"landi0",cat:"truis00p",u1:"",u2:document.location.pathname,cache_bust:"off"}},"truist|com|resources|wealth|financial_planning|ive_been_meaning_to_do_that_podcast":{floodlight_2:{type:"lobad0",cat:"truis0",cache_bust:"off",u1:"",u2:document.location.pathname}},"truist|com|loans|personal_loans|unsecured_personal_loans":{gtag:{account:"1032153865",identifier:"ONHtCN-Wi_sCEInWlewD"}}}}}},zSite_AA_alloyConfig:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("zGlobal_alloyConfig");return e?(e.getDatasetMap().analytics={play:"62fd3737a193ec1c084cf893",itca:"62fd3737a193ec1c084cf893",prdr:"637519c8581eae1c075e967a",prod:"6377b483cda5721c07122ba1"},e.getAnalyticsDatasetId=function(){return e.getDatasetId("analytics")},e):(_satellite.error("MISSING DE zGlobal_alloyConfig!"),!1)}}},"3pt_twitter":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){try{if(e.hasOwnProperty("identifier")&&twq("event",e.identifier,{}),e.hasOwnProperty("image1")&&e.hasOwnProperty("image2")){var t=document.createElement("img"),n=document.createElement("img");t.setAttribute("src",e.image1),n.setAttribute("src",e.image2),t.setAttribute("height","1"),t.setAttribute("width","1"),t.setAttribute("style","display:none"),t.setAttribute("alt",""),n.setAttribute("height","1"),n.setAttribute("width","1"),n.setAttribute("style","display:none"),n.setAttribute("alt",""),document.body.appendChild(t),document.body.appendChild(n),_satellite.logger.log("3PT Twitter pixel fired with: "+e.image1+" , "+e.image2)}}catch(e){_satellite.logger.log("error appending Twitter image tags: "+e)}}}}},zGlobal_xdm:{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{URL:"%zGlobal_xdm.web.webInteraction.url%",name:"%zGlobal_xdm.web.webInteraction.name%",type:"%zGlobal_xdm.web.webInteraction.type%",linkClicks:{value:"%zGlobal_xdm.web.webInteraction.linkClicks.value%"}},webPageDetails:{name:"%zGlobal_xdm.web.webPageDetails.name%",server:"%zGlobal_xdm.web.webPageDetails.server%",pageViews:{value:"%zGlobal_xdm.web.webPageDetails.pageViews.value%"},siteSection:"%zGlobal_xdm.web.webPageDetails.siteSection%"}},commerce:{productViews:{value:"%zGlobal_xdm.commerce.productViews.value%"}},eventType:"%zGlobal_xdm.eventType%",_experience:{analytics:{event1to100:"%zGlobal_xdm._experience.analytics.event1to100%",event101to200:"%zGlobal_xdm._experience.analytics.event101to200%",event201to300:"%zGlobal_xdm._experience.analytics.event201to300%",event801to900:"%zGlobal_xdm._experience.analytics.event801to900%",event901to1000:"%zGlobal_xdm._experience.analytics.event901to1000%",customDimensions:{eVars:{eVar1:"%zGlobal_xdm._experience.analytics.customDimensions.eVars.eVar1%"}}}},productListItems:"%zGlobal_xdm.productListItems%",_suntrustbanksinc:{waData:"%zGlobal_xdm._suntrustbanksinc.waData%"}},sandbox:{name:"itca"}}},"zGlobal_xdm.web.webInteraction.url":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.digitalDataWAposting;return e.linkURL?e.linkURL:"web.webinteraction.linkClicks"===e.eventType?"":void 0}}},"zGlobal_xdm._experience.analytics.event101to200":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(event){var waData=window.digitalDataWAposting||{};if(!waData.eventsArray||waData.eventsArray.length<1)return{};var event101to200={};return waData.eventsArray.forEach((item=>{if(!item)return;if(item.indexOf("event")<0)return;let regexArray=item.match(/(event)([^=]*)(.*)/),txt=regexArray[1];if(!txt)return;let num=regexArray[2],value=regexArray[3];Number(num)>100&&Number(num)<201&&(eval("event101to200.event"+num+"= {}"),value?eval("event101to200.event"+num+".value"+value):eval("event101to200.event"+num+".value= 1"))})),event101to200}}},zGlobal_edgeDomain:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("zSite_config").edgeDomain||"";return""===e&&(e=_satellite.getVar("xSite_edgeDomain")||"edge.adobedc.net"),e}}},zGlobal_truist_domains:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return["truist.com","truistinsurance.com","truistleadershipinstitute.com","truistsecurities.com","myafco.com","paymypremiums.com","mcgriff.com","lightstream.com","truist-tst.com","truist-prd.com","momentumonup.com","postechnologygroup.com","bridgetrusttitle.com","afco.com","cafo.com","primeratepfc.com","regionalacceptance.com","grandbridge.com","benefits.truist.com","sheffieldfinancial.com","axshare.com","design-systems.pages.devops.bbt"]}}},"3pt_impact":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){if(e.hasOwnProperty("campaignId")&&e.hasOwnProperty("customerId")&&e.hasOwnProperty("customerEmail"))try{ire("identify",{campaignId:e.campaignId,customerId:e.customerId,customerEmail:e.customerEmail})}catch(e){_satellite.logger.log("error executing Impact IRE Identify function: "+e)}if(e.hasOwnProperty("actionTrackerId")){digitalDataWA.newAcctAppId||_satellite.logger.error("3PT Impact ERROR: Missing Order ID parameter");try{_satellite.logger.log("firing impact conversion pixel"),ire("trackConversion",e.actionTrackerId,{orderId:digitalDataWA.newAcctAppId,customerId:digitalDataWA.newAcctAppId,customerEmail:""},{verifySiteDefinitionMatch:!0})}catch(e){_satellite.logger.log("Error firing Impact Conversion Pixel: "+e)}}}}}},zGlobal_at_property:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("zSite_AT_alloyConfig").getTargetProperty()}}},"3pt_tiktok":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){try{ttq.track(e.event)}catch(e){_satellite.logger.log("error executing Tik Tok conversion tag: "+e)}}}}},zGlobal_ecid:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(_satellite.truist=_satellite.truist||{},_satellite.truist.ecid=_satellite.truist.ecid||_satellite.getVar("ECID")||"",_satellite.truist.ecid)return _satellite.truist.ecid;var e=function(e,t){return _satellite.setVar("identity_failure_msg","alloy.getIdentity() ecid fetch response "+e+" x"+t)},t=function(){var e=_satellite.getVar("identity_failure_msg")||"";return e?(e+="",_satellite.setVar("identity_failure_msg"),{debugAnalytics:e}):null},n=function(n,o){_satellite.logger.info("getECID | "+n,o);var a=r();if(a)return i(a);var s=(_satellite.getVar("ecid_failures")||0)+1;_satellite.setVar("ecid_failures",s);var l=null;return s>=10?(e(n,10),_satellite.logger.info("getECID | failure_msg",_satellite.getVar("identity_failure_msg")+""),(l=t())&&_satellite.track("genericDC",l),_satellite.setVar("ecid_failures"),!0):(1===s&&(e(n,1),_satellite.logger.info("getECID | failure_msg",_satellite.getVar("identity_failure_msg")+""),(l=t())&&_satellite.track("genericDC",l)),s<10&&_satellite.track("getECID"),!0)},o=function(e){var t=`; ${document.cookie}`.split(`; ${e}=`);if(t.length>1)return t.pop().split(";").shift()},r=function(){var e=o("AMCV_AA7A3BC75245B3BC0A490D4D%40AdobeOrg")||"",t=decodeURIComponent(e).split("|"),n=t.indexOf("MCMID");if(-1===n||n===t.length)return _satellite.logger.info("getECIDCookie Failed: amcv_cookie",e),"";var r=t[n+1]||"";return _satellite.logger.info("getECIDCookie",r),r},i=function(e){if(e)return _satellite.logger.info("getECID | success",e),_satellite.setVar("ECID",e),_satellite.truist.ecid=e,_satellite.setVar("ecid_failures"),e;_satellite.logger.info("getECID | failure",e)},a=function(){return alloy("getIdentity").then((function(e){e&&e.identity&&e.identity.ECID?i(e.identity.ECID):n("missing",e)})).catch((function(e){n("error",e)}))};_satellite.logger.info("getECID | fetch");var s=_satellite.getVar("ecid_failures")||0;10>s&&(s>1?_satellite.getVar("zGlobal_util_functionQueue").queueFunction("getIdentity",a,500):a());return _satellite.truist.ecid}}},zSite_config:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return{zGlobalVersion:"20250807",prodHosts:["truist.com","www.truist.com"],prdrHosts:["preview-www.truist.com","truistcom-aprd.truist.com"],edgeDomain:"edge.truist.com",aepSyncOverride:"",alloyEdgeMap:{sync_on:{play:"0f228634-9dd7-4d03-a7f4-3abd1ba5fe4b",itca:"0f228634-9dd7-4d03-a7f4-3abd1ba5fe4b",prdr:"9745f0c3-9e4c-425d-89f0-79b0923d340d",prod:"79e764cb-f746-4825-90e1-56468a6cd722"},sync_off:{play:"dacc9952-6aa3-497a-8001-4d4c26295f90",itca:"dacc9952-6aa3-497a-8001-4d4c26295f90",prdr:"6bfad59d-609d-4c9e-a997-b7d2e1ccc11d",prod:"37b9a4d2-fe7e-4245-9707-91d6a447911f"}},toggleLogin:!1,site:function(){var e="truist|com";if(e)return e;var t=_satellite.getVar("xSite_siteNames");return t||"truist|fallback"}(),utils:{}}}}},"3pt_linkedin":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){try{window.lintrk("track",e),_satellite.logger.log("3PT Linkedin pixel fired with: "+JSON.stringify(e))}catch(e){_satellite.logger.log("3PT ERROR firing linkedin script tag "+e)}}}}},zGlobal_alloyTargetUtil:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e={version:"1.1.0.06"},t=_satellite.getVar("zGlobal_util_functionQueue"),n=_satellite.getVar("zGlobal_utils"),o=_satellite.getVar("zSite_AT_alloyConfig"),r=o.getTargetUtilVars(),i=r[0],a=r[1],s=r[2],l=r[3],c=r[4],d=r[5],u=r[6],g=r[7],m=r[8],p=(r[9],r[10]),f=r[11]||"alloy-prehide",h=r[12]||3e3,b=r[13]||"target_prehide_timeout_expired",v=o.getTargetProperty(),y=r[14]||0,_=r[15]||y?"pre":"await";_satellite.logger.info("target_default_prefetch_mode",_);r[16];var w="true"===sessionStorage.getItem("target_debug")||"true"===sessionStorage.getItem("aep_debug"),C=function(e,t,n,o){if(w){_satellite.logger.info("debugAddDOMElements tracking_id",e);var r,i={selector_element:t,tracking_element:n,tracking_id:e,tracking_links:o},a=_satellite.getVar("target_debug"),s=a.dom_elements.length;for(r=0;r<s;r++)if(a.dom_elements[r].tracking_id===i.tracking_id&&a.dom_elements[r].tracking_element===i.tracking_element)return void _satellite.logger.warn("duplicate");return a.dom_elements.push(i),_satellite.setVar("target_debug",a),i}},k=function(e){var t=e.tracking_id;if(w&&t){target_debug=_satellite.getVar("target_debug"),dom_elements=target_debug.dom_elements;for(var n=0,o=dom_elements.length;n<o;n++){var r=dom_elements[n];if(e.tracking_id===r.tracking_id){var i=e.data||{},a=e.meta||{};r.proposition_item=e,r.selector=i.selector,r.activity_name=a["activity.name"],r.experience_name=a["experience.name"],r.offer_id=a["offer.id"],r.rendered=e.rendered,r.tracked=e.tracked,target_debug.dom_elements[n]=r;break}}_satellite.setVar("target_debug",target_debug)}},P=function(){return _satellite.logger.info("debugModeInit"),w&&(_satellite.setDebug(!0),target_debug={dom_elements:[],proposition_items:[]},target_debug.summary=function(){console.log("Adobe Target Debug Summary:","Errors",target_debug.errors,"proposition items returned",target_debug.proposition_items,"elements affected",target_debug.dom_elements)},_satellite.setVar("target_debug",target_debug),I(5e3)),w},E=function(){if(w){var e=(_satellite.getVar(d)||{}).propositions;if(e){for(var t=[],n=0,o=e.length;n<o;n++){t.push(...e[n].items);for(var r=0,i=e[n].items.length;r<i;r++)k(e[n].items[r])}return target_debug=_satellite.getVar("target_debug"),target_debug.proposition_items=t,_satellite.setVar("target_debug",target_debug),t}}},T=function(){E(),console.log("---target debug start---"),console.log(_satellite.getVar("target_debug")),console.log("---target debug end---")},I=function(e){t.queueFunction("reportTargetDebugResults",T,e)},D=function(){_satellite.logger.info("alloyUnhideCustom");var e=document.getElementById(f)||{id:""};switch(e.id){case"":return;case"alloy-prehiding":return void(e.innerText="");default:e.remove()}},A=function(e,t){var n="pre"===(t=t||_),o=!n;_satellite.logger.info("prefetchPropositions start","mode_pre",n,"mode_await",o),_satellite.logger.info("prefetchPropositions",e);for(var r=[],i=[],a=[],l=0,c=e.length;l<c;l++)for(var d=e[l],u=d.items,g=0,m=u.length;g<m;g++){var p=u[g];!p.prefetched&&p.data&&p.data.content&&p.data.content[s]&&(r=r.concat(p.data.content[s]),p.prefetched=d.renderAttempted=!0,i.push(e[l]),a.push(Q(p)))}K();var f=0,h=r.length;if(!h)return!1;for(var b=[],v=[],y={},w=function(e){var t=e.mbox;if(!(t&&t.name&&e.selector&&e.trigger&&e.trigger.type&&e.trigger.selector))return!1;var r=t.parameters;if("object"==typeof t.profileParameters)for(var i in t.profileParameters)r["profile."+i]=t.profileParameters[i];if(o&&S(t.name,e,r),n){Object.assign(y,r);var a=t.name,s={mbox:a,notificationParams:r,parameters:y,customLinkData:e.customLinkData,selector:e.selector,trigger:e.trigger,update_cache:!0};b.push(a),v.push(s)}};f<h;f++)w(r[f]);if(o)return _satellite.logger.info("awaitTriggerPropositions end"),!0;if(!b.length)return _satellite.logger.info("prefetchPropositions mboxes.length < 1"),!1;var C={decision_scopes:b,render_decisions:!1,request_data:V(y),response_meta:v,response_rule:"handlePrefetchPropositions"};L(C)},S=function(e,t,n){if(_satellite.logger.info("setAwaitTrigger",e,t,n),!e||!t)return _satellite.logger.error("setViewTriggers FAILED",e,t,n),!1;var o=t.trigger.type||"click",r=function(){return document.querySelector(t.trigger.selector)||null},i=function(){_satellite.logger.warn("alloyTargetApplyMbox",e);var a=document.querySelector(t.selector);a.style.opacity=0;var s=!1,l=function(){a.style.opacity=1},c=setTimeout((function(){l(),s=!0}),h),d=function(){return s||(clearTimeout(c),l()),s},u={request_data:V(n),decision_scopes:[e],response_rule:"handleAwaitTriggerProposition",response_meta:{mbox:e,parameters:n,customLinkData:t.customLinkData,selector:t.selector,runReveal:d,await_timeout_expired:s}};L(u),r().removeEventListener(o,i)},a=function(){var e=r();return!!e&&(e.addEventListener(o,i),!0)},s=function(){if(!a())var e=0,t=setInterval((function(){(++e>100||a())&&clearInterval(t)}),50)};a()||("loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()),_satellite.setVar("mbox_"+e,{getTriggerElement:r})};e.handleAwaitTriggerProposition=function(e){_satellite.logger.info("handleAwaitTriggerProposition event_detail",e);var t=e.response.results.propositions[0],n=_satellite.getVar(d);n.propositions.push(t),_satellite.setVar(d,n);var o=t.items[0],r=e.response_meta;if(r.await_timeout_expired)return _satellite.logger.info("await_timeout_expired"),!1;r.customLinkData&&(o.customLinkData=r.customLinkData),r.mbox&&(o.mbox=r.mbox),r.parameters&&(o.parameters=r.parameters),r.selector&&(o.selector=r.selector),o.data&&(o.data.selector=o.selector),_satellite.logger.info("handleAwaitTriggerProposition render start");var i=document.querySelector(r.selector);return t.renderAttempted=!0,o.schema.indexOf("default")>-1&&t.items&&t.items[0]&&!t.items[0].data?t.items[0].data={selector:r.selector}:o.schema.indexOf("html")>-1&&(i.innerHTML=o.data.content),_satellite.logger.info("handleAwaitTriggerProposition render reveal"),"function"==typeof r.runReveal&&r.runReveal(),_satellite.logger.info("handleAwaitTriggerProposition render end"),ne(e={results:{propositions:[t]}}),!0};var x=function(e){for(var t=(_satellite.getVar(d)||{}).propositions,n=null,o=0,r=t.length;o<r;o++)for(var i=t[o].items,a=0,s=i.length;a<s;a++)if(i[a].tracking_id===e){n=t[o],s=r=0;break}return n},O=function(e,t,n){for(var o=e,r=t.split("."),i=r.length,a=0;a<i-1;a++){var s=r[a];o[s]||(o[s]={}),o=o[s]}o[r[i-1]]=n},j=function(e){return e&&"object"==typeof e&&!Array.isArray(e)},R=function(e,...t){if(!t.length)return e;const n=t.shift();if(j(e)&&j(n))for(const t in n)j(n[t])?(e[t]||Object.assign(e,{[t]:{}}),R(e[t],n[t])):Object.assign(e,{[t]:n[t]});return R(e,...t)},N=function(){var e={com_adobe_experience_platform:{datasets:{event:{datasetId:o.getTargetDatasetId()}}}};return v&&(e.com_adobe_target={propertyToken:v}),e},L=function(e){_satellite.logger.info("getPropositions config:",e),e=e||{};var t=R(_satellite.getVar(c)||{},e.xdm);_satellite.logger.warn("request_xdm MERGE"),_satellite.logger.info("_satellite.getVar("+c+")",_satellite.getVar(c)),_satellite.logger.info("config.xdm",e.xdm),_satellite.logger.info("request_xdm",t),t.eventType=t.eventType||"decisioning.propositionTrigger",O(t,"_experience.decisioning.propositionEventType.trigger",1);var n=["__view__"];e.decision_scopes&&"string"==typeof e.decision_scopes[0]&&(n=e.decision_scopes),void 0===e.render_decisions&&(e.render_decisions=!1);var o=!!e.render_decisions,r=_satellite.getVar(l)||{};r=Object.assign(r,e.request_data||{});var i=e.response_meta,a=e.response_rule||"handlePropositions",s={data:r,decisionScopes:n,edgeConfigOverrides:N(),renderDecisions:o,xdm:t},d=!1,u=setTimeout((function(){d=!0}),h);window.alloy("sendEvent",s).then((function(e){g({results:e})})).catch((function(e){g({error:e})})),_satellite.logger.info("getPropositions"),_satellite.logger.info("response_rule",a),_satellite.logger.info("response_meta",i),_satellite.logger.info("event_data",s);var g=function(e){var t=_satellite.getVar(b);if(d||t){if(e.results&&e.results.propositions&&e.results.propositions[0])for(var n of e.results.propositions)"__view__"===n.scope&&(n.renderAttempted=!0,_satellite.logger.info("renderAttempted",n.items[0].meta,n));_satellite.logger.info("timeout_exceeded",d),_satellite.logger.info(b,t)}clearTimeout(u),_satellite.track(a,{response:e,response_meta:i})}};e.getPropositions=L;var M=function(e){_satellite.logger.info("getGlobalMboxParameters",e);var t=window.glbPageData||{},o={pageName:e.pageName||t.pageName||_satellite.getVar("zGlobal_pageName"),cleanURL:n.cleanUrl([window.location.protocol,"//",window.location.host,window.location.pathname].join(""))};window.location.search&&(o.queryString=n.cleanUrl(window.location.search));var r=e.products||t.products||t.prodView||"",i=n.convertProductStringToArray||null,a=n.cleanSProductStr||null;if(_satellite.logger.warn("gpd",JSON.stringify(t)+" "),_satellite.logger.info("products",r+" "),_satellite.logger.info("convertProductStringToArray",typeof i),_satellite.logger.info("cleanSProductStr",typeof a),r&&i&&a){o.products=a(r),_satellite.logger.info("default_parameters.products",o.products+" ");var s=i(o.products);_satellite.logger.info("products_arr",s,"typeof",typeof s[0]),"object"==typeof s[0]&&(o.productNames=s.map((e=>e.name)).join(","),_satellite.logger.info("productNames",s.map((e=>e.name)),"joined",o.productNames))}return Object.assign(o,e||{})},V=function(e){return{__adobe:{target:(e=M(e))||{}}}},U=function(e){var t="function"==typeof jQuery;return t&&e&&(t=e instanceof jQuery),t},z=function(e){_satellite.logger.info("renderPropositions START",e),window.alloy("applyPropositions",{propositions:e}).then((function(e){n(e)})).catch((function(e){n({error:e})}));var t="handleRenderedPropositions",n=function(e){_satellite.logger.info("renderPropositions END",e),_satellite.track(t,{results:e})}},G=function(e){var t=new CustomEvent("adobePropositionRendered",{detail:{type:"target",results:{propositions:e}}});window.dispatchEvent(t)},F=function(e){W(e)},q=function(e,t,n){_satellite.logger.info("sendEventTrackPropositionsInteraction"),_satellite.logger.info(e),_satellite.logger.info(t),_satellite.logger.info(n),$(t,n),W(e)},$=function(e,t){if(!e)return!1;var n=_satellite.getVar(c)||{};n.eventType="decisioning.propositionDisplay",O(n,"_experience.decisioning.propositionEventType.display",1),n._experience.decisioning.propositions=n._experience.decisioning.propositions||[],n._experience.decisioning.propositions.push({scope:e});var o={xdm:n};o.data=V(t),window.alloy("sendEvent",o)},W=function(e){if(!e)return!1;for(var t=[],n=0,o=e.length;n<o;n++)t.push({id:e[n].id,scope:e[n].scope,scopeDetails:e[n].scopeDetails});if(t.length<1)return!1;var r=_satellite.getVar(c)||{};r._experience={decisioning:{propositions:t}},r.eventType="decisioning.propositionDisplay";var i={documentUnloading:!0,edgeConfigOverrides:N(),renderDecisions:!1,xdm:r};window.alloy("sendEvent",i)},B=function(e,t,n){_satellite.logger.info("setMboxTrigger Prefetch Personalization handler",e),_satellite.logger.info("setMboxTrigger Prefetch Personalization response_mbox",t),Object.assign(t,e),t.data&&(t.data.selector=t.selector);var o=t.trigger.type,r=null,i=function(){return r||(r=document.querySelector(t.trigger.selector)||null)},a=t.trigger.render||!1,s=function(){if(_satellite.logger.info("setMboxTrigger trackPrefetch START response_mbox",t),n.renderAttempted){ne({results:{propositions:[n]}});var e=i();e.removeEventListener(o,l),e.removeEventListener(o,s)}},l=function(){if(_satellite.logger.info("setMboxTrigger renderPrefetch START response_mbox",t),n.renderAttempted=!0,t.schema.indexOf("default")>-1&&n.items&&n.items[0]&&!n.items[0].data)n.items[0].data={selector:t.selector};else if(t.schema.indexOf("html")>-1){var e=document.querySelector(t.selector);if(!e)return!1;e.innerHTML=t.data.content}return a&&s(),!0},c=function(){var e=i();return!!e&&(a?e.addEventListener(o,l):e.addEventListener(o,s),!0)},d=function(){_satellite.logger.info("setMboxTrigger domManipulation response_mbox",t);var e=i();return!!e&&((a||l())&&c(e))},u=function(){if(!d())var e=0,t=setInterval((function(){(++e>100||d())&&clearInterval(t)}),50)};d()||("loading"===document.readyState?window.addEventListener("DOMContentLoaded",u):u())
},H=function(e){var t=e.data;if(t){var n=[],o=[],r=null;if("head"!==t.selector){if(U())r=jQuery(t.selector)[0],_satellite.setVar("personalizationAwaitingJQuery",!1);else try{r=document.querySelector(t.selector)}catch(e){_satellite.setVar("personalizationAwaitingJQuery",!0)}if(r){var i=null;switch(t.type){case"insertAfter":if((i=r.nextElementSibling)&&"META"===i.tagName)for(;i&&"DIV"!==i.tagName&&"container"!==i.className;)i=i.nextElementSibling;break;case"insertBefore":i=r.previousElementSibling;break;default:i=r}i.classList.add("at-element-marker"),o.push(i)}}else{var s=t.content;if(!s)return;var l=document.implementation.createHTMLDocument();l.body.innerHTML=s;for(var c=[].map.call(l.scripts,(function(e){return e.textContent})),d=[],m=0,p=(c=c.join("\n").split("\n")).length;m<p;m++){c[m].search(a)>-1&&d.push(c[m])}try{var f=new Function(d.join("\n")+';\n;if(typeof trackingElements === "object"){return trackingElements;}');o=[...f()||[]],f=void 0}catch(e){_satellite.logger.error("setTargetClickTracking tracking_elements error"),_satellite.logger.info(e)}o.concat(Array.from(document.querySelectorAll(g))||[])}var h=0,b=o.length;e.tracking_elements=o,e.tracking_links=[],e.selector_element=r;for(var v="data-wa-targettrackingid",y=e.tracking_id,_=e.customLinkData;h<b;h++){var w=!1;if(o[h]){i=o[h];var k=[],P="setAttribute",E="querySelectorAll";if(U(i)&&(P="attr",E="find"),i[P]){if(w=!0,i[P](v,y),i.tagName&&"A"===i.tagName||"BUTTON"===i.tagName){if(k.push(T),e.tracking_links.push(...k),i[P](u,"1"),_)for(key in _)i[h][P](key,_[key])}else{var T=i[E]("a,button");k.push(T),e.tracking_links.push(...k);for(var I=0,D=T.length;I<D;I++)if(T[I][P](u,"1"),_)for(key in _)T[I][P](key,_[key]),T[I][P](key,_[key])}C(y,r,i,k)}}w&&n.push(y)}return n}},Q=function(e){if(_satellite.logger.info("setTargetTrackingId START"),!e)return"";var t=e.tracking_id||"";if(t)return t;var n=e.meta;if(!n){var o=_satellite.cookie.get("at_preview_mode"),r=_satellite.getVar("zGlobal_at_preview");n=o||r?{"activity.id":"at_preview"}:{}}_satellite.logger.info("setTargetTrackingId target_tokens",n),t=i+m+_satellite.getVar("zGlobal_at_property")||"";for(var a=0,s=p.length;a<s;a++){var l=n[p[a]];0!==l&&"0"!==l||(l="zero"),t+=m+(l||"")}return e.tracking_id=t,_satellite.logger.info("setTargetTrackingId END",t),t},J=function(){_satellite.logger.info("trackImpressions "+d,_satellite.getVar(d));var e=(_satellite.getVar(d)||{}).propositions;_satellite.logger.info("propositions: ",e);for(var t=[],n=[],o=0,r=e.length;o<r;o++){var i=e[o];if(_satellite.logger.info("proposition.renderAttempted: "+i.renderAttempted),i.renderAttempted){for(var a=!1,s=i.items,l=0,c=s.length;l<c;l++){var u=s[l];_satellite.logger.info("propositions: ",u),_satellite.logger.info("proposition_item.tracked: "+u.tracked),_satellite.logger.info("proposition_item.default: "+u.default),_satellite.logger.info("proposition_item.rendered: "+u.rendered),_satellite.logger.info("proposition_item.prefetched: "+u.prefetched),_satellite.logger.info("proposition_item.tracking_id: "+u.tracking_id),!u.tracked&&(u.default||u.rendered||u.prefetched)&&(u.tracked=a=!0,n.push(u.tracking_id))}a&&t.push(i)}}if(_satellite.logger.info("trackImpressions experience_tracking_ids.length",n.length),n.length){G(t),F(t);var g={featureKey:"target",marTechData:{events:"event21",targetImp:n.join(",")}};_satellite.track("trackNext",g);var m="none",p=window.digitalDataWApost||[];p.length&&(m=p[p.length-1].pageName,p[p.length-1].targetImp);var f=_satellite.getVar("zGlobal_pageName")||"";if(_satellite.logger.info("trackImpressions check to see if analytics already fired","previousTrackedPage",m+"","zGlobal_pageName",f+""),_satellite.logger.info("experience_tracking_ids",n.join("?")),_satellite.logger.info("trackImpressions experience_tracking_ids.length",n.length),m===f){_satellite.logger.info("zGlobal_alloyTargetUtil: Checking digitalDataWA.temp. fire trackAction");var h={};_satellite.track("trackAction",{marTechData:h,cData:h})}}},K=function(){t.queueFunction("trackImpressions",J)},X=function(e){_satellite.logger.info("getPropositionScopes START"),e=e||{};var t=["__view__"],n=_satellite.getVar("launch_rules_target_mbox_parameters")||{};e.marTechData&&(n=e.marTechData),_satellite.logger.info("mbox_parameters",n);var o={xdm:{web:{webPageDetails:{viewName:n.pageName}}},request_data:V(n),decision_scopes:t,response_meta:{parameters:n}};return e.personalization_config&&(o.response_rule="handleMarTechPropositions",o.response_meta.mbox=n.pageName,o.response_meta.callback=e.callback),_satellite.logger.info("request_config",o),_satellite.logger.info("getPropositionScopes END"),o},Y=function(e,t){var n=_satellite.getVar(d)||{};if(t&&n.propositions){for(var o=0,r=t.length;o<r;o++){var i=t[o];n.propositions.push(i)}_satellite.setVar(d,n)}else e&&e.response&&e.response.results&&(n=e.response.results,_satellite.setVar(d,n));return n};e.handleMarTechPropositions=function(e){if(w&&I(1e3),!(e&&e.response&&e.response.results&&e.response.results.propositions))return _satellite.logger.warn("handleMarTechPropositions FAILED"),!1;var t=Y(e);_satellite.logger.warn("handleMarTechPropositions alloy_target_results",t);var n=e.response.results.propositions,o=e.response_meta||{};return _satellite.logger.warn("handleMarTechPropositions prefetch_response_propositions",n),_satellite.logger.warn("handleMarTechPropositions handlers",o),Z(e),t=Y(e),!0};var Z=function(e){if(!(e.response_meta&&"function"==typeof e.response_meta.callback&&e.response&&e.response.results&&e.response.results.propositions))return!1;var t={offers:te(e.response.results.propositions)};e.response_meta.callback({propositionResponse:t})},ee=function(e,t){e.renderAttempted=!0,t.rendered=!0,K()},te=function(e){_satellite.logger.log("formatOffers START");for(var t=[],n=0,o=e.length;n<o;n++){let o=e[n];for(var r=0,i=o.items.length;r<i;r++){let e=o.items[r],n=Object.assign({},e);n.meta.aepDecisionID=o.id,n.meta.aepDecisionScope=o.scope,n.meta.scope=o.scope;var a=e.data||{};n.meta.format=a.format;var s=Q(e);n.meta.trackingID=s,n.offerMetadata=n.meta,n.propositionRendered=function(t){if(_satellite.logger.info("trackOfferImpression: proposition",o,"proposition_item",e),_satellite.logger.info("trackOfferImpression: tracking_elements",t),t&&t[0]instanceof Element){var n=["a","button","input","select"],r=n.join(),i=function(e){e.setAttribute("data-wa-track-clk","1")};for(var a of t)if(a instanceof Element)if(a.setAttribute("data-wa-targettrackingid",s),n.indexOf(a.nodeName.toLowerCase())>-1)i(a);else{var l=a.querySelectorAll(r);for(var c of l)i(c)}}ee(o,e)},t.push(n)}}return t};e.initPropositions=function(e){return P(),L(X(e)),!0},e.handlePropositions=function(e){w&&I(1e3);var t=Y(e);if(!t)return!1;var n=t.propositions;return!!n&&(z(n),A(n),w&&I(1e3),!0)},e.handlePrefetchPropositions=function(e){if(w&&I(1e3),!(e&&e.response&&e.response.results&&e.response.results.propositions))return _satellite.logger.info("handlePrefetchPropositions no propositions",e),!1;for(var t=e.response.results.propositions,n=e.response_meta,o=0,r=t.length;o<r;o++)for(var i=t[o],a=0,s=i.items.length;a<s;a++)for(var l=0,c=n.length;l<c;l++)n[l].mbox===i.scope&&B(n[l],i.items[a],i);return _satellite.logger.info("cachePropositionResults event_detail",e),Y(e,t),!0},e.handlePropositionsAwaitingJQuery=function(){if(w&&I(1e3),_satellite.getVar("personalizationAwaitingJQuery")&&U()){var e=_satellite.getVar("personalizationPropositionsAwaitingJQuery");return _satellite.setVar("personalizationPropositionsAwaitingJQuery"),_satellite.setVar("personalizationAwaitingJQuery"),ne({results:{propositions:e}}),!0}return!1};var ne=function(e){var t=(e=e||{}).results||{},n=t.error,o=t.propositions;if(n)return D(),_satellite.logger.error("handleRenderedPropositions Error"),_satellite.logger.info(n),!1;var r=(_satellite.getVar(d)||{}).propositions;o||(o=r);for(var i=0,a=o.length;i<a;i++){for(var s=o[i].items,l=0,c=s.length;l<c;l++){var u=s[l];if(u.tracking_id=u.tracking_id||Q(u),u.data){var g=H(u)[0];if(!g){var m=_satellite.getVar("personalizationPropositionsAwaitingJQuery")||[];m.push(o[i]),_satellite.setVar("personalizationPropositionsAwaitingJQuery",m)}g&&!u.rendered&&(u.rendered=!0)}else u.default=!0}for(var p=0,f=r.length;p<f;p++)if(r[p].id===o[i].id){Object.assign(r[p],o[i]);break}}return D(),K(),w&&I(1e3),!0};e.handleRenderedPropositions=ne;var oe=function(){_satellite.logger.info("handleLateRenderedPropositions"),ne()};_satellite.getVar("at-content-rendering-complete")||(_satellite.setVar("at-content-rendering-complete",!0),document.addEventListener("at-content-rendering-complete",oe)),e.trackPropositionClickStep2=function(){};var re=function(e,t){if(!t||!t.targetClk)return!1;var n=x(t.targetClk);if(!n)return!1;var o="",r=t.linkPage,i=t.linkPosition,a=t.linkName;if(e&&e.attributes){var s=e.attributes,l=function(e){if(void 0!==s[e])return s[e].value};o=l("data-at-mbox"),r=l("data-at-linkpage")||r,i=l("data-at-linkposition")||i,a=l("data-at-linkname")||a}o||(o=r+"^"+i+"^"+a),o=o.replaceAll(".","");var c={linkPage:r,linkPosition:i,linkName:a,linkURL:t.linkURL,linkType:t.linkType,linkCategory:t.linkCategory,fileDownloadName:t.fileDownloadName,linkExtraInfo:t.linkExtraInfo,product:t.productCTA,targetTrackingId:t.targetClk};return q([n],o,c),!0};return e.trackPropositionClick=re,e}}},zGlobal_ds_wa_pl_wac:{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"ds_wa_pl_wac"}},zGlobal_datastreamID:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e={};_satellite.truist=_satellite.truist||{},_satellite.truist.alloyConfig&&(e=_satellite.truist.alloyConfig),_satellite.truist.alloyConfig||(e=_satellite.getVar("zGlobal_alloyConfig"));var t=e.getEnvironment(),n=_satellite.getVar("zSite_config").alloyEdgeMap;if(null===n)return _satellite.getVar("xSite_datastreamID");if(n.sync_on&&n.sync_off){let e=_satellite.getVar("zSite_config").aepSyncOverride;return e&&"sync_on"==e||"sync_off"==e?n[e][t]||"":n[_satellite.getVar("zGlobal_etp_total_optout")?"sync_off":"sync_on"][t]||""}return n[t]||""}}},"zGlobal_xdm.web.webPageDetails.name":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.digitalDataWAposting;if(e.pageName)return e.pageName;if("web.webpagedetails.pageViews"===e.eventType){var t=_satellite.getVar(t);return t.site+"|unknown"}}}},zGlobal_at_preview:{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"at_preview",caseInsensitive:!0}},"zGlobal_xdm._experience.analytics.customDimensions.eVars.eVar1":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalDataWAposting.pageName"}},"zGlobal_xdm._suntrustbanksinc.waData":{modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"digitalDataWAposting"}},"3pt_matrix_universal":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return{"www.truist.com":{floodlight_2:{type:"unive0",cat:"truis00",cache_bust:"off",u1:"",u2:document.location.pathname}}}}}},"3pt_pinterest":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){try{e.event_name&&e.uuid?pintrk("track",e.event_name,{event_id:e.uuid}):_satellite.logger.log("missing required param(s)")}catch(e){_satellite.logger.log("error firing Pinterest conversion event: "+e)}}}}},"zGlobal_xdm.web.webInteraction.linkClicks.value":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.digitalDataWAposting;return"web.webinteraction.linkClicks"===e.eventType||e.linkType||e.linkName?1:0}}},zGlobal_etp_gpc_optout:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return!0===navigator.globalPrivacyControl}}},"3pt_dv360":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){try{var t={allow_custom_scripts:!0,send_to:"DC-4264071/"+e.type+"/"+e.cat+"+unique"};gtag("event","conversion",t),_satellite.logger.log("3PT dv360 fired with : "+JSON.stringify(e))}catch(e){_satellite.logger.log("3PT ERROR firing dv360 script: "+e)}}}}},"zGlobal_xdm.web.webInteraction.type":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.digitalDataWAposting;return"download"===e.linkType?"download":"exit"===e.linkType?"exit":e.linkType||e.linkName||"web.webinteraction.linkClicks"===e.eventType?"other":void 0}}},"zGlobal_xdm.web.webPageDetails.pageViews.value":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"web.webpagedetails.pageViews"===window.digitalDataWAposting.eventType?1:0}}}},extensions:{core:{displayName:"Core",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP6a6d85ccbeaa4750848f31959dd9eec5/",modules:{"core/src/lib/dataElements/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source(t)}}},"core/src/lib/dataElements/javascriptVariable.js":{name:"javascript-variable",displayName:"JavaScript Variable",script:function(e,t,n){"use strict";var o=n("../helpers/getObjectProperty.js");e.exports=function(e){return o(window,e.path)}}},"core/src/lib/dataElements/cookie.js":{name:"cookie",displayName:"Cookie",script:function(e,t,n){"use strict";var o=n("@adobe/reactor-cookie");e.exports=function(e){return o.get(e.name)}}},"core/src/lib/dataElements/queryStringParameter.js":{name:"query-string-parameter",displayName:"Query String Parameter",script:function(e,t,n){"use strict";var o=n("@adobe/reactor-window"),r=n("@adobe/reactor-query-string");e.exports=function(e){var t=r.parse(o.location.search);if(!e.caseInsensitive)return t[e.name];for(var n=e.name.toLowerCase(),i=Object.keys(t),a=0;a<i.length;a++){var s=i[a];if(s.toLowerCase()===n)return t[s]}}}},"core/src/lib/conditions/valueComparison.js":{name:"value-comparison",displayName:"Value Comparison",script:function(e,t,n){"use strict";var o=n("../helpers/stringAndNumberUtils").isString,r=n("../helpers/stringAndNumberUtils").isNumber,i=n("../helpers/stringAndNumberUtils").castToStringIfNumber,a=n("../helpers/stringAndNumberUtils").castToNumberIfString,s=function(e,t){return t&&o(e)?e.toLowerCase():e},l=function(e){return function(t,n,r){return t=i(t),n=i(n),o(t)&&o(n)&&e(t,n,r)}},c=function(e){return function(t,n){return t=a(t),n=a(n),r(t)&&r(n)&&e(t,n)}},d=function(e){return function(t,n,o){return e(s(t,o),s(n,o))}},u={equals:d((function(e,t){return e==t})),doesNotEqual:function(){return!u.equals.apply(null,arguments)},contains:l(d((function(e,t){return-1!==e.indexOf(t)}))),doesNotContain:function(){return!u.contains.apply(null,arguments)},startsWith:l(d((function(e,t){return 0===e.indexOf(t)}))),doesNotStartWith:function(){return!u.startsWith.apply(null,arguments)},endsWith:l(d((function(e,t){return e.substring(e.length-t.length,e.length)===t}))),doesNotEndWith:function(){return!u.endsWith.apply(null,arguments)},matchesRegex:l((function(e,t,n){return new RegExp(t,n?"i":"").test(e)})),doesNotMatchRegex:function(){return!u.matchesRegex.apply(null,arguments)},lessThan:c((function(e,t){return e<t})),lessThanOrEqual:c((function(e,t){return e<=t})),greaterThan:c((function(e,t){return e>t})),greaterThanOrEqual:c((function(e,t){return e>=t})),isTrue:function(e){return!0===e},isTruthy:function(e){return Boolean(e)},isFalse:function(e){return!1===e},isFalsy:function(e){return!e}};e.exports=function(e){return u[e.comparison.operator](e.leftOperand,e.rightOperand,Boolean(e.comparison.caseInsensitive))}}},"core/src/lib/actions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e,t,n,o){"use strict";var r,i,a,s,l=n("@adobe/reactor-document"),c=n("@adobe/reactor-promise"),d=n("./helpers/decorateCode"),u=n("./helpers/loadCodeSequentially"),g=n("../../../node_modules/postscribe/dist/postscribe"),m=n("./helpers/unescapeHtmlCode"),p=n("../helpers/findPageScript").getTurbine,f=(i=function(e){g(l.body,e,{beforeWriteToken:function(e){var t=e.tagName&&e.tagName.toLowerCase();return r&&"script"===t&&(e.attrs.nonce=r),"script"!==t&&"style"!==t||(Object.keys(e.attrs||{}).forEach((function(t){e.attrs[t]=m(e.attrs[t])})),e.src&&(e.src=m(e.src))),e},error:function(e){o.logger.error(e.msg)}})},a=[],s=function(){if(l.body)for(;a.length;)i(a.shift());else setTimeout(s,20)},function(e){a.push(e),s()}),h=function(){if(l.currentScript)return l.currentScript.async;var e=p();return!e||e.async}();e.exports=function(e,t){var n;r=o.getExtensionSettings().cspNonce;var i={settings:e,event:t},a=i.settings.source;if(a)return i.settings.isExternal?u(a).then((function(e){return e?(n=d(i,e),f(n.code),n.promise):c.resolve()})):(n=d(i,a),h||"loading"!==l.readyState?f(n.code):l.write&&!1===o.propertySettings.ruleComponentSequencingEnabled?l.write(n.code):f(n.code),n.promise)}}},"core/src/lib/events/domReady.js":{name:"dom-ready",displayName:"DOM Ready",script:function(e,t,n){"use strict";var o=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){o.registerDomReadyTrigger(t)}}},"core/src/lib/conditions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source.call(t.element,t,t.target)}}},"core/src/lib/events/libraryLoaded.js":{name:"library-loaded",displayName:"Library Loaded (Page Top)",script:function(e,t,n){"use strict";var o=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){o.registerLibraryLoadedTrigger(t)}}},"core/src/lib/events/directCall.js":{name:"direct-call",displayName:"Direct Call",script:function(e,t,n,o){"use strict";var r={};window._satellite=window._satellite||{},window._satellite.track=function(e,t){e=e.trim();var n=r[e];if(n){var i={identifier:e,detail:t};n.forEach((function(e){e(i)}));var a=['Rules using the direct call event type with identifier "'+e+'" have been triggered'+(t?" with additional detail:":".")];t&&a.push(t),o.logger.log.apply(o.logger,a)}else o.logger.log('"'+e+'" does not match any direct call identifiers.')},e.exports=function(e,t){var n=r[e.identifier];n||(n=r[e.identifier]=[]),n.push(t)}}},"core/src/lib/conditions/path.js":{name:"path",displayName:"Path Without Query String",script:function(e,t,n){"use strict";var o=n("@adobe/reactor-document"),r=n("../helpers/textMatch");e.exports=function(e){var t=o.location.pathname;return e.paths.some((function(e){var n=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return r(t,n)}))}}},"core/src/lib/events/windowLoaded.js":{name:"window-loaded",displayName:"Window Loaded",script:function(e,t,n){"use strict";var o=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){o.registerWindowLoadedTrigger(t)}}},"core/src/lib/events/click.js":{name:"click",displayName:"Click",script:function(e,t,n){"use strict";var o=n("@adobe/reactor-window"),r=n("./helpers/createBubbly")(),i=new(n("./helpers/weakMap")),a=2,s=n("../helpers/stringAndNumberUtils").castToNumberIfString,l=function(e){if(!e.ctrlKey&&!e.metaKey&&e.button!==a)for(var t=e.target;t;){var n=t.tagName;if(n&&"a"===n.toLowerCase()){var r=t.getAttribute("href"),i=t.getAttribute("target");return r&&(!i||"_self"===i||"_top"===i&&o.top===o||i===o.name)?t:void 0}t=t.parentNode}};document.addEventListener("click",r.evaluateEvent,!0),e.exports=function(e,t){r.addListener(e,(function(n){var r=n.nativeEvent;if(!r.s_fe){var a=s(e.anchorDelay);if(a&&!i.has(r)){var c=l(r);c&&(r.preventDefault(),setTimeout((function(){o.location=c.href}),a)),i.set(r,!0)}t(n)}}))},e.exports.__reset=r.__reset}},"core/src/lib/events/elementExists.js":{name:"element-exists",displayName:"Element Exists",script:function(e,t,n){"use strict";var o=3e3,r=new(n("./helpers/weakMap")),i=n("./helpers/matchesProperties"),a={};setInterval((function(){Object.keys(a).forEach((function(e){for(var t=a[e],n=document.querySelectorAll(e),o=0;o<n.length;o++){var s=n[o];if(!r.has(s)){r.set(s,!0);for(var l=0;l<t.length;l++){var c=t[l];i(s,c.settings.elementProperties)&&(c.trigger({element:s,target:s}),t.splice(l,1),l--)}}if(!t.length){delete a[e];break}}}))}),o),e.exports=function(e,t){var n=a[e.elementSelector];n||(n=a[e.elementSelector]=[]),n.push({settings:e,trigger:t})}}},"core/src/lib/events/focus.js":{name:"focus",displayName:"Focus",script:function(e,t,n){"use strict";var o=n("./helpers/createBubbly")();document.addEventListener("focus",o.evaluateEvent,!0),e.exports=function(e,t){o.addListener(e,t)}}},"core/src/lib/events/customEvent.js":{name:"custom-event",displayName:"Custom Event",script:function(e,t,n){"use strict";var o=n("./helpers/createBubbly")(),r=[];e.exports=function(e,t){var n=e.type;-1===r.indexOf(n)&&(r.push(n),window.addEventListener(n,o.evaluateEvent,!0)),o.addListener(e,(function(e){e.nativeEvent.type===n&&(e.detail=e.nativeEvent.detail,t(e))}))}}},"core/src/lib/helpers/getObjectProperty.js":{script:function(e){"use strict";e.exports=function(e,t){for(var n=t.split("."),o=e,r=0,i=n.length;r<i;r++){if(null==o)return;o=o[n[r]]}return o}}},"core/src/lib/helpers/stringAndNumberUtils.js":{script:function(e){"use strict";var t=function(e){return"number"==typeof e&&isFinite(e)},n=function(e){return"string"==typeof e||e instanceof String},o=function(e){return t(e)?String(e):e},r=function(e){return n(e)?Number(e):e};e.exports={isNumber:t,isString:n,castToStringIfNumber:o,castToNumberIfString:r}}},"core/src/lib/actions/helpers/decorateCode.js":{script:function(e,t,n){"use strict";var o=n("./decorators/decorateGlobalJavaScriptCode"),r=n("./decorators/decorateNonGlobalJavaScriptCode"),i={javascript:function(e,t){return e.settings.global?o(e,t):r(e,t)},html:n("./decorators/decorateHtmlCode")};e.exports=function(e,t){return i[e.settings.language](e,t)}}},"core/src/lib/actions/helpers/loadCodeSequentially.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-promise"),r=n("./getSourceByUrl"),i=o.resolve();e.exports=function(e){var t=new o((function(t){var n=r(e);o.all([n,i]).then((function(e){var n=e[0];t(n)}))}));return i=t,t}}},"core/node_modules/postscribe/dist/postscribe.js":{script:function(e,t){var n,o;n=this,o=function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=o(n(1));e.exports=r.default},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function i(){}function a(){var e=p.shift();if(e){var t=u.last(e);t.afterDequeue(),e.stream=s.apply(void 0,e),t.afterStreamStart()}}function s(e,t,n){function o(e){e=n.beforeWrite(e),f.write(e),n.afterWrite(e)}(f=new d.default(e,n)).id=m++,f.name=n.name||f.id,l.streams[f.name]=f;var r=e.ownerDocument,s={close:r.close,open:r.open,write:r.write,writeln:r.writeln};c(r,{close:i,open:i,write:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return o(t.join(""))},writeln:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return o(t.join("")+"\n")}});var u=f.win.onerror||i;return f.win.onerror=function(e,t,o){n.error({msg:e+" - "+t+": "+o}),u.apply(f.win,[e,t,o])},f.write(t,(function(){c(r,s),f.win.onerror=u,n.done(),f=null,a()})),f}function l(e,t,n){if(u.isFunction(n))n={done:n};else if("clear"===n)return p=[],f=null,void(m=0);n=u.defaults(n,g);var o=[e=/^#/.test(e)?window.document.getElementById(e.substr(1)):e.jquery?e[0]:e,t,n];return e.postscribe={cancel:function(){o.stream?o.stream.abort():o[1]=i}},n.beforeEnqueue(o),p.push(o),f||a(),e.postscribe}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.default=l;var d=r(n(2)),u=o(n(4)),g={afterAsync:i,afterDequeue:i,afterStreamStart:i,afterWrite:i,autoFix:!0,beforeEnqueue:i,beforeWriteToken:function(e){return e},beforeWrite:function(e){return e},done:i,error:function(e){throw new Error(e.msg)},releaseAsync:!1},m=0,p=[],f=null;c(l,{streams:{},queue:p,WriteStream:d.default})},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){var n=g+t,o=e.getAttribute(n);return d.existy(o)?String(o):o}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=g+t;d.existy(n)&&""!==n?e.setAttribute(o,n):e.removeAttribute(o)}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=r(n(3)),d=o(n(4)),u=!1,g="data-ps-",m="ps-style",p="ps-script",f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.root=t,this.options=n,this.doc=t.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new c.default("",{autoFix:n.autoFix}),this.actuals=[t],this.proxyHistory="",this.proxyRoot=this.doc.createElement(t.nodeName),this.scriptStack=[],this.writeQueue=[],s(this.proxyRoot,"proxyof",0)}return e.prototype.write=function(){var e;for((e=this.writeQueue).push.apply(e,arguments);!this.deferredRemote&&this.writeQueue.length;){var t=this.writeQueue.shift();d.isFunction(t)?this._callFunction(t):this._writeImpl(t)}},e.prototype._callFunction=function(e){var t={type:"function",value:e.name||e.toString()};this._onScriptStart(t),e.call(this.win,this.doc),this._onScriptDone(t)},e.prototype._writeImpl=function(e){this.parser.append(e);for(var t=void 0,n=void 0,o=void 0,r=[];(t=this.parser.readToken())&&!(n=d.isScript(t))&&!(o=d.isStyle(t));)(t=this.options.beforeWriteToken(t))&&r.push(t);r.length>0&&this._writeStaticTokens(r),n&&this._handleScriptToken(t),o&&this._handleStyleToken(t)},e.prototype._writeStaticTokens=function(e){var t=this._buildChunk(e);return t.actual?(t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,u&&(t.proxyInnerHTML=this.proxyRoot.innerHTML),this._walkChunk(),u&&(t.actualInnerHTML=this.root.innerHTML),t):null},e.prototype._buildChunk=function(e){for(var t=this.actuals.length,n=[],o=[],r=[],i=e.length,a=0;a<i;a++){var s=e[a],l=s.toString();if(n.push(l),s.attrs){if(!/^noscript$/i.test(s.tagName)){var c=t++;o.push(l.replace(/(\/?>)/," "+g+"id="+c+" $1")),s.attrs.id!==p&&s.attrs.id!==m&&r.push("atomicTag"===s.type?"":"<"+s.tagName+" "+g+"proxyof="+c+(s.unary?" />":">"))}}else o.push(l),r.push("endTag"===s.type?l:"")}return{tokens:e,raw:n.join(""),actual:o.join(""),proxy:r.join("")}},e.prototype._walkChunk=function(){for(var e=void 0,t=[this.proxyRoot];d.existy(e=t.shift());){var n=1===e.nodeType;if(!n||!a(e,"proxyof")){n&&(this.actuals[a(e,"id")]=e,s(e,"id"));var o=e.parentNode&&a(e.parentNode,"proxyof");o&&this.actuals[o].appendChild(e)}t.unshift.apply(t,d.toArray(e.childNodes))}},e.prototype._handleScriptToken=function(e){var t=this,n=this.parser.clear();n&&this.writeQueue.unshift(n),e.src=e.attrs.src||e.attrs.SRC,(e=this.options.beforeWriteToken(e))&&(e.src&&this.scriptStack.length?this.deferredRemote=e:this._onScriptStart(e),this._writeScriptToken(e,(function(){t._onScriptDone(e)})))},e.prototype._handleStyleToken=function(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",(e=this.options.beforeWriteToken(e))&&this._writeStyleToken(e),t&&this.write()},e.prototype._writeStyleToken=function(e){var t=this._buildStyle(e);this._insertCursor(t,m),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},e.prototype._buildStyle=function(e){var t=this.doc.createElement(e.tagName);return t.setAttribute("type",e.type),d.eachKey(e.attrs,(function(e,n){t.setAttribute(e,n)})),t},e.prototype._insertCursor=function(e,t){this._writeImpl('<span id="'+t+'"/>');var n=this.doc.getElementById(t);n&&n.parentNode.replaceChild(e,n)},e.prototype._onScriptStart=function(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},e.prototype._onScriptDone=function(e){e===this.scriptStack[0]?(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)):this.options.error({msg:"Bad script nesting or script finished twice"})},e.prototype._writeScriptToken=function(e,t){var n=this._buildScript(e),o=this._shouldRelease(n),r=this.options.afterAsync;e.src&&(n.src=e.src,this._scriptLoadHandler(n,o?r:function(){t(),r()}));try{this._insertCursor(n,p),n.src&&!o||t()}catch(e){this.options.error(e),t()}},e.prototype._buildScript=function(e){var t=this.doc.createElement(e.tagName);return d.eachKey(e.attrs,(function(e,n){t.setAttribute(e,n)})),e.content&&(t.text=e.content),t},e.prototype._scriptLoadHandler=function(e,t){function n(){e=e.onload=e.onreadystatechange=e.onerror=null}function o(){n(),null!=t&&t(),t=null}function r(e){n(),a(e),null!=t&&t(),t=null}function i(e,t){var n=e["on"+t];null!=n&&(e["_on"+t]=n)}var a=this.options.error;i(e,"load"),i(e,"error"),l(e,{onload:function(){if(e._onload)try{e._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){r({msg:"onload handler failed "+t+" @ "+e.src})}o()},onerror:function(){if(e._onerror)try{e._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){return void r({msg:"onerror handler failed "+t+" @ "+e.src})}r({msg:"remote script failed "+e.src})},onreadystatechange:function(){/^(loaded|complete)$/.test(e.readyState)&&o()}})},e.prototype._shouldRelease=function(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},e}();t.default=f},function(e){var t;t=function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=o(n(1));e.exports=r.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var a=r(n(2)),s=r(n(3)),l=o(n(6)),c=n(5),d={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},u=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.stream=n;var r=!1,s={};for(var c in a)a.hasOwnProperty(c)&&(o.autoFix&&(s[c+"Fix"]=!0),r=r||s[c+"Fix"]);r?(this._readToken=(0,l.default)(this,s,(function(){return t._readTokenImpl()})),this._peekToken=(0,l.default)(this,s,(function(){return t._peekTokenImpl()}))):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}return e.prototype.append=function(e){this.stream+=e},e.prototype.prepend=function(e){this.stream=e+this.stream},e.prototype._readTokenImpl=function(){var e=this._peekTokenImpl();if(e)return this.stream=this.stream.slice(e.length),e},e.prototype._peekTokenImpl=function(){for(var e in d)if(d.hasOwnProperty(e)&&d[e].test(this.stream)){var t=s[e](this.stream);if(t)return"startTag"===t.type&&/script|style/i.test(t.tagName)?null:(t.text=this.stream.substr(0,t.length),t)}},e.prototype.peekToken=function(){return this._peekToken()},e.prototype.readToken=function(){return this._readToken()},e.prototype.readTokens=function(e){for(var t=void 0;t=this.readToken();)if(e[t.type]&&!1===e[t.type](t))return},e.prototype.clear=function(){var e=this.stream;return this.stream="",e},e.prototype.rest=function(){return this.stream},e}();for(var g in t.default=u,u.tokenToString=function(e){return e.toString()},u.escapeAttributes=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=(0,c.escapeQuotes)(e[n],null));return t},u.supports=a,a)a.hasOwnProperty(g)&&(u.browserHasFlaw=u.browserHasFlaw||!a[g]&&g)},function(e,t){"use strict";t.__esModule=!0;var n=!1,o=!1,r=window.document.createElement("div");try{var i="<P><I></P></I>";r.innerHTML=i,t.tagSoup=n=r.innerHTML!==i}catch(e){
t.tagSoup=n=!1}try{r.innerHTML="<P><i><P></P></i></P>",t.selfClose=o=2===r.childNodes.length}catch(e){t.selfClose=o=!1}r=null,t.tagSoup=n,t.selfClose=o},function(e,t,n){"use strict";function o(e){var t=e.indexOf("-->");if(t>=0)return new c.CommentToken(e.substr(4,t-1),t+3)}function r(e){var t=e.indexOf("<");return new c.CharsToken(t>=0?t:e.length)}function i(e){var t,n,o;if(-1!==e.indexOf(">")){var r=e.match(d.startTag);if(r){var i=(t={},n={},o=r[2],r[2].replace(d.attr,(function(e,r){arguments[2]||arguments[3]||arguments[4]||arguments[5]?arguments[5]?(t[arguments[5]]="",n[arguments[5]]=!0):t[r]=arguments[2]||arguments[3]||arguments[4]||d.fillAttr.test(r)&&r||"":t[r]="",o=o.replace(e,"")})),{v:new c.StartTagToken(r[1],r[0].length,t,n,!!r[3],o.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))});if("object"===(void 0===i?"undefined":l(i)))return i.v}}}function a(e){var t=i(e);if(t){var n=e.slice(t.length);if(n.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){var o=n.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(o)return new c.AtomicTagToken(t.tagName,o[0].length+t.length,t.attrs,t.booleanAttrs,o[1])}}}function s(e){var t=e.match(d.endTag);if(t)return new c.EndTagToken(t[1],t[0].length)}t.__esModule=!0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.comment=o,t.chars=r,t.startTag=i,t.atomicTag=a,t.endTag=s;var c=n(4),d={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i}},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0,t.EndTagToken=t.AtomicTagToken=t.StartTagToken=t.TagToken=t.CharsToken=t.CommentToken=t.Token=void 0;var r=n(5),i=(t.Token=function e(t,n){o(this,e),this.type=t,this.length=n,this.text=""},t.CommentToken=function(){function e(t,n){o(this,e),this.type="comment",this.length=n||(t?t.length:0),this.text="",this.content=t}return e.prototype.toString=function(){return"<!--"+this.content},e}(),t.CharsToken=function(){function e(t){o(this,e),this.type="chars",this.length=t,this.text=""}return e.prototype.toString=function(){return this.text},e}(),t.TagToken=function(){function e(t,n,r,i,a){o(this,e),this.type=t,this.length=r,this.text="",this.tagName=n,this.attrs=i,this.booleanAttrs=a,this.unary=!1,this.html5Unary=!1}return e.formatTag=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="<"+e.tagName;for(var o in e.attrs)if(e.attrs.hasOwnProperty(o)){n+=" "+o;var i=e.attrs[o];void 0!==e.booleanAttrs&&void 0!==e.booleanAttrs[o]||(n+='="'+(0,r.escapeQuotes)(i)+'"')}return e.rest&&(n+=" "+e.rest),e.unary&&!e.html5Unary?n+="/>":n+=">",null!=t&&(n+=t+"</"+e.tagName+">"),n},e}());t.StartTagToken=function(){function e(t,n,r,i,a,s){o(this,e),this.type="startTag",this.length=n,this.text="",this.tagName=t,this.attrs=r,this.booleanAttrs=i,this.html5Unary=!1,this.unary=a,this.rest=s}return e.prototype.toString=function(){return i.formatTag(this)},e}(),t.AtomicTagToken=function(){function e(t,n,r,i,a){o(this,e),this.type="atomicTag",this.length=n,this.text="",this.tagName=t,this.attrs=r,this.booleanAttrs=i,this.unary=!1,this.html5Unary=!1,this.content=a}return e.prototype.toString=function(){return i.formatTag(this,this.content)},e}(),t.EndTagToken=function(){function e(t,n){o(this,e),this.type="endTag",this.length=n,this.text="",this.tagName=t}return e.prototype.toString=function(){return"</"+this.tagName+">"},e}()},function(e,t){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?e.replace(/([^"]*)"/g,(function(e,t){return/\\/.test(t)?t+'"':t+'\\"'})):t}t.__esModule=!0,t.escapeQuotes=n},function(e,t){"use strict";function n(e){return e&&"startTag"===e.type&&(e.unary=s.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e}function o(e,t){var o=e.stream,r=n(t());return e.stream=o,r}function r(e,t){var n=t.pop();e.prepend("</"+n.tagName+">")}function i(){var e=[];return e.last=function(){return this[this.length-1]},e.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},e.containsTagName=function(e){for(var t,n=0;t=this[n];n++)if(t.tagName===e)return!0;return!1},e}function a(e,t,a){function s(){var t=o(e,a);t&&d[t.type]&&d[t.type](t)}var c=i(),d={startTag:function(n){var o=n.tagName;"TR"===o.toUpperCase()&&c.lastTagNameEq("TABLE")?(e.prepend("<TBODY>"),s()):t.selfCloseFix&&l.test(o)&&c.containsTagName(o)?c.lastTagNameEq(o)?r(e,c):(e.prepend("</"+n.tagName+">"),s()):n.unary||c.push(n)},endTag:function(n){c.last()?t.tagSoupFix&&!c.lastTagNameEq(n.tagName)?r(e,c):c.pop():t.tagSoupFix&&(a(),s())}};return function(){return s(),n(a())}}t.__esModule=!0,t.default=a;var s=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,l=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i}])},e.exports=t()},function(e,t){"use strict";function n(e){return null!=e}function o(e){return"function"==typeof e}function r(e,t,n){var o=void 0,r=e&&e.length||0;for(o=0;o<r;o++)t.call(n,e[o],o)}function i(e,t,n){for(var o in e)e.hasOwnProperty(o)&&t.call(n,o,e[o])}function a(e,t){return e=e||{},i(t,(function(t,o){n(e[t])||(e[t]=o)})),e}function s(e){try{return Array.prototype.slice.call(e)}catch(o){var t=(n=[],r(e,(function(e){n.push(e)})),{v:n});if("object"===(void 0===t?"undefined":g(t)))return t.v}var n}function l(e){return e[e.length-1]}function c(e,t){return!(!e||"startTag"!==e.type&&"atomicTag"!==e.type||!("tagName"in e)||!~e.tagName.toLowerCase().indexOf(t))}function d(e){return c(e,"script")}function u(e){return c(e,"style")}t.__esModule=!0;var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.existy=n,t.isFunction=o,t.each=r,t.eachKey=i,t.defaults=a,t.toArray=s,t.last=l,t.isTag=c,t.isScript=d,t.isStyle=u}])},"object"==typeof t&&"object"==typeof e?e.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof t?t.postscribe=o():n.postscribe=o()}},"core/src/lib/actions/helpers/unescapeHtmlCode.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-document").createElement("div");e.exports=function(e){return o.innerHTML=e,o.textContent||o.innerText||e}}},"core/src/lib/helpers/findPageScript.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-document"),r=function(e){for(var t=o.querySelectorAll("script"),n=0;n<t.length;n++){var r=t[n];if(e.test(r.src))return r}},i=function(){return r(new RegExp(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/))};e.exports={getTurbine:i,byRegexPattern:r}}},"core/src/lib/actions/helpers/decorators/decorateGlobalJavaScriptCode.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-promise");e.exports=function(e,t){return{code:"<script>\n"+t+"\n</script>",promise:o.resolve()}}}},"core/src/lib/actions/helpers/decorators/decorateNonGlobalJavaScriptCode.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-promise"),r=0;e.exports=function(e,t){var n="_runScript"+ ++r,i=new o((function(t,r){_satellite[n]=function(i){delete _satellite[n],new o((function(t){t(i.call(e.event.element,e.event,e.event.target,o))})).then(t,r)}}));return{code:'<script>_satellite["'+n+'"](function(event, target, Promise) {\n'+t+"\n});</script>",promise:i}}}},"core/src/lib/actions/helpers/decorators/decorateHtmlCode.js":{script:function(e,t,n,o){"use strict";var r=n("@adobe/reactor-promise"),i=0,a={};window._satellite=window._satellite||{},window._satellite._onCustomCodeSuccess=function(e){var t=a[e];t&&(delete a[e],t.resolve())},window._satellite._onCustomCodeFailure=function(e){var t=a[e];t&&(delete a[e],t.reject())};var s=function(e){return-1!==e.indexOf("${reactorCallbackId}")},l=function(e,t){return e.replace(/\${reactorCallbackId}/g,t)},c=function(e){return e.settings.isExternal};e.exports=function(e,t){var n;return c(e)&&(t=o.replaceTokens(t,e.event)),s(t)?(n=new r((function(e,t){a[String(i)]={resolve:e,reject:t}})),t=l(t,i),i+=1):n=r.resolve(),{code:t,promise:n}}}},"core/src/lib/actions/helpers/getSourceByUrl.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-load-script"),r=n("@adobe/reactor-promise"),i=n("../../helpers/findPageScript").byRegexPattern,a={},s={},l=function(e){return s[e]||(s[e]=o(e)),s[e]};_satellite.__registerScript=function(e,t){var n;if(document.currentScript)n=document.currentScript.getAttribute("src");else{var o=new RegExp(".*"+e+".*");n=i(o).getAttribute("src")}a[n]=t},e.exports=function(e){return a[e]?r.resolve(a[e]):new r((function(t){l(e).then((function(){t(a[e])}),(function(){t()}))}))}}},"core/src/lib/events/helpers/pageLifecycleEvents.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-window"),r=n("@adobe/reactor-document"),i=-1!==o.navigator.appVersion.indexOf("MSIE 10"),a="WINDOW_LOADED",s="DOM_READY",l="PAGE_BOTTOM",c=[l,s,a],d=function(e,t){return{element:e,target:e,nativeEvent:t}},u={};c.forEach((function(e){u[e]=[]}));var g=function(e,t){c.slice(0,p(e)+1).forEach((function(e){f(t,e)}))},m=function(){return"complete"===r.readyState?a:"interactive"===r.readyState?i?null:s:void 0},p=function(e){return c.indexOf(e)},f=function(e,t){u[t].forEach((function(t){h(e,t)})),u[t]=[]},h=function(e,t){var n=t.trigger,o=t.syntheticEventFn;n(o?o(e):null)};o._satellite=o._satellite||{},o._satellite.pageBottom=g.bind(null,l),r.addEventListener("DOMContentLoaded",g.bind(null,s),!0),o.addEventListener("load",g.bind(null,a),!0),o.setTimeout((function(){var e=m();e&&g(e)}),0),e.exports={registerLibraryLoadedTrigger:function(e){e()},registerPageBottomTrigger:function(e){u[l].push({trigger:e})},registerDomReadyTrigger:function(e){u[s].push({trigger:e,syntheticEventFn:d.bind(null,r)})},registerWindowLoadedTrigger:function(e){u[a].push({trigger:e,syntheticEventFn:d.bind(null,o)})}}}},"core/src/lib/helpers/textMatch.js":{script:function(e){"use strict";e.exports=function(e,t){if(null==t)throw new Error("Illegal Argument: Pattern is not present");return null!=e&&("string"==typeof t?e===t:t instanceof RegExp&&t.test(e))}}},"core/src/lib/events/helpers/createBubbly.js":{script:function(e,t,n){"use strict";var o=n("./weakMap"),r=n("./matchesProperties"),i=n("./matchesSelector");e.exports=function(){var e=[],t=new o,n={addListener:function(t,n){e.push({settings:t,callback:n})},evaluateEvent:function(n,o){if(e.length&&!t.has(n)){for(var a=n.target,s=!1;a;){for(var l=!1,c=!1,d=0;d<e.length;d++){var u=e[d],g=u.settings.elementSelector,m=u.settings.elementProperties;if((!1!==u.settings.bubbleFireIfChildFired||!s)&&((a===n.target||!1!==u.settings.bubbleFireIfParent)&&(a===n.target||g||m&&Object.keys(m).length)&&(!g||i(a,g))&&(!m||r(a,m)))){var p={};o?Object.keys(n).forEach((function(e){p[e]=n[e]})):p.nativeEvent=n,p.element=a,p.target=n.target,!1!==u.callback(p)&&(c=!0,u.settings.bubbleStop&&(l=!0))}}if(l)break;c&&(s=!0),a=a.parentNode}t.set(n,!0)}},__reset:function(){e=[]}};return n}}},"core/src/lib/events/helpers/weakMap.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-window").WeakMap;if(void 0===o){var r=Object.defineProperty,i=Date.now()%1e9;(o=function(){this.name="__st"+(1e9*Math.random()>>>0)+i+++"__"}).prototype={set:function(e,t){var n=e[this.name];return n&&n[0]===e?n[1]=t:r(e,this.name,{value:[e,t],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},delete:function(e){var t=e[this.name];return!(!t||t[0]!==e)&&(t[0]=t[1]=void 0,!0)},has:function(e){var t=e[this.name];return!!t&&t[0]===e}}}e.exports=o}},"core/src/lib/events/helpers/matchesProperties.js":{script:function(e,t,n){"use strict";var o=n("./../../helpers/textMatch"),r=function(e,t){return"@text"===t||"innerText"===t?e.textContent||e.innerText:t in e?e[t]:e.getAttribute?e.getAttribute(t):void 0};e.exports=function(e,t){return!t||t.every((function(t){var n=r(e,t.name),i=t.valueIsRegex?new RegExp(t.value,"i"):t.value;return o(n,i)}))}}},"core/src/lib/events/helpers/matchesSelector.js":{script:function(e,t,n,o){"use strict";e.exports=function(e,t){var n=e.matches||e.msMatchesSelector;if(n)try{return n.call(e,t)}catch(e){return o.logger.warn("Matching element failed. "+t+" is not a valid selector."),!1}return!1}}}}},"adobe-alloy":{displayName:"Adobe Experience Platform Web SDK",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPf014ed2967c745c5ba3a2e04de817f0a/",settings:{instances:[{name:"alloy",edgeDomain:"%zGlobal_edgeDomain%",edgeConfigId:"%zGlobal_datastreamID%",stagingEdgeConfigId:"%zGlobal_datastreamID%",clickCollectionEnabled:!1,developmentEdgeConfigId:"%zGlobal_datastreamID%"}]},modules:{"adobe-alloy/dist/lib/dataElements/xdmObject/index.js":{name:"xdm-object",displayName:"XDM object",script:function(e){"use strict";e.exports=e=>e.data}},"adobe-alloy/dist/lib/actions/sendEvent/index.js":{name:"send-event",displayName:"Send event",script:function(e,t,n,o){"use strict";var r;const i=n("./createSendEvent"),a=n("../../instanceManager/index"),{sendEventCallbackStorage:s}=n("../../index"),l=n("../../utils/createGetConfigOverrides");e.exports=i({instanceManager:a,sendEventCallbackStorage:s,getConfigOverrides:l(null===(r=o.environment)||void 0===r?void 0:r.stage)})}},"adobe-alloy/dist/lib/instanceManager/index.js":{script:function(e,t,n,o){"use strict";var r;const{createCustomInstance:i,createEventMergeId:a,components:s}=n("../alloy"),l=n("./createInstanceManager"),c=n("./injectWrapOnBeforeEventSend"),d=n("../utils/createGetConfigOverrides"),u=c({version:"2.31.0"});e.exports=l({turbine:o,window:window,createCustomInstance:i,components:s,createEventMergeId:a,orgId:_satellite.company.orgId,wrapOnBeforeEventSend:u,getConfigOverrides:d(null===(r=o.environment)||void 0===r?void 0:r.stage)})}},"adobe-alloy/dist/lib/actions/sendEvent/createSendEvent.js":{script:function(e,t,n){"use strict";const o=n("../../utils/clone");e.exports=({instanceManager:e,sendEventCallbackStorage:t,getConfigOverrides:n})=>r=>{const{instanceName:i,...a}=r;a.edgeConfigOverrides=n(a);const s=e.getInstance(i);if(!s)throw new Error(`Failed to send event for instance "${i}". No matching instance was configured with this name.`);return a.xdm&&(a.xdm=o(a.xdm)),a.data&&(a.data=o(a.data)),s("sendEvent",a).then((e=>{t.triggerEvent(e)}))}}},"adobe-alloy/dist/lib/index.js":{script:function(e,t,n){"use strict";const o=n("./createEventMergeIdCache"),r=n("./createSendEventCallbackStorage"),i=n("./createMediaCollectionSessionStorage"),a=n("./createVariableStore");t.eventMergeIdCache=o(),t.sendEventCallbackStorage=r(),t.mediaCollectionSessionStorage=i(),t.variableStore=a()}},"adobe-alloy/dist/lib/utils/createGetConfigOverrides.js":{script:function(e){"use strict";const t=e=>t=>{var n,o,r,i;const{edgeConfigOverrides:a}=t;let s;if(a){if(a[e])s={...a[e]};else{if(a.development||a.staging||a.production)return;s=a}if(0!==Object.keys(s).length&&!1!==s.enabled){if(delete s.enabled,Object.keys(s).forEach((e=>{var t;!0===(null===(t=s[e])||void 0===t?void 0:t.enabled)&&delete s[e].enabled})),(null===(n=s.com_adobe_analytics)||void 0===n||null===(n=n.reportSuites)||void 0===n?void 0:n.length)>0&&(s.com_adobe_analytics.reportSuites=s.com_adobe_analytics.reportSuites.flatMap((e=>e.includes(",")?e.split(/,\s*/gi):e)).map((e=>e.trim())).filter(Boolean)),void 0!==(null===(o=s.com_adobe_identity)||void 0===o?void 0:o.idSyncContainerId)&&null!==(null===(r=s.com_adobe_identity)||void 0===r?void 0:r.idSyncContainerId)&&"string"==typeof(null===(i=s.com_adobe_identity)||void 0===i?void 0:i.idSyncContainerId))if(""===s.com_adobe_identity.idSyncContainerId.trim())delete s.com_adobe_identity.idSyncContainerId;else{const e=parseInt(s.com_adobe_identity.idSyncContainerId.trim(),10);if(Number.isNaN(e))throw new Error(`The ID sync container ID "${s.com_adobe_identity.idSyncContainerId}" is not a valid integer.`);s.com_adobe_identity.idSyncContainerId=e}return s}}};e.exports=t}},"adobe-alloy/dist/lib/utils/clone.js":{script:function(e){"use strict";e.exports=e=>JSON.parse(JSON.stringify(e))}},"adobe-alloy/dist/lib/alloy.js":{script:function(e,t){"use strict";function n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)e[o]=n[o]}return e}function o(e,t){function r(o,r,i){if("undefined"!=typeof document){"number"==typeof(i=n({},t,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),o=encodeURIComponent(o).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var s in i)i[s]&&(a+="; "+s,!0!==i[s]&&(a+="="+i[s].split(";")[0]));return document.cookie=o+"="+e.write(r,o)+a}}function i(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var n=document.cookie?document.cookie.split("; "):[],o={},r=0;r<n.length;r++){var i=n[r].split("="),a=i.slice(1).join("=");try{var s=decodeURIComponent(i[0]);if(o[s]=e.read(a,s),t===s)break}catch(e){}}return t?o[t]:o}}return Object.create({set:r,get:i,remove:function(e,t){r(e,"",n({},t,{expires:-1}))},withAttributes:function(e){return o(this.converter,n({},this.attributes,e))},withConverter:function(e){return o(n({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}function r(e,t=0){return(_e[e[t+0]]+_e[e[t+1]]+_e[e[t+2]]+_e[e[t+3]]+"-"+_e[e[t+4]]+_e[e[t+5]]+"-"+_e[e[t+6]]+_e[e[t+7]]+"-"+_e[e[t+8]]+_e[e[t+9]]+"-"+_e[e[t+10]]+_e[e[t+11]]+_e[e[t+12]]+_e[e[t+13]]+_e[e[t+14]]+_e[e[t+15]]).toLowerCase()}function i(){if(!we){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");we=crypto.getRandomValues.bind(crypto)}return we(Ce)}function a(e,t,n){if(ke.randomUUID&&!t&&!e)return ke.randomUUID();const o=(e=e||{}).random??e.rng?.()??i();if(o.length<16)throw new Error("Random bytes length must be >= 16");if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=o[e];return t}return r(o)}function s(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function l(){if(ln)return sn;ln=1;var e=function(e){var t={};if(!e||"string"!=typeof e)return t;var n=e.trim().replace(/^[?#&]/,""),o=new URLSearchParams(n),r=o.keys();do{var i=r.next(),a=i.value;if(a){var s=o.getAll(a);1===s.length?t[a]=s[0]:t[a]=s}}while(!1===i.done);return t},t=function(e){var t="{{space}}",n=new URLSearchParams;return Object.keys(e).forEach((function(o){var r=e[o];"string"==typeof e[o]?r=r.replace(/ /g,t):["object","undefined"].includes(typeof r)&&!Array.isArray(r)&&(r=""),Array.isArray(r)?r.forEach((function(e){n.append(o,e)})):n.append(o,r)})),n.toString().replace(new RegExp(encodeURIComponent(t),"g"),"%20")};return sn={parse:function(t){return e(t)},stringify:function(e){return t(e)}},sn}function c(e){return"object"==typeof e||void 0===e}function d(){return{matches:(e,t,n=[])=>{if(c(e[t]))return!1;const o=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!c(n[e])&&o===String(n[e]).toLowerCase())return!0;return!1}}}function u(){return{matches:(e,t,n=[])=>{if(c(e[t]))return!1;const o=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!c(n[e])&&o===String(n[e]).toLowerCase())return!1;return!0}}}function g(){return{matches:(e,t)=>void 0!==e[t]&&null!==e[t]}}function m(){return{matches:(e,t)=>void 0===e[t]||null===e[t]}}function p(e){return"number"==typeof e}function f(){return{matches:(e,t,n=[])=>{const o=e[t];if(!p(o))return!1;for(let e=0;e<n.length;e+=1)if(p(n[e])&&o>n[e])return!0;return!1}}}function h(){return{matches:(e,t,n=[])=>{const o=e[t];if(!p(o))return!1;for(let e=0;e<n.length;e+=1)if(p(n[e])&&o>=n[e])return!0;return!1}}}function b(){return{matches:(e,t,n=[])=>{const o=e[t];if(!p(o))return!1;for(let e=0;e<n.length;e+=1)if(p(n[e])&&o<n[e])return!0;return!1}}}function v(){return{matches:(e,t,n=[])=>{const o=e[t];if(!p(o))return!1;for(let e=0;e<n.length;e+=1)if(p(n[e])&&o<=n[e])return!0;return!1}}}function y(){return{matches:(e,t,n=[])=>{if(c(e[t]))return!1;const o=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!c(n[e])&&-1!==o.indexOf(String(n[e]).toLowerCase()))return!0;return!1}}}function _(){return{matches:(e,t,n=[])=>{if(c(e[t]))return!1;const o=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!c(n[e])&&-1!==o.indexOf(String(n[e]).toLowerCase()))return!1;return!0}}}function w(){return{matches:(e,t,n=[])=>{if(c(e[t]))return!1;const o=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!c(n[e])&&o.startsWith(String(n[e]).toLowerCase()))return!0;return!1}}}function C(){return{matches:(e,t,n=[])=>{if(c(e[t]))return!1;const o=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!c(n[e])&&o.endsWith(n[e].toLowerCase()))return!0;return!1}}}function k(e){return Lg[e]}function P(e){return void 0===e}function E(e,t,n,o=0,r=1/0){return e.reduce(((e,i)=>{try{const a=n.generateEventHash(qg(i)),s=t.events[a];if(!s)return e;const{timestamps:l=[]}=s;return e+l.filter((e=>e>=o&&e<=r)).length}catch{return e}}),0)}function T(e,t,n,o=0,r=1/0){try{let i=o;const a=e.every((e=>{const o=n.generateEventHash(qg(e)),a=t.events[o];if(!a)return!1;const s=a.timestamps[0],l=s>=i&&s<=r;return i=s,l}));return Number(a)}catch{return 0}}function I(e,t,n,o=0,r=1/0){try{return e.reduce(((e,i,a)=>{const s=n.generateEventHash(qg(i)),l=t.events[s];if(!l)return e;const c=l.timestamps.filter((e=>e>=o&&e<=r)).pop();return c&&c>e.timestamp?{index:a,timestamp:c}:e}),{index:-1,timestamp:0}).index}catch{return-1}}function D(e,t,n){let o=!0;for(let r=0;r<t.length;r+=1)o=o&&t[r].evaluate(e,n);return o}function A(e,t,n){let o=!1;for(let r=0;r<t.length;r+=1)if(o=o||t[r].evaluate(e,n),o)return!0;return!1}function S(e,t,n){return{version:e,rules:t,metadata:n}}function x(e,t,n){return{key:n,execute:(n,o)=>e.evaluate(n,o)?t:[],toString:()=>`Rule{condition=${e}, consequences=${t}}`}}function O(e,t){return{evaluate:(e,n)=>t.evaluate(e,n),toString:()=>`Condition{type=${e}, definition=${t}}`}}function j(e,t,n){return{id:e,type:t,detail:n}}function R(e,t){return{evaluate:(n,o)=>Rg.AND===e?D(n,t,o):Rg.OR===e&&A(n,t,o)}}function N(e,t,n){return{evaluate:o=>{const r=k(t);return!!r&&r.matches(o,e,n)}}}function L(e,t,n,o,r,i){return{evaluate:(a,s)=>{let l;return l=Ng.MOST_RECENT===i?I(e,a,s,o,r):Ng.ORDERED===i?T(e,a,s,o,r):E(e,a,s,o,r),Gg(l,t,n)}}}function M(e){const{key:t,matcher:n,values:o}=e;return N(t,n,o)}function V(e){const{logic:t,conditions:n}=e;return R(t,n.map(z))}function U(e){const{events:t,from:n,to:o,matcher:r,value:i,searchType:a}=e;return L(t,r,i,n,o,a)}function z(e){const{type:t,definition:n}=e;if(Og.MATCHER===t){return O(t,M(n))}if(Og.GROUP===t){return O(t,V(n))}if(Og.HISTORICAL===t){return O(t,U(n))}throw new Error("Can not parse condition")}function G(e){const{id:t,type:n,detail:o}=e;return j(t,n,o)}function F(e){const{condition:t,consequences:n,key:o}=e;return x(z(t),n.map(G),o)}function q(e){if(!e)return;return{provider:e.provider,providerData:Object.assign({},e.providerData)}}function $(e){const{version:t,rules:n,metadata:o}=e;return S(t,n.map(F),q(o))}function W(e,t){return{provider:Wg,execute:n=>e.map((e=>e.execute(n,t))).filter((e=>e.length>0))}}function B(e){const{providerData:t}=e;if(!t)throw new Error("Provider data is missing in metadata");const{identityTemplate:n,buckets:o}=t;if(!n)throw new Error("Identity template is missing in provider data");if(!o)throw new Error("Buckets is missing in provider data")}function H(e){const{xdm:t}=e;if(!t)throw new Error("XDM object is missing in the context");const{identityMap:n}=t;if(!n)throw new Error("Identity map is missing in the XDM object");const o=n[Bg];if(!o)throw new Error("ECID identity namespace is missing in the identity map");if(!Array.isArray(o)||0===o.length)throw new Error("ECID identities array is empty or not an array");const r=o[0].id;if(!r)throw new Error("ECID identity is missing in the identities array");return r}function Q(e,t,n){const{providerData:o}=n,{identityTemplate:r}=o;return r.replace(Hg,t).replace(Qg,e)}function J(e){return!P(e)}function K(e,t=e=>e[0]){const n={};return function(...o){const r=t(o);return J(n[r])||(n[r]=e(...o)),n[r]}}function X(e,t){const n=65535&t;return((t-n)*e|0)+(n*e|0)|0}function Y(e,t=0){let n;const o=e.length,r=3432918353,i=461845907;let a=t;const s=-2&o;for(let t=0;t<s;t+=2)n=e.charCodeAt(t)|e.charCodeAt(t+1)<<16,n=X(n,r),n=(131071&n)<<15|n>>>17,n=X(n,i),a^=n,a=(524287&a)<<13|a>>>19,a=5*a+3864292196|0;return o%2==1&&(n=e.charCodeAt(s),n=X(n,r),n=(131071&n)<<15|n>>>17,n=X(n,i),a^=n),a^=o<<1,a^=a>>>16,a=X(a,2246822507),a^=a>>>13,a=X(a,3266489909),a^=a>>>16,a}function Z(e,t){const n=Jg(e),o=Math.abs(n)%t/t*Kg;return Math.round(o*Kg)/Kg}function ee(e,t,n){return{allocation:Xg(e,t),...n}}function te(e){const t={};for(let n=0;n<e.length;n+=1){const o=e[n];o.key&&(t[o.key]||(t[o.key]=[]),t[o.key].push(o))}return t}function ne(e,t){return t.map((t=>t.execute(e))).filter((e=>e.length>0))}function oe(e,t){B(t);const n=e.filter((e=>!e.key)),o=te(e),{buckets:r}=t.providerData;return{provider:$g,execute:e=>{const i=H(e),a=ne(e,n),s=Object.keys(o),l=[];for(let n=0;n<s.length;n+=1){const a=s[n],c=o[a],d=ne(ee(Q(i,a,t),r,e),c);l.push(...d)}return[...a,...l]}}}function re(e,t,n){const{provider:o}=t;return o===$g?oe(e,t):W(e,n)}function ie(e,t={generateEventHash:()=>{throw new Error("No hash function provided")}}){const{rules:n,metadata:o={}}=$(e);return re(n,o,t)}function ae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)e[o]=n[o]}return e}function se(e,t){function n(n,o,r){if("undefined"!=typeof document){"number"==typeof(r=ae({},t,r)).expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),n=encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var a in r)r[a]&&(i+="; "+a,!0!==r[a]&&(i+="="+r[a].split(";")[0]));return document.cookie=n+"="+e.write(o,n)+i}}function o(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var n=document.cookie?document.cookie.split("; "):[],o={},r=0;r<n.length;r++){var i=n[r].split("="),a=i.slice(1).join("=");try{var s=decodeURIComponent(i[0]);if(o[s]=e.read(a,s),t===s)break}catch(e){}}return t?o[t]:o}}return Object.create({set:n,get:o,remove:function(e,t){n(e,"",ae({},t,{expires:-1}))},withAttributes:function(e){return se(this.converter,ae({},this.attributes,e))},withConverter:function(e){return se(ae({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}function le(e,t=0){return(ep[e[t+0]]+ep[e[t+1]]+ep[e[t+2]]+ep[e[t+3]]+"-"+ep[e[t+4]]+ep[e[t+5]]+"-"+ep[e[t+6]]+ep[e[t+7]]+"-"+ep[e[t+8]]+ep[e[t+9]]+"-"+ep[e[t+10]]+ep[e[t+11]]+ep[e[t+12]]+ep[e[t+13]]+ep[e[t+14]]+ep[e[t+15]]).toLowerCase()}function ce(){if(!tp){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");tp=crypto.getRandomValues.bind(crypto)}return tp(np)}function de(e){if(op.randomUUID&&!e)return op.randomUUID();const t=(e=e||{}).random??e.rng?.()??ce();if(t.length<16)throw new Error("Random bytes length must be >= 16");return t[6]=15&t[6]|64,t[8]=63&t[8]|128,le(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.deepAssign=t.createEventMergeId=t.createCustomInstance=t.components=void 0;var ue=e=>null==e,ge=e=>!ue(e)&&!Array.isArray(e)&&"object"==typeof e,me=(...e)=>e.length<2?Object.assign(...e):e.reduce(((e,t)=>(ge(t)&&Object.keys(t).forEach((n=>{Array.isArray(t[n])?Array.isArray(e[n])?e[n].push(...t[n]):e[n]=[...t[n]]:e[n]=t[n]})),e))),pe=o({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),fe={get:pe.get.bind(pe),set:pe.set.bind(pe),remove:pe.remove.bind(pe),withConverter:pe.withConverter.bind(pe)};const he=(e,t)=>{Object.keys(t).forEach((n=>{ge(e[n])&&ge(t[n])?he(e[n],t[n]):e[n]=t[n]}))};var be=(e,...t)=>{if(ue(e))throw new TypeError('deepAssign "target" cannot be null or undefined');const n=Object(e);return t.forEach((e=>he(n,Object(e)))),n},ve=(e,t)=>n=>{const o=t.split(".").reduce(((e,t)=>(e[t]=e[t]||{},e[t])),e);be(o,n)},ye=()=>{const e=[];return{add(t){e.push(t)},call:(...t)=>Promise.all(e.map((e=>e(...t))))}};const _e=[];for(let e=0;e<256;++e)_e.push((e+256).toString(16).slice(1));let we;const Ce=new Uint8Array(16);var ke={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},Pe=()=>({eventMergeId:a()}),Ee=({logger:e,cookieJar:t})=>({...t,set(n,o,r){e.info("Setting cookie",{name:n,value:o,...r}),t.set(n,o,r)}}),Te=()=>{let e=0,t=Promise.resolve();return{addTask(n){e+=1;const o=()=>n().finally((()=>{e-=1}));return t=t.then(o,o),t},get length(){return e}}},Ie=()=>{const e={};return e.promise=new Promise(((t,n)=>{e.resolve=t,e.reject=n})),e};const De=(e,t)=>e===t,Ae=(e,t,n)=>{for(let o=0;o<e.length;o+=1)if(n(e[o],t))return o;return-1};var Se=(e,t=De)=>e.filter(((n,o)=>Ae(e,n,t)===o)),xe=(e,t)=>e.appendChild(t);const Oe=(e,t)=>{Object.keys(t).forEach((n=>{if("style"===n&&ge(t[n])){const o=t[n];Object.keys(o).forEach((t=>{e.style[t]=o[t]}))}else e[n]=t[n]}))};var je=(e,t={},n={},o=[],r=document)=>{const i=r.createElement(e);return Object.keys(t).forEach((e=>{i.setAttribute(e,t[e])})),Oe(i,n),o.forEach((e=>xe(i,e))),i};const Re="BODY",Ne="IFRAME",Le="IMG",Me="DIV",Ve="STYLE",Ue="SCRIPT",ze="HEAD";var Ge=({src:e,currentDocument:t=document})=>new Promise(((n,o)=>{je(Le,{src:e},{onload:n,onerror:o,onabort:o},[],t)})),Fe=e=>"function"==typeof e,qe=e=>Array.isArray(e)&&e.length>0,$e=e=>Array.isArray(e)?e:null==e?[]:[].slice.call(e);const We=/^\s*>/;var Be=(e,t)=>We.test(t)?$e(e.querySelectorAll(`:scope ${t}`)):$e(e.querySelectorAll(t)),He=":shadow";const Qe=e=>e.split(He),Je=(e,t)=>{const n=t;if(!n.startsWith(">"))return n;return`${e instanceof Element||e instanceof Document?":scope":":host"} ${n}`};var Ke=(e,t)=>{const n=Qe(t);if(n.length<2)return Be(e,t);let o=e;for(let e=0;e<n.length;e+=1){const t=n[e].trim();if(""===t&&o.shadowRoot){o=o.shadowRoot;continue}const r=Je(o,t),i=Be(o,r);if(0===i.length||!i[0]||!i[0].shadowRoot)return i;o=i[0].shadowRoot}},Xe=e=>-1!==e.indexOf(He),Ye=(e,t=document)=>Xe(e)?Ke(t,e):Be(t,e);const Ze="MutationObserver",et="requestAnimationFrame",tt={childList:!0,subtree:!0},nt="visibilityState",ot="visible",rt=100,it=5e3,at=e=>new Error(`Could not find: ${e}`),st=e=>new Promise(e),lt=e=>Fe(e[Ze]),ct=(e,t,n,o,r)=>st(((i,a)=>{let s;const l=new e[Ze]((()=>{const e=r(n);qe(e)&&(l.disconnect(),s&&clearTimeout(s),i(e))}));s=setTimeout((()=>{l.disconnect(),a(at(n))}),o),l.observe(t,tt)})),dt=e=>e[nt]===ot,ut=(e,t,n,o)=>st(((r,i)=>{const a=()=>{const n=o(t);qe(n)?r(n):e[et](a)};a(),setTimeout((()=>{i(at(t))}),n)})),gt=(e,t,n)=>st(((o,r)=>{const i=()=>{const t=n(e);qe(t)?o(t):setTimeout(i,rt)};i(),setTimeout((()=>{r(at(e))}),t)}));var mt=(e,t=Ye,n=it,o=window,r=document)=>{const i=t(e);return qe(i)?Promise.resolve(i):lt(o)?ct(o,r,e,n,t):dt(r)?ut(o,e,n,t):gt(e,n,t)},pt=(e,t)=>t.matches?t.matches(e):t.msMatchesSelector(e),ft=e=>{const t=e.parentNode;return t?t.removeChild(e):null};const ht={name:"Adobe Alloy"},bt={style:{display:"none",width:0,height:0}};var vt=({appendNode:e=xe,awaitSelector:t=mt,createNode:n=je,fireImage:o=Ge}={})=>{const r=o;let i;const a=()=>t(Re).then((([t])=>i||(i=n(Ne,ht,bt),e(t,i)))),s=({src:e})=>a().then((t=>{const n=t.contentWindow.document;return o({src:e,currentDocument:n})}));return e=>{const{hideReferrer:t,url:n}=e;return t?s({src:n}):r({src:n})}},yt=e=>ge(e)&&0===Object.keys(e).length;const _t=(e,t)=>ue(e)||!ge(e)?e:Object.keys(e).reduce(((n,o)=>{const r=e[o];if(ge(r)){const e=_t(r,t);return yt(e)?n:{...n,[o]:e}}return t(r)?{...n,[o]:r}:n}),{}),wt=e=>{let t=2166136261;const n=16777619,o=(new TextEncoder).encode(e);for(let e=0;e<o.length;e+=1)t^=o[e],t=Math.imul(t,n);return t>>>0},Ct=e=>wt(e).toString(16).padStart(8,"0");var kt="com.adobe.alloy.",Pt=(e,t)=>e.slice(-t);const Et=`${kt}getTld`
;var Tt=(e,t)=>{let n="";const o=e.location.hostname.toLowerCase().split(".");let r=1;for(;r<o.length&&!t.get(Et);)r+=1,n=Pt(o,r).join("."),t.set(Et,Et,{domain:n});return t.remove(Et,{domain:n}),n},It="kndctr",Dt=e=>e.replace("@","_"),At=(e,t)=>`${It}_${Dt(e)}_${t}`,St=(e,t)=>{const n={};return e.forEach((e=>{const o=t(e);n[o]||(n[o]=[]),n[o].push(e)})),n};const xt="Chrome",Ot="Edge",jt="EdgeChromium",Rt="Firefox",Nt="IE",Lt="Safari",Mt="Unknown";var Vt=e=>{let t,n=!1;return()=>(n||(n=!0,t=e()),t)};const Ut=[xt,Ot,jt,Nt,Mt];var zt=({getBrowser:e})=>Vt((()=>Ut.includes(e())));const Gt="identity",Ft="consent",qt="cluster";var $t=({orgId:e})=>{const t=At(e,Gt);return()=>Boolean(fe.get(t))};const Wt=(e,t)=>{const n=Object.keys(e);for(let o=0;o<n.length;o+=1){const r=n[o];if(e[r].test(t))return r}return Mt};var Bt=({userAgent:e})=>Vt((()=>Wt({[Ot]:/Edge\/([0-9\._]+)/,[jt]:/Edg\/([0-9\.]+)/,[xt]:/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/,[Rt]:/Firefox\/([0-9\.]+)(?:\s|$)/,[Nt]:/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/,[Lt]:/Version\/([0-9\._]+).*Safari/},e)));const Ht=(e,t,n)=>({getItem(o){try{return e[t].getItem(n+o)}catch{return null}},setItem(o,r){try{return e[t].setItem(n+o,r),!0}catch{return!1}},clear(){try{return Object.keys(e[t]).forEach((o=>{o.startsWith(n)&&e[t].removeItem(o)})),!0}catch{return!1}}});var Qt=e=>t=>{const n=kt+t;return{session:Ht(e,"sessionStorage",n),persistent:Ht(e,"localStorage",n)}},Jt=(e,t)=>e.filter((e=>t.includes(e))),Kt=e=>"boolean"==typeof e,Xt=e=>"number"==typeof e&&!Number.isNaN(e),Yt=e=>{const t=parseInt(e,10);return Xt(t)&&e===t},Zt=(e,t)=>0===t.indexOf(`${It}_${Dt(e)}_`),en=e=>"string"==typeof e,tn=e=>en(e)&&e.length>0,nn=()=>{};const on=e=>{const t={},n=e.split(".");switch(n.length){case 1:t.subdomain="",t.domain=e,t.topLevelDomain="";break;case 2:t.subdomain="",t.domain=e,t.topLevelDomain=n[1];break;case 3:t.subdomain="www"===n[0]?"":n[0],t.domain=e,t.topLevelDomain=n[2];break;case 4:t.subdomain="www"===n[0]?"":n[0],t.domain=e,t.topLevelDomain=`${n[2]}.${n[3]}`}return t},rn=e=>{try{const t=new URL(e);let n=t.pathname;return e.endsWith("/")||"/"!==n||(n=""),{host:t.hostname,path:n,query:t.search.replace(/^\?/,""),anchor:t.hash.replace(/^#/,"")}}catch{return{host:"",path:"",query:"",anchor:""}}},an=(e,t=on)=>{en(e)||(e="");const n=rn(e),{host:o,path:r,query:i,anchor:a}=n;return{path:r,query:i,fragment:a,...t(o)}};var sn,ln,cn=e=>{if(ue(e)||"object"!=typeof e)return null;const t=_t(e,(e=>!ue(e)&&(!!Kt(e)||(!!Xt(e)||(!!tn(e)||!!qe(e))))));return yt(t)?null:t},dn=s(l());const un=e=>Array.isArray(e)?e.map((e=>un(e))):"object"==typeof e&&null!==e?Object.keys(e).sort().reduce(((t,n)=>(t[n]=un(e[n]),t)),{}):e;var gn=e=>un(e),mn=e=>e instanceof Error?e:new Error(e),pn=({error:e,message:t})=>{try{e.message=t}catch{}},fn=({error:e,message:t})=>{const n=mn(e),o=`${t}\nCaused by: ${n.message}`;return pn({error:n,message:o}),n},hn=e=>en(e)&&"true"===e.toLowerCase(),bn=(e,t)=>{if(Xt(e)||en(e)){const t=Math.round(Number(e));if(!Number.isNaN(t))return t}return t};const vn=(e,t,n)=>`${e}`.padStart(t,n);var yn=e=>{const t=e.getFullYear(),n=vn(e.getMonth()+1,2,"0"),o=vn(e.getDate(),2,"0"),r=vn(e.getHours(),2,"0"),i=vn(e.getMinutes(),2,"0"),a=vn(e.getSeconds(),2,"0"),s=vn(e.getMilliseconds(),3,"0"),l=bn(e.getTimezoneOffset(),0);return`${t}-${n}-${o}T${r}:${i}:${a}.${s}${l>0?"-":"+"}${vn(Math.floor(Math.abs(l)/60),2,"0")}:${vn(Math.abs(l)%60,2,"0")}`};const _n=e=>function(t,n){return null==t?t:e.call(this,t,n)},wn=(e,t)=>function(n,o){return t.call(this,e.call(this,n,o),o)},Cn=(e,t)=>function(n,o){const r=[],i=[e,t].reduce(((e,t)=>{try{return t.call(this,e,o)}catch(t){return r.push(t),e}}),n);if(r.length)throw new Error(r.join("\n"));return i},kn=(e,t,n)=>Object.assign(wn(e,t),e,n),Pn=(e,t,n)=>Object.assign(wn(e,_n(t)),e,n),En=(e,t,n)=>Object.assign(Cn(_n(t),e),e,n),Tn=(e,t,n,o)=>{if(!e)throw new Error(`'${n}': Expected ${o}, but got ${JSON.stringify(t)}.`)};var In=(e,t)=>(Tn(Kt(e),e,t,"true or false"),e),Dn=(e,t)=>(Tn(Fe(e),e,t,"a function"),e),An=(e,t)=>function(n,o){let r;const i=e.find((e=>{try{return r=e.call(this,n,o),!0}catch{return!1}}));return Tn(i,n,o,t),r},Sn=e=>function(t,n){Tn(Array.isArray(t),t,n,"an array");const o=[],r=t.map(((r,i)=>{try{return e.call(this,r,`${n}[${i}]`,t)}catch(e){return void o.push(e.message)}}));if(o.length)throw new Error(o.join("\n"));return r},xn=e=>t=>null==t?e:t,On=(e="This field has been deprecated")=>function(t,n){let o=e;return void 0!==t&&(n&&(o=`'${n}': ${o}`),this&&this.logger&&this.logger.warn(o)),t},jn=e=>(t,n)=>(Tn(t===e,t,n,`${e}`),t),Rn=e=>function(t,n){Tn(ge(t),t,n,"an object");const o=[],r={};if(Object.keys(t).forEach((i=>{const a=t[i],s=n?`${n}.${i}`:i;try{const t=e.call(this,a,s);void 0!==t&&(r[i]=t)}catch(e){o.push(e.message)}})),o.length)throw new Error(o.join("\n"));return r},Nn=(e,t)=>(n,o)=>(Tn(n>=t,n,o,`${e} greater than or equal to ${t}`),n),Ln=(e,t)=>(n,o)=>(Tn(n<=t,n,o,`${e} less than or equal to ${t}`),n),Mn=e=>(t,n)=>{const o=[];if(Object.keys(t).forEach((t=>{if(!e[t]){const e=n?`${n}.${t}`:t;o.push(`'${e}': Unknown field.`)}})),o.length)throw new Error(o.join("\n"));return t},Vn=e=>(t,n)=>(ge(t)?Tn(!yt(t),t,n,e):Tn(t.length>0,t,n,e),t),Un=e=>function(t,n){Tn(ge(t),t,n,"an object");const o=[],r={};if(Object.keys(e).forEach((i=>{const a=t[i],s=e[i],l=n?`${n}.${i}`:i;try{const e=s.call(this,a,l);void 0!==e&&(r[i]=e)}catch(e){o.push(e.message)}})),Object.keys(t).forEach((e=>{Object.prototype.hasOwnProperty.call(r,e)||(r[e]=t[e])})),o.length)throw new Error(o.join("\n"));return r},zn=(e,t,n)=>function(o,r){Tn(ge(o),o,r,"an object");const{[e]:i,[n]:a,...s}=o,l=t(i,r);if(void 0!==l){let t=`The field '${e}' is deprecated. Use '${n}' instead.`;if(r&&(t=`'${r}': ${t}`),void 0!==a&&a!==l)throw new Error(t);this&&this.logger&&this.logger.warn(t)}return{[n]:a||l,...s}},Gn=()=>{const e=[];return(t,n)=>(Tn(-1===e.indexOf(t),t,n,"a unique value across instances"),e.push(t),t)},Fn=e=>{const t=Object.create(null);for(let n=0;n<e.length;n+=1){const o=e[n];if(o in t)return!1;t[o]=!0}return!0},qn=()=>(e,t)=>(Tn(Fn(e),e,t,"array values to be unique"),e);const $n=/^[a-z0-9.-]{1,}$/i;var Wn=(e,t)=>(Tn($n.test(e),e,t,"a valid domain"),e),Bn=(e,t)=>(Tn(Yt(e),e,t,"an integer"),e),Hn=(e,t)=>(Tn(Xt(e),e,t,"a number"),e),Qn=e=>{try{return null!==RegExp(e)}catch{return!1}},Jn=(e,t)=>(Tn(Qn(e),e,t,"a regular expression"),e),Kn=(e,t)=>{if(null==e)throw new Error(`'${t}' is a required option`);return e},Xn=(e,t)=>(Tn(en(e),e,t,"a string"),e),Yn=e=>(t,n)=>(Tn(e.test(t),t,n,`does not match the ${e.toString()}`),t);const Zn=e=>e;Zn.default=function(e){return kn(this,xn(e))},Zn.required=function(){return kn(this,Kn)},Zn.deprecated=function(e){return kn(this,On(e))};const eo=function(){return Pn(this,Wn)},to=function(e){return Pn(this,Nn("an integer",e))},no=function(e){return Pn(this,Nn("a number",e))},oo=function(e){return Pn(this,Ln("a number",e))},ro=function(){return Pn(this,Bn,{minimum:to})},io=function(){return Pn(this,Vn("a non-empty string"))},ao=function(){return Pn(this,Vn("a non-empty array"))},so=function(){return Pn(this,Vn("a non-empty object"))},lo=function(){return Pn(this,Jn)},co=function(e){return Pn(this,Yn(e))},uo=function(){return Pn(this,Gn())},go=function(){return Pn(this,qn())},mo=function(e,t){return kn(this,An(e,t))},po=function(){return this},fo=function(e){return Pn(this,Sn(e),{nonEmpty:ao,uniqueItems:go})},ho=function(){return Pn(this,In)},bo=function(){return Pn(this,Dn)},vo=function(e){return Pn(this,jn(e))},yo=function(){return Pn(this,Hn,{minimum:no,maximum:oo,integer:ro,unique:uo})},_o=function(e){return Pn(this,Rn(e),{nonEmpty:so})},wo=e=>({noUnknownFields:function(){return Pn(this,Mn(e))},nonEmpty:so,concat:function(t){const n={...e,...t.schema};return Pn(this,t,wo(n))},renamed:function(e,t,n){return En(this,zn(e,t,n))},schema:e}),Co=function(e){return Pn(this,Un(e),wo(e))},ko=function(){return Pn(this,Xn,{regexp:lo,domain:eo,nonEmpty:io,unique:uo,matches:co})},Po=mo.bind(Zn),Eo=po.bind(Zn),To=fo.bind(Zn),Io=ho.bind(Zn),Do=bo.bind(Zn),Ao=vo.bind(Zn),So=yo.bind(Zn),xo=_o.bind(Zn),Oo=Co.bind(Zn),jo=ko.bind(Zn),Ro=function(...e){return Po(e.map(Ao),`one of these values: ${JSON.stringify(e)}`)};var No=xo(To(Oo({authenticatedState:Ro("ambiguous","authenticated","loggedOut"),id:jo(),namespace:Oo({code:jo()}).noUnknownFields(),primary:Io(),xid:jo()}).noUnknownFields()).required()),Lo=Oo({}),Mo="alloy_debug",Vo=({console:e,locationSearch:t,createLogger:n,instanceName:o,createNamespacedStorage:r,getMonitors:i})=>{const a=dn.parse(t),s=r(`instance.${o}.`),l=s.session.getItem("debug");let c="true"===l,d=null===l;const u=()=>c,g=(e,{fromConfig:t})=>{t&&!d||(c=e),t||(s.session.setItem("debug",e.toString()),d=!1)};return void 0!==a[Mo]&&g(hn(a[Mo]),{fromConfig:!1}),{setDebugEnabled:g,logger:n({getDebugEnabled:u,context:{instanceName:o},getMonitors:i,console:e}),createComponentLogger:t=>n({getDebugEnabled:u,context:{instanceName:o,componentName:t},getMonitors:i,console:e})}};const Uo=["onComponentsRegistered","onBeforeEvent","onBeforeRequest","onResponse","onRequestFailure","onClick","onDecision"],zo=(e,t)=>(...n)=>Promise.all(e.getLifecycleCallbacks(t).map((e=>new Promise((t=>{t(e(...n))}))))),Go=e=>(...t)=>Promise.resolve().then((()=>e(...t)));var Fo=e=>Uo.reduce(((t,n)=>(t[n]=Go(zo(e,n)),t)),{});const qo=(e,t)=>(...n)=>{let o;try{o=e(...n)}catch(e){throw fn({error:e,message:t})}return o instanceof Promise&&(o=o.catch((e=>{throw fn({error:e,message:t})}))),o};var $o=()=>{const e={},t={},n={},o=(e,n={})=>{const o=Jt(Object.keys(t),Object.keys(n));if(o.length)throw new Error(`[ComponentRegistry] Could not register ${e} because it has existing command(s): ${o.join(",")}`);Object.keys(n).forEach((o=>{const r=n[o];r.commandName=o,r.run=qo(r.run,`[${e}] An error occurred while executing the ${o} command.`),t[o]=r}))},r=(e,t={})=>{Object.keys(t).forEach((o=>{n[o]=n[o]||[],n[o].push(qo(t[o],`[${e}] An error occurred while executing the ${o} lifecycle hook.`))}))};return{register(t,n){const{commands:i,lifecycle:a}=n;o(t,i),r(t,a),e[t]=n},getCommand:e=>t[e],getCommandNames:()=>Object.keys(t),getLifecycleCallbacks:e=>n[e]||[],getComponentNames:()=>Object.keys(e)}},Wo=({logger:e,sendFetchRequest:t,sendBeaconRequest:n,isRequestRetryable:o,getRequestRetryDelay:r})=>({requestId:i,url:a,payload:s,useSendBeacon:l})=>{const c=JSON.stringify(s),d=JSON.parse(c);e.logOnBeforeNetworkRequest({url:a,requestId:i,payload:d});const u=(s=0)=>(l?n:t)(a,c).then((t=>{if(o({response:t,retriesAttempted:s})){const e=r({response:t,retriesAttempted:s});return new Promise((t=>{setTimeout((()=>{t(u(s+1))}),e)}))}let n;try{n=JSON.parse(t.body)}catch{}return e.logOnNetworkResponse({requestId:i,url:a,payload:d,...t,parsedBody:n,retriesAttempted:s}),{statusCode:t.statusCode,body:t.body,parsedBody:n,getHeader:t.getHeader}}));return u().catch((t=>{throw e.logOnNetworkError({requestId:i,url:a,payload:d,error:t}),fn({error:t,message:"Network request failed."})}))},Bo=({logger:e})=>t=>{if(t){const n=t.split(";");if(n.length>=2&&n[1].length>0)try{const e=parseInt(n[1],10);if(!Number.isNaN(e))return{regionId:e}}catch{}e.warn(`Invalid adobe edge: "${t}"`)}return{}};const Ho="in",Qo="out",Jo="pending",Ko="general",Xo="declinedConsent",Yo="default",Zo="initial",er="new",tr=e=>{const t=new Error(e);return t.code=Xo,t.message=e,t};var nr=({logger:e})=>{const t=[],n=()=>{for(;t.length;)t.shift().resolve()},o=()=>{for(;t.length;)t.shift().reject(tr("The user declined consent."))},r=()=>Promise.resolve(),i=()=>Promise.resolve(),a=()=>Promise.resolve(),s=()=>Promise.reject(tr("No consent preferences have been set.")),l=()=>Promise.reject(tr("The user declined consent.")),c=e=>{if(e)return Promise.reject(new Error("Consent is pending."));const n=Ie();return t.push(n),n.promise};return{in(t){t===Yo?this.awaitConsent=i:(t===Zo?e.info("Loaded user consent preferences. The user previously consented."):t===er&&this.awaitConsent!==a&&e.info("User consented."),n(),this.awaitConsent=a)},out(t){t===Yo?(e.warn("User consent preferences not found. Default consent of out will be used."),this.awaitConsent=s):(t===Zo?e.warn("Loaded user consent preferences. The user previously declined consent."):t===er&&this.awaitConsent!==l&&e.warn("User declined consent."),o(),this.awaitConsent=l)},pending(t){t===Yo&&e.info("User consent preferences not found. Default consent of pending will be used. Some commands may be delayed."),this.awaitConsent=c},awaitConsent:r,withConsent(){return this.awaitConsent(!0)},current(){switch(this.awaitConsent){case i:return{state:"in",wasSet:!1};case a:return{state:"in",wasSet:!0};case s:return{state:"out",wasSet:!1};case l:return{state:"out",wasSet:!0};case c:return{state:"pending",wasSet:!1};default:return{state:"in",wasSet:!1}}}}},or=({generalConsentState:e,logger:t})=>{const n=(n,o)=>{switch(n[Ko]){case Ho:e.in(o);break;case Qo:e.out(o);break;case Jo:e.pending(o);break;default:t.warn(`Unknown consent value: ${n[Ko]}`)}};return{initializeConsent(e,t){t[Ko]?n(t,Zo):n(e,Yo)},setConsent(e){n(e,er)},suspend(){e.pending()},awaitConsent:()=>e.awaitConsent(),withConsent:()=>e.withConsent(),current:()=>e.current()}};const rr=e=>e&&e._experience&&e._experience.decisioning&&qe(e._experience.decisioning.propositions)?e._experience.decisioning.propositions:[];var ir=()=>{const e={};let t,n,o=!1,r=!1,i=!0;const a=e=>{if(r)throw new Error(`${e} cannot be called after event is finalized.`)},s={hasQuery(){return Object.prototype.hasOwnProperty.call(this.getContent(),"query")},getContent(){const o=JSON.parse(JSON.stringify(e));return t&&be(o,{xdm:t}),n&&be(o,{data:n}),o},setUserXdm(e){a("setUserXdm"),t=e},setUserData(e){a("setUserData"),n=e},mergeXdm(t){a("mergeXdm"),t&&be(e,{xdm:t})},mergeData(t){a("mergeData"),t&&be(e,{data:t})},mergeMeta(t){a("mergeMeta"),t&&be(e,{meta:t})},mergeQuery(t){a("mergeQuery"),t&&be(e,{query:t})},documentMayUnload(){o=!0},finalize(o){if(r)return;const a=Se([...rr(t),...rr(e.xdm)],((e,t)=>e===t||e.id&&t.id&&e.id===t.id&&e.scope&&t.scope&&e.scope===t.scope));if(t&&this.mergeXdm(t),a.length>0&&(e.xdm._experience.decisioning.propositions=a),n&&s.mergeData(n),r=!0,o){i=!1;const t={xdm:e.xdm||{},data:e.data||{}},n=o(t);i=!1!==n,e.xdm=t.xdm||{},e.data=t.data||{},yt(e.xdm)&&delete e.xdm,yt(e.data)&&delete e.data}},getDocumentMayUnload:()=>o,isEmpty:()=>yt(e)&&(!t||yt(t))&&(!n||yt(n)),shouldSend:()=>i,getViewName(){if(t&&t.web&&t.web.webPageDetails)return t.web.webPageDetails.viewName},toJSON(){if(!r)throw new Error("toJSON called before finalize");return e}};return s};const ar="Retry-After",sr="x-adobe-edge";var lr=({extractEdgeInfo:e})=>({content:t={},getHeader:n})=>{const{handle:o=[],errors:r=[],warnings:i=[]}=t;return{getPayloadsByType:e=>o.filter((t=>t.type===e)).flatMap((e=>e.payload)),getErrors:()=>r,getWarnings:()=>i,getEdge:()=>e(n(sr)),toJSON:()=>t}};const cr="configure",dr="setDebug";var ur=({logger:e,configureCommand:t,setDebugCommand:n,handleError:o,validateCommandOptions:r})=>{let i;const a=(o,a)=>{let s;if(o===cr){if(i)throw new Error("The library has already been configured and may only be configured once.");s=()=>(i=t(a),i.then((()=>{})))}else{if(!i)throw new Error("The library must be configured first. Please do so by executing the configure command.");s=o===dr?()=>{const e=Oo({enabled:Io().required()}).noUnknownFields(),t=r({command:{commandName:dr,optionsValidator:e},options:a});n(t)}:()=>i.then((e=>{const t=e.getCommand(o);if(!t||!Fe(t.run)){const t=[cr,dr].concat(e.getCommandNames()).join(", ");throw new Error(`The ${o} command does not exist. List of available commands: ${t}.`)}const n=r({command:t,options:a});return t.run(n)}),(()=>(e.warn(`An error during configuration is preventing the ${o} command from executing.`),new Promise((()=>{})))))}return s};return(t,n={})=>new Promise((o=>{const r=a(t,n);e.logOnBeforeCommand({commandName:t,options:n}),o(r())})).catch((e=>o(e,`${t} command`))).catch((o=>{throw e.logOnCommandRejected({commandName:t,options:n,error:o}),o})).then((o=>{const r=ge(o)?o:{};return e.logOnCommandResolved({commandName:t,options:n,result:r}),r}))};const gr="https://adobe.ly/3sHgQHb";var mr=({command:e,options:t})=>{const{commandName:n,documentationUri:o=gr,optionsValidator:r}=e;let i=t;if(r)try{i=r(t)}catch(e){throw new Error(`Invalid ${n} command options:\n\t - ${e} For command documentation see: ${o}`)}return i};const pr="https://adobe.ly/3sHh553",fr=({combinedConfigValidator:e,options:t,logger:n})=>{try{return e.noUnknownFields().required().call({logger:n},t)}catch(e){throw new Error(`Resolve these configuration problems:\n\t - ${e.message.split("\n").join("\n\t - ")}\nFor configuration documentation see: ${pr}`)}},hr=(e,t,n)=>n.reduce(((n,{buildOnInstanceConfiguredExtraParams:o})=>(o&&(n={...n,...o({config:e,logger:t})}),n)),{}),br=e=>{const t=[],n={get enabled(){return e.enabled},flush(){t.forEach((({method:t,args:n})=>e[t](...n)))}};return Object.keys(e).filter((t=>"function"==typeof e[t])).forEach((e=>{n[e]=(...n)=>{t.push({method:e,args:n})}})),n};var vr=({options:e,componentCreators:t,coreConfigValidators:n,createConfig:o,logger:r,setDebugEnabled:i})=>{const a=br(r),s=t.map((({configValidators:e})=>e)).filter((e=>e)).reduce(((e,t)=>e.concat(t)),n),l=o(fr({combinedConfigValidator:s,options:e,logger:a}));i(l.debugEnabled,{fromConfig:!0}),a.flush();const c=hr(l,r,t);return r.logOnInstanceConfigured({...c,config:l}),l},yr=({componentCreators:e,lifecycle:t,componentRegistry:n,getImmediatelyAvailableTools:o})=>(e.forEach((e=>{const{namespace:t}=e,r=o(t);let i;try{i=e(r)}catch(e){throw fn({error:e,message:`[${t}] An error occurred during component creation.`})}n.register(t,i)})),t.onComponentsRegistered({lifecycle:t}).then((()=>n)));const _r=e=>({...e}),wr="edge.adobedc.net",Cr="adobedc.demdex.net";var kr="ee",Pr=()=>Oo({debugEnabled:Io().default(!1),datastreamId:jo().unique().required(),edgeDomain:jo().domain().default(wr),edgeBasePath:jo().nonEmpty().default(kr),orgId:jo().unique().required(),onBeforeEventSend:Do().default(nn),edgeConfigOverrides:Lo}).renamed("edgeConfigId",jo().unique(),"datastreamId"),Er=({errorPrefix:e,logger:t})=>(n,o)=>{const r=mn(n);if(r.code===Xo)return t.warn(`The ${o} could not fully complete. ${r.message}`),{};throw pn({error:r,message:`${e} ${r.message}`}),r},Tr=({fetch:e})=>(t,n)=>e(t,{method:"POST",cache:"no-cache",credentials:"include",headers:{"Content-Type":"text/plain; charset=UTF-8"},referrerPolicy:"no-referrer-when-downgrade",body:n}).then((e=>e.text().then((t=>({statusCode:e.status,getHeader:t=>e.headers.get(t),body:t}))))),Ir=({sendBeacon:e,sendFetchRequest:t,logger:n})=>(o,r)=>{const i=new Blob([r],{type:"text/plain; charset=UTF-8"});return e(o,i)?Promise.resolve({statusCode:204,getHeader:()=>null,body:""}):(n.info("Unable to use `sendBeacon`; falling back to `fetch`."),t(o,r))},Dr=({getDebugEnabled:e,console:t,getMonitors:n,context:o})=>{let r=`[${o.instanceName}]`;o.componentName&&(r+=` [${o.componentName}]`);const i=(e,t)=>{const r=n();if(r.length>0){const n={...o,...t};r.forEach((t=>{t[e]&&t[e](n)}))}},a=(n,...o)=>{i("onBeforeLog",{level:n,arguments:o}),e()&&t[n](r,...o)};return{get enabled(){return n().length>0||e()},logOnInstanceCreated(e){i("onInstanceCreated",e),a("info","Instance initialized.")},logOnInstanceConfigured(e){i("onInstanceConfigured",e),a("info","Instance configured. Computed configuration:",e.config)},logOnBeforeCommand(e){i("onBeforeCommand",e),a("info",`Executing ${e.commandName} command. Options:`,e.options)},logOnCommandResolved(e){i("onCommandResolved",e),a("info",`${e.commandName} command resolved. Result:`,e.result)},logOnCommandRejected(e){i("onCommandRejected",e),a("error",`${e.commandName} command was rejected. Error:`,e.error)},logOnBeforeNetworkRequest(e){i("onBeforeNetworkRequest",e),a("info",`Request ${e.requestId}: Sending request.`,e.payload)},logOnNetworkResponse(e){i("onNetworkResponse",e);const t=e.parsedBody||e.body?"response body:":"no response body.";a("info",`Request ${e.requestId}: Received response with status code ${e.statusCode} and ${t}`,e.parsedBody||e.body)},logOnNetworkError(e){i("onNetworkError",e),a("error",`Request ${e.requestId}: Network request failed.`,e.error)},logOnContentHiding(e){i("onContentHiding",{status:e.status}),a(e.logLevel,e.message)},logOnContentRendering(e){i("onContentRendering",{status:e.status,payload:e.detail}),a(e.logLevel,e.message)},info:a.bind(null,"info"),warn:a.bind(null,"warn"),error:a.bind(null,"error")}},Ar="__view__",Sr=e=>(t,n)=>{e.xdm=e.xdm||{},e.xdm.identityMap=e.xdm.identityMap||{},e.xdm.identityMap[t]=e.xdm.identityMap[t]||[],e.xdm.identityMap[t].push(n)},xr=e=>{const{payload:t,getAction:n,getUseSendBeacon:o,datastreamIdOverride:r,edgeSubPath:i}=e,s=a();let l=!1,c=!1;return{getId:()=>s,getPayload:()=>t,getAction:()=>n({isIdentityEstablished:c}),getDatastreamIdOverride:()=>r,getUseSendBeacon:()=>o({isIdentityEstablished:c}),getEdgeSubPath:()=>i||"",getUseIdThirdPartyDomain:()=>l,setUseIdThirdPartyDomain(){l=!0},setIsIdentityEstablished(){c=!0}}},Or=({payload:e,datastreamIdOverride:t})=>{const n=({isIdentityEstablished:t})=>e.getDocumentMayUnload()&&t;return xr({payload:e,getAction:({isIdentityEstablished:e})=>n({isIdentityEstablished:e})?"collect":"interact",getUseSendBeacon:n,datastreamIdOverride:t})},jr=e=>{const{content:t,addIdentity:n,hasIdentity:o}=e,r=ve(t,"meta.configOverrides");return{mergeMeta:ve(t,"meta"),mergeState:ve(t,"meta.state"),mergeQuery:ve(t,"query"),mergeConfigOverride:e=>r(cn(e)),addIdentity:n,hasIdentity:o,toJSON:()=>t}},Rr=e=>t=>void 0!==(e.xdm&&e.xdm.identityMap&&e.xdm.identityMap[t]),Nr=()=>{const e={},t=jr({content:e,addIdentity:Sr(e),hasIdentity:Rr(e)});return t.addEvent=t=>{e.events=e.events||[],e.events.push(t)},t.getDocumentMayUnload=()=>(e.events||[]).some((e=>e.getDocumentMayUnload())),t},Lr=({localConfigOverrides:e,globalConfigOverrides:t,payload:n})=>{const o={payload:n},{datastreamId:r,...i}=e||{};return r&&(o.datastreamIdOverride=r),t&&!yt(t)&&n.mergeConfigOverride(t),i&&!yt(i)&&n.mergeConfigOverride(i),o};const Mr="adb_validation_sessionid",Vr="validation.",Ur="clientId",zr=e=>{let t=e.persistent.getItem(Ur);return t||(t=a(),e.persistent.setItem(Ur,t)),t};var Gr=({window:e,createNamespacedStorage:t})=>{const n=t(Vr);return()=>{const t=dn.parse(e.location.search)[Mr];if(!t)return"";const o=`${t}|${zr(n)}`;return`&${dn.stringify({adobeAepValidationToken:o})}`}};const Fr="Event was canceled because the onBeforeEventSend callback returned false.";var qr=({config:e,logger:t,lifecycle:n,consent:o,createEvent:r,createDataCollectionRequestPayload:i,createDataCollectionRequest:a,sendEdgeNetworkRequest:s,applyResponse:l})=>{const{onBeforeEventSend:c,edgeConfigOverrides:d}=e;return{createEvent:r,sendEvent(e,r={}){const{edgeConfigOverrides:l,...u}=r,g=Lr({payload:i(),localConfigOverrides:l,globalConfigOverrides:d}),m=a(g),p=ye(),f=ye();return n.onBeforeEvent({...u,event:e,onResponse:p.add,onRequestFailure:f.add}).then((()=>(g.payload.addEvent(e),o.awaitConsent()))).then((()=>{try{e.finalize(c)}catch(e){const t=()=>{throw e};return f.add(n.onRequestFailure),f.call({error:e}).then(t,t)}if(!e.shouldSend()){f.add(n.onRequestFailure),t.info(Fr);const e=new Error(Fr);return f.call({error:e}).then((()=>{}))}return s({request:m,runOnResponseCallbacks:p.call,runOnRequestFailureCallbacks:f.call})}))},applyResponse(e,t={}){const{renderDecisions:o=!1,decisionContext:r={},responseHeaders:s={},responseBody:c={handle:[]},personalization:d}=t,u=i(),g=a({payload:u}),m=ye();return n.onBeforeEvent({event:e,renderDecisions:o,decisionContext:r,decisionScopes:[Ar],personalization:d,onResponse:m.add,onRequestFailure:nn}).then((()=>(u.addEvent(e),l({request:g,responseHeaders:s,responseBody:c,runOnResponseCallbacks:m.call}))))}}};const $r="state:store";var Wr=({cookieJar:e,shouldTransferCookie:t,apexDomain:n,dateProvider:o})=>({cookiesToPayload(o,r){const i=""!==n&&r.endsWith(n),a={domain:n,cookiesEnabled:!0};if(!i){const n=e.get(),o=Object.keys(n).filter(t).map((e=>({key:e,value:n[e]})));o.length&&(a.entries=o)}o.mergeState(a)},responseToCookies(t){t.getPayloadsByType($r).forEach((t=>{const r={domain:n},i=t.attrs&&t.attrs.SameSite&&t.attrs.SameSite.toLowerCase();void 0!==t.maxAge&&(r.expires=new Date(o().getTime()+1e3*t.maxAge)),void 0!==i&&(r.sameSite=i),"none"===i&&(r.secure=!0),e.set(t.key,t.value,r)}))}});const Br="mboxEdgeCluster",Hr="at_qa_mode",Qr="mbox";var Jr=({orgId:e,targetMigrationEnabled:t})=>n=>Zt(e,n)||n===Hr||t&&n===Qr,Kr="v1";const Xr="TypeError",Yr="NetworkError",Zr=e=>e.name===Xr||e.name===Yr||0===e.status;var ei=e=>{const t=e.shift()||[],n=e.shift()||[];return me({},...t,...n,...e)},ti=e=>t=>{const n=()=>{throw t};return e.call({error:t}).then(n,n)};const ni=(e,t)=>t.getUseIdThirdPartyDomain()&&Zr(e);var oi=({config:e,lifecycle:t,cookieTransfer:n,sendNetworkRequest:o,createResponse:r,processWarningsAndErrors:i,getLocationHint:a,getAssuranceValidationTokenParams:s})=>{const{edgeDomain:l,edgeBasePath:c,datastreamId:d}=e;let u=!1;const g=(e,t)=>{const n=a(),o=n?`${c}/${n}${t.getEdgeSubPath()}`:`${c}${t.getEdgeSubPath()}`,r=t.getDatastreamIdOverride()||d;return r!==d&&t.getPayload().mergeMeta({sdkConfig:{datastream:{original:d}}}),`https://${e}/${o}/${Kr}/${t.getAction()}?configId=${r}&requestId=${t.getId()}${s()}`};return({request:e,runOnResponseCallbacks:a=nn,runOnRequestFailureCallbacks:s=nn})=>{const c=ye();c.add(t.onResponse),c.add(a);const d=ye();return d.add(t.onRequestFailure),d.add(s),t.onBeforeRequest({request:e,onResponse:c.add,onRequestFailure:d.add}).then((()=>{const t=u||!e.getUseIdThirdPartyDomain()?l:Cr,r=g(t,e),i=e.getPayload();return n.cookiesToPayload(i,t),o({requestId:e.getId(),url:r,payload:i,useSendBeacon:e.getUseSendBeacon()})})).then((e=>(i(e),e))).catch((t=>{if(ni(t,e)){u=!0,e.setUseIdThirdPartyDomain(!1);const t=g(l,e),r=e.getPayload();return n.cookiesToPayload(r,l),o({requestId:e.getId(),url:t,payload:r,useSendBeacon:e.getUseSendBeacon()})}return ti(d)(t)})).then((({parsedBody:e,getHeader:t})=>{const o=r({content:e,getHeader:t});return n.responseToCookies(o),c.call({response:o}).then(ei)}))}};const ri=204,ii="The server responded with a";var ai=({logger:e})=>t=>{const{statusCode:n,body:o,parsedBody:r}=t;if(n<200||n>=300||!r&&n!==ri||r&&!Array.isArray(r.handle)){const e=r?JSON.stringify(r,null,2):o;throw new Error(`${ii} status code ${n} and ${e?`response body:\n${e}`:"no response body."}`)}if(r){const{warnings:t=[],errors:n=[]}=r;t.forEach((t=>{e.warn(`${ii} warning:`,t)})),n.forEach((t=>{e.error(`${ii} non-fatal error:`,t)}))}},si=({orgId:e,cookieJar:t})=>{const n=At(e,qt),o=()=>t.get(n),r=()=>{const e=t.get(Br);if(e)return`t${e}`};return()=>o()||r()};const li=3,ci=[429,503,502,504];var di=({response:e,retriesAttempted:t})=>t<li&&ci.includes(e.statusCode);const ui=1e3,gi=1e3,mi=.3,pi=e=>{const t=ui+e*gi,n=t*mi,o=t-n,r=t+n;return Math.round(o+Math.random()*(r-o))},fi=e=>{const t=e.getHeader(ar);let n;if(t){const e=parseInt(t,10);n=Yt(e)?1e3*e:Math.max(0,new Date(t).getTime()-(new Date).getTime())}return n};var hi=({response:e,retriesAttempted:t})=>{let n=fi(e);return void 0===n&&(n=pi(t)),n};const bi=200;var vi=({cookieTransfer:e,lifecycle:t,createResponse:n,processWarningsAndErrors:o})=>({request:r,responseHeaders:i,responseBody:a,runOnResponseCallbacks:s=nn,runOnRequestFailureCallbacks:l=nn})=>{const c=ye();c.add(t.onResponse),c.add(s);const d=ye();d.add(t.onRequestFailure),d.add(l);const u=e=>i[e];return t.onBeforeRequest({request:r,onResponse:c.add,onRequestFailure:d.add}).then((()=>o({statusCode:bi,getHeader:u,body:JSON.stringify(a),parsedBody:a}))).catch(ti(d)).then((()=>{const t=n({content:a,getHeader:u});return e.responseToCookies(t),c.call({response:t}).then(ei)}))},yi=e=>{let t=window.__alloyMonitors||[];return e&&(t=t.concat(e)),t},_i=e=>t=>{const n={webPageDetails:{URL:e.location.href||e.location},webReferrer:{URL:e.document.referrer}};be(t,{web:n})};const wi=e=>{const{screen:{orientation:t}}=e;if(null==t||null==t.type)return null;const n=t.type.split("-");return 0===n.length||"portrait"!==n[0]&&"landscape"!==n[0]?null:n[0]},Ci=e=>{if(Fe(e.matchMedia)){if(e.matchMedia("(orientation: portrait)").matches)return"portrait";if(e.matchMedia("(orientation: landscape)").matches)return"landscape"}return null};var ki=e=>t=>{const{screen:{width:n,height:o}}=e,r={},i=bn(o);i>=0&&(r.screenHeight=i);const a=bn(n);a>=0&&(r.screenWidth=a);const s=wi(e)||Ci(e);s&&(r.screenOrientation=s),Object.keys(r).length>0&&be(t,{device:r})},Pi=e=>t=>{const{document:{documentElement:{clientWidth:n,clientHeight:o}={}}}=e,r={type:"browser"},i=bn(n);i>=0&&(r.browserDetails={viewportWidth:i});const a=bn(o);a>=0&&(r.browserDetails=r.browserDetails||{},r.browserDetails.viewportHeight=a),be(t,{environment:r})},Ei=e=>t=>{const n=e(),o={},r=bn(n.getTimezoneOffset());void 0!==r&&(o.localTimezoneOffset=r),(void 0===r||Math.abs(r)<6e3)&&(o.localTime=yn(n)),be(t,{placeContext:o})},Ti=e=>t=>{const n=e().toISOString();be(t,{timestamp:n})},Ii="https://ns.adobe.com/experience/alloy";const Di="2.28.0";var Ai=e=>{be(e,{implementationDetails:{name:Ii,version:Di,environment:"browser"}})},Si=(e,t,n,o)=>{const r=e.context.flatMap(((e,o)=>n[e]?[n[e]]:(t.warn(`Invalid context[${o}]: '${e}' is not available.`),[]))).concat(o);return{namespace:"Context",lifecycle:{onBeforeEvent({event:e}){const n={};return Promise.all(r.map((e=>Promise.resolve(e(n,t))))).then((()=>e.mergeXdm(n)))}}}},xi=[["architecture","string"],["bitness","string"],["model","string"],["platformVersion","string"],["wow64","boolean"]];const Oi=e=>"userAgentData"in e;var ji=e=>Oi(e)?(t,n)=>{try{return e.userAgentData.getHighEntropyValues(xi.map((e=>e[0]))).then((e=>{const n={};xi.forEach((([t,o])=>{Object.prototype.hasOwnProperty.call(e,t)&&typeof e[t]===o&&(n[t]=e[t])})),be(t,{environment:{browserDetails:{userAgentClientHints:n}}})}))}catch(e){return n.warn(`Unable to collect user-agent client hints. ${e.message}`),nn}}:nn;const Ri=_i(window),Ni=ki(window),Li=Pi(window),Mi=Ei((()=>new Date)),Vi=Ti((()=>new Date)),Ui={web:Ri,device:Ni,environment:Li,placeContext:Mi},zi={highEntropyUserAgentHints:ji(navigator)},Gi={...Ui,...zi},Fi=[Vi,Ai],qi=({config:e,logger:t})=>Si(e,t,Gi,Fi);qi.namespace="Context",qi.configValidators=Oo({context:To(jo()).default(Object.keys(Ui))});var $i=({options:e})=>Oo({type:jo(),xdm:Oo({eventType:jo(),identityMap:No}),data:Oo({}),documentUnloading:Io(),renderDecisions:Io(),decisionScopes:To(jo()).uniqueItems(),personalization:Oo({decisionScopes:To(jo()).uniqueItems(),surfaces:To(jo()).uniqueItems(),sendDisplayEvent:Io().default(!0),includeRenderedPropositions:Io().default(!1),defaultPersonalizationEnabled:Io(),decisionContext:Oo({})}).default({sendDisplayEvent:!0}),datasetId:jo(),mergeId:jo(),edgeConfigOverrides:Lo}).required().noUnknownFields()(e),Wi=({options:e})=>Oo({renderDecisions:Io(),responseHeaders:xo(jo().required()),responseBody:Oo({handle:To(Oo({type:jo().required(),payload:Eo().required()})).required()}).required(),personalization:Oo({sendDisplayEvent:Io().default(!0),decisionContext:Oo({})}).default({sendDisplayEvent:!0})}).noUnknownFields()(e);const Bi=({eventManager:e,logger:t})=>({commands:{sendEvent:{documentationUri:"https://adobe.ly/3GQ3Q7t",optionsValidator:e=>$i({options:e}),run:n=>{const{xdm:o,data:r,documentUnloading:i,type:a,mergeId:s,datasetId:l,edgeConfigOverrides:c,...d}=n,u=e.createEvent();return i&&u.documentMayUnload(),u.setUserXdm(o),u.setUserData(r),a&&u.mergeXdm({eventType:a}),s&&u.mergeXdm({eventMergeId:s}),c&&(d.edgeConfigOverrides=c),l&&(t.warn("The 'datasetId' option has been deprecated. Please use 'edgeConfigOverrides.com_adobe_experience_platform.datasets.event.datasetId' instead."),d.edgeConfigOverrides=c||{},be(d.edgeConfigOverrides,{com_adobe_experience_platform:{datasets:{event:{datasetId:l}}}})),e.sendEvent(u,d)}},applyResponse:{documentationUri:"",optionsValidator:e=>Wi({options:e}),run:t=>{const{renderDecisions:n=!1,decisionContext:o={},responseHeaders:r={},responseBody:i={handle:[]},personalization:a}=t,s=e.createEvent();return e.applyResponse(s,{renderDecisions:n,decisionContext:o,responseHeaders:r,responseBody:i,personalization:a})}}}});Bi.namespace="DataCollector";const Hi=(e,t)=>`ID sync ${t?"succeeded":"failed"}: ${e.spec.url}`;var Qi=({fireReferrerHideableImage:e,logger:t})=>n=>{const o=n.filter((e=>"url"===e.type));return o.length?Promise.all(o.map((n=>e(n.spec).then((()=>{t.info(Hi(n,!0))})).catch((()=>{t.error(Hi(n,!1))}))))).then(nn):Promise.resolve()};const Ji=Oo({thirdPartyCookiesEnabled:Io().default(!0),idMigrationEnabled:Io().default(!0)});var Ki=Oo({url:jo().required().nonEmpty(),edgeConfigOverrides:Lo
}).required().noUnknownFields(),Xi="ECID",Yi=({addEcidQueryToPayload:e,addQueryStringIdentityToPayload:t,ensureSingleIdentity:n,setLegacyEcid:o,handleResponseForIdSyncs:r,getNamespacesFromResponse:i,getIdentity:a,consent:s,appendIdentityToUrl:l,logger:c,getIdentityOptionsValidator:d,decodeKndctrCookie:u})=>{let g,m={};return{lifecycle:{onBeforeRequest:({request:o,onResponse:r,onRequestFailure:i})=>(e(o.getPayload()),t(o.getPayload()),n({request:o,onResponse:r,onRequestFailure:i})),onResponse({response:e}){const t=i(e);return g&&g[Xi]||!t||!t[Xi]||o(t[Xi]),t&&Object.keys(t).length>0&&(g={...g,...t}),m={...m,...e.getEdge()},r(e)}},commands:{getIdentity:{optionsValidator:d,run:e=>{const{namespaces:t}=e;return s.awaitConsent().then((()=>{if(g)return;const n=u();return n&&t.includes(Xi)&&(g||(g={}),g[Xi]=n,1===t.length)?void 0:a(e)})).then((()=>({identity:t.reduce(((e,t)=>(e[t]=g[t]||null,e)),{}),edge:m})))}},appendIdentityToUrl:{optionsValidator:Ki,run:e=>s.withConsent().then((()=>{if(g)return;const t=u();return t?(g||(g={}),void(g[Xi]=t)):a(e)})).then((()=>({url:l(g[Xi],e.url)}))).catch((t=>(c.warn(`Unable to append identity to url. ${t.message}`),e)))}}}},Zi=({config:e,getEcidFromVisitor:t,apexDomain:n,isPageSsl:o,cookieJar:r})=>{const{idMigrationEnabled:i,orgId:a}=e,s=`AMCV_${a}`,l=()=>{let e=null;const t="s_ecid",n=r.get(t)||r.get(s);if(n){const t=/(^|\|)MCMID\|(\d+)($|\|)/,o=n.match(t);o&&(e=o[2])}return e};return{getEcid(){if(i){const e=l();return e?Promise.resolve(e):t()}return Promise.resolve()},setEcid(e){if(i&&l()!==e){const t=o?{sameSite:"none",secure:!0}:{};r.set(s,`MCMID|${e}`,{domain:n,expires:390,...t})}}}},ea=({logger:e})=>new Promise(((t,n)=>{if(ge(window.adobe)&&ge(window.adobe.optIn)){const o=window.adobe.optIn;e.info("Delaying request while waiting for legacy opt-in to let Visitor retrieve ECID from server."),o.fetchPermissions((()=>{o.isApproved([o.Categories.ECID])?(e.info("Received legacy opt-in approval to let Visitor retrieve ECID from server."),t()):n(new Error("Legacy opt-in was declined."))}),!0)}else t()})),ta=e=>{const t=e.Visitor;return Fe(t)&&Fe(t.getInstance)&&t},na=({logger:e,orgId:t,awaitVisitorOptIn:n})=>()=>{const o=ta(window);return o?n({logger:e}).then((()=>(e.info("Delaying request while using Visitor to retrieve ECID from server."),new Promise((n=>{o.getInstance(t,{}).getMarketingCloudVisitorID((t=>{e.info("Resuming previously delayed request that was waiting for ECID from Visitor."),n(t)}),!0)}))))).catch((t=>{t?e.info(`${t.message}, retrieving ECID from experience edge`):e.info("An error occurred while obtaining the ECID from Visitor.")})):Promise.resolve()},oa=({processIdSyncs:e})=>t=>e(t.getPayloadsByType("identity:exchange")),ra=({doesIdentityCookieExist:e,setDomainForInitialIdentityPayload:t,addLegacyEcidToPayload:n,awaitIdentityCookie:o,logger:r})=>{let i;const a=e=>(t(e),n(e.getPayload()));return({request:t,onResponse:n,onRequestFailure:s})=>{if(e())return t.setIsIdentityEstablished(),Promise.resolve();if(i){r.info("Delaying request while retrieving ECID from server.");const e=i;return i=e.catch((()=>o({onResponse:n,onRequestFailure:s}))),i.catch((()=>{})),e.then((()=>{r.info("Resuming previously delayed request."),t.setIsIdentityEstablished()})).catch((()=>a(t)))}return i=o({onResponse:n,onRequestFailure:s}),i.catch((()=>{})),a(t)}},ia="CORE",aa=({thirdPartyCookiesEnabled:e,areThirdPartyCookiesSupportedByDefault:t})=>{const n={identity:{fetch:[Xi]}};return e&&t()&&n.identity.fetch.push(ia),e=>{e.mergeQuery(n)}},sa=({thirdPartyCookiesEnabled:e,areThirdPartyCookiesSupportedByDefault:t})=>n=>{e&&t()&&n.setUseIdThirdPartyDomain()},la=({getLegacyEcid:e,addEcidToPayload:t})=>n=>n.hasIdentity(Xi)?Promise.resolve():e().then((e=>{e&&t(n,e)})),ca="adobe_mc",da=e=>{try{return decodeURIComponent(e)}catch{return""}};const ua=300;var ga=({locationSearch:e,dateProvider:t,orgId:n,logger:o})=>r=>{if(r.hasIdentity(Xi))return;let i=dn.parse(e)[ca];if(void 0===i)return;Array.isArray(i)&&(o.warn("Found multiple adobe_mc query string paramters, only using the last one."),i=i[i.length-1]);const a=i.split("|").reduce(((e,t)=>{const[n,o]=t.split("=");return e[n]=da(o),e[n]=e[n].replace(/[^a-zA-Z0-9@.]/g,""),e}),{}),s=parseInt(a.TS,10),l=a.MCMID,c=da(a.MCORGID);t().getTime()/1e3<=s+ua&&c===n&&l?(o.info(`Found valid ECID identity ${l} from the adobe_mc query string parameter.`),r.addIdentity(Xi,{id:l})):o.info("Detected invalid or expired adobe_mc query string parameter.")},ma=(e,t)=>{e.addIdentity(Xi,{id:t})},pa=({doesIdentityCookieExist:e,orgId:t,logger:n})=>({onResponse:o,onRequestFailure:r})=>new Promise(((i,a)=>{o((()=>{e()?i():(n.warn(`Identity cookie not found. This could be caused by any of the following issues:\n\t* The org ID ${t} configured in Alloy doesn't match the org ID specified in the edge configuration.\n\t* Experience edge was not able to set the identity cookie due to domain or cookie restrictions.\n\t* The request was canceled by the browser and not fully processed.`),a(new Error("Identity cookie not found.")))})),r((()=>{e()?i():a(new Error("Identity cookie not found."))}))})),fa=e=>e.getPayloadsByType("identity:result").reduce(((e,t)=>(t.namespace&&t.namespace.code&&(e[t.namespace.code]=t.id),e)),{}),ha=({sendEdgeNetworkRequest:e,createIdentityRequestPayload:t,createIdentityRequest:n,globalConfigOverrides:o})=>({namespaces:r,edgeConfigOverrides:i}={})=>{const a=Lr({payload:t(r),globalConfigOverrides:o,localConfigOverrides:i}),s=n(a);return e({request:s})},ba=({payload:e,datastreamIdOverride:t})=>xr({payload:e,datastreamIdOverride:t,getAction:()=>"identity/acquire",getUseSendBeacon:()=>!1}),va=e=>{const t={query:{identity:{fetch:e}}};return jr({content:t,addIdentity:Sr(t),hasIdentity:Rr(t)})};const ya=/^([^?#]*)(\??[^#]*)(#?.*)$/,_a=e=>""===e?"?":"?"===e?"":"&";var wa=({dateProvider:e,orgId:t})=>(n,o)=>{const r=Math.round(e().getTime()/1e3),i=encodeURIComponent(`TS=${r}|MCMID=${n}|MCORGID=${encodeURIComponent(t)}`),[,a,s,l]=o.match(ya);return`${a}${s}${_a(s)}adobe_mc=${i}${l}`};const Ca=Oo({namespaces:To(Ro(Xi,ia)).nonEmpty().uniqueItems().default([Xi]),edgeConfigOverrides:Lo}).noUnknownFields().default({namespaces:[Xi]});var ka=({thirdPartyCookiesEnabled:e})=>t=>{const n=Ca(t);if(!e&&n.namespaces.includes(ia))throw new Error(`namespaces: The ${ia} namespace cannot be requested when third-party cookies are disabled.`);return n};const Pa=1,Ea=(e,t)=>{let n,o=0,r=0;do{if(t<0||t+r>=e.length)throw new Error("Invalid varint: buffer ended unexpectedly");if(n=e[t+r],o|=(127&n)<<7*r,r+=1,r>10)throw new Error("Invalid varint: too long")}while(128&n);return{value:o,length:r}},Ta=Object.freeze({VARINT:0,I64:1,LEN:2,SGROUP:3,EGROUP:4,I32:5}),Ia=e=>{let t=0,n=null;for(;t<e.length&&!n;){const{value:o,length:r}=Ea(e,t);t+=r;const i=7&o;if(o>>3===Pa){if(i===Ta.LEN){const o=Ea(e,t);return t+=o.length,n=(new TextDecoder).decode(e.slice(t,t+o.value)),t+=o.value,n}}else switch(i){case Ta.VARINT:t+=Ea(e,t).length;break;case Ta.I64:t+=8;break;case Ta.LEN:{const n=Ea(e,t);t+=n.length+n.value;break}case Ta.SGROUP:case Ta.EGROUP:break;case Ta.I32:t+=4;break;default:throw new Error(`Malformed kndctr cookie. Unknown wire type: ${i}`)}}throw new Error("No ECID found in cookie.")},Da=e=>{const t=atob(e);return Uint8Array.from(t,(e=>e.codePointAt(0)))};var Aa=({orgId:e,cookieJar:t,logger:n})=>{const o=At(e,"identity");return()=>{const e=t.get(o);if(!e)return null;try{const t=decodeURIComponent(e).replace(/_/g,"/").replace(/-/g,"+"),n=Da(t);return Ia(n)}catch(e){return n.warn(`Unable to decode ECID from ${o} cookie`,e),null}}};const Sa=({config:e,logger:t,consent:n,fireReferrerHideableImage:o,sendEdgeNetworkRequest:r,apexDomain:i,getBrowser:a})=>{const{orgId:s,thirdPartyCookiesEnabled:l,edgeConfigOverrides:c}=e,d=na({logger:t,orgId:s,awaitVisitorOptIn:ea}),u=Ee({logger:t,cookieJar:fe}),g=Zi({config:e,getEcidFromVisitor:d,apexDomain:i,cookieJar:u,isPageSsl:"https:"===window.location.protocol}),m=$t({orgId:s}),p=ha({sendEdgeNetworkRequest:r,createIdentityRequestPayload:va,createIdentityRequest:ba,globalConfigOverrides:c}),f=zt({getBrowser:a}),h=sa({thirdPartyCookiesEnabled:l,areThirdPartyCookiesSupportedByDefault:f}),b=la({getLegacyEcid:g.getEcid,addEcidToPayload:ma}),v=ga({locationSearch:window.document.location.search,dateProvider:()=>new Date,orgId:s,logger:t}),y=pa({doesIdentityCookieExist:m,orgId:s,logger:t}),_=ra({doesIdentityCookieExist:m,setDomainForInitialIdentityPayload:h,addLegacyEcidToPayload:b,awaitIdentityCookie:y,logger:t}),w=Qi({fireReferrerHideableImage:o,logger:t}),C=oa({processIdSyncs:w}),k=wa({dateProvider:()=>new Date,orgId:s}),P=ka({thirdPartyCookiesEnabled:l}),E=aa({thirdPartyCookiesEnabled:l,areThirdPartyCookiesSupportedByDefault:f}),T=Aa({orgId:s,cookieJar:u,logger:t});return Yi({addEcidQueryToPayload:E,addQueryStringIdentityToPayload:v,ensureSingleIdentity:_,setLegacyEcid:g.setEcid,handleResponseForIdSyncs:C,getNamespacesFromResponse:fa,getIdentity:p,consent:n,appendIdentityToUrl:k,logger:t,getIdentityOptionsValidator:P,decodeKndctrCookie:T})};Sa.namespace="Identity",Sa.configValidators=Ji;const xa=({config:e,componentRegistry:t})=>{const n=[...t.getCommandNames(),cr,dr].sort(),o={...e};Object.keys(e).forEach((t=>{const n=e[t];"function"==typeof n&&(o[t]=n.toString())}));const r=t.getComponentNames();return{version:Di,configs:o,commands:n,components:r}},Oa=({config:e,componentRegistry:t})=>({commands:{getLibraryInfo:{run:()=>({libraryInfo:xa({config:e,componentRegistry:t})})}}});Oa.namespace="LibraryInfo";var ja=Object.freeze({__proto__:null,context:qi,dataCollector:Bi,identity:Sa,libraryInfo:Oa});const Ra=Qt(window),{fetch:Na,navigator:La}=window,Ma=Pr(),Va=Tt(window,fe),Ua=Tr({fetch:Na}),za=vt(),Ga=Gr({window:window,createNamespacedStorage:Ra}),Fa=Bt({userAgent:window.navigator.userAgent}),qa=({instanceName:e,logController:{setDebugEnabled:t,logger:n,createComponentLogger:o},components:r})=>{const i=$o(),a=Fo(i),s=r.concat(Object.values(ja)),l=e=>{t(e.enabled,{fromConfig:!1})},c=Ee({logger:n,cookieJar:fe}),d=r=>{const l=vr({options:r,componentCreators:s,coreConfigValidators:Ma,createConfig:_r,logger:n,setDebugEnabled:t}),{orgId:d,targetMigrationEnabled:u}=l,g=Jr({orgId:d,targetMigrationEnabled:u}),m=Wr({cookieJar:c,shouldTransferCookie:g,apexDomain:Va,dateProvider:()=>new Date}),p=Fe(La.sendBeacon)?Ir({sendBeacon:La.sendBeacon.bind(La),sendFetchRequest:Ua,logger:n}):Ua,f=Wo({logger:n,sendFetchRequest:Ua,sendBeaconRequest:p,isRequestRetryable:di,getRequestRetryDelay:hi}),h=ai({logger:n}),b=Bo({logger:n}),v=lr({extractEdgeInfo:b}),y=si({orgId:d,cookieJar:fe}),_=oi({config:l,lifecycle:a,cookieTransfer:m,sendNetworkRequest:f,createResponse:v,processWarningsAndErrors:h,getLocationHint:y,getAssuranceValidationTokenParams:Ga}),w=vi({lifecycle:a,cookieTransfer:m,createResponse:v,processWarningsAndErrors:h}),C=nr({logger:n}),k=or({generalConsentState:C,logger:n}),P=qr({config:l,logger:n,lifecycle:a,consent:k,createEvent:ir,createDataCollectionRequestPayload:Nr,createDataCollectionRequest:Or,sendEdgeNetworkRequest:_,applyResponse:w});return yr({componentCreators:s,lifecycle:a,componentRegistry:i,getImmediatelyAvailableTools(t){const n=o(t);return{config:l,componentRegistry:i,consent:k,eventManager:P,fireReferrerHideableImage:za,logger:n,lifecycle:a,sendEdgeNetworkRequest:_,handleError:Er({errorPrefix:`[${e}] [${t}]`,logger:n}),createNamespacedStorage:Ra,apexDomain:Va,getBrowser:Fa}}})},u=Er({errorPrefix:`[${e}]`,logger:n});return ur({logger:n,configureCommand:d,setDebugCommand:l,handleError:u,validateCommandOptions:mr})},$a=({eventManager:e,lifecycle:t,handleError:n})=>o=>{if(o.s_fe)return Promise.resolve();const r="composedPath"in o&&o.composedPath().length>0?o.composedPath()[0]:o.target,i=e.createEvent();return i.documentMayUnload(),t.onClick({event:i,clickedElement:r}).then((()=>i.isEmpty()?Promise.resolve():e.sendEvent(i))).then(nn).catch((e=>{n(e,"click collection")}))};var Wa=({eventManager:e,lifecycle:t,handleError:n})=>{const o=$a({eventManager:e,lifecycle:t,handleError:n});document.addEventListener("click",o,!0)};const Ba="\\.(exe|zip|wav|mp3|mov|mpg|avi|wmv|pdf|doc|docx|xls|xlsx|ppt|pptx)$",Ha=jo().regexp().default(Ba),Qa=Oo({clickCollectionEnabled:Io().default(!0),clickCollection:Oo({internalLinkEnabled:Io().default(!0),externalLinkEnabled:Io().default(!0),downloadLinkEnabled:Io().default(!0),sessionStorageEnabled:Io().default(!1),eventGroupingEnabled:Io().default(!1),filterClickProperties:Do()}).default({internalLinkEnabled:!0,externalLinkEnabled:!0,downloadLinkEnabled:!0,sessionStorageEnabled:!1,eventGroupingEnabled:!1}),downloadLinkQualifier:Ha,onBeforeLinkClickSend:Do().deprecated('The field "onBeforeLinkClickSend" has been deprecated. Use "clickCollection.filterClickDetails" instead.')}),Ja="cppXYctnr";var Ka=(e=document)=>null!==e.getElementById(Ja),Xa=e=>{let t=e;/^https?:\/\//i.test(t)||(t=`${window.location.protocol}//${e}`);return new URL(t).hostname},Ya=(e,t)=>Xa(e)!==Xa(t);const Za=(e,t)=>t&&("download"===t&&!e.downloadLinkEnabled||"exit"===t&&!e.externalLinkEnabled||"other"===t&&!e.internalLinkEnabled);var es=({config:e,logger:t,getClickedElementProperties:n,clickActivityStorage:o})=>{const{clickCollectionEnabled:r,clickCollection:i}=e;return r?({event:r,clickedElement:a})=>{const s=n({clickActivityStorage:o,clickedElement:a,config:e,logger:t}),l=s.linkType;Ka()||(s.isValidLink()&&Za(i,l)?t.info(`Cancelling link click event due to clickCollection.${l}LinkEnabled = false.`):!s.isInternalLink()||!i.eventGroupingEnabled||e.onBeforeLinkClickSend&&!i.filterClickDetails||Ya(window.location.hostname,s.linkUrl)?s.isValidLink()?(r.mergeXdm(s.xdm),r.mergeData(s.data),o.save({pageName:s.pageName,pageIDType:s.pageIDType})):s.isValidActivityMapData()&&o.save(s.properties):o.save(s.properties))}:()=>{}};const ts=e=>({eventType:"web.webinteraction.linkClicks",web:{webInteraction:{name:e.linkName,region:e.linkRegion,type:e.linkType,URL:e.linkUrl,linkClicks:{value:1}}}}),ns=e=>({__adobe:{analytics:{contextData:{a:{activitymap:{page:e.pageName,link:e.linkName,region:e.linkRegion,pageIDType:e.pageIDType}}}}}}),os=(e,t)=>{const{xdm:n,data:o,clickedElement:r}=e;if(t.clickedElement=r,n&&n.web&&n.web.webInteraction){const{name:e,region:o,type:r,URL:i}=n.web.webInteraction;t.linkName=e,t.linkRegion=o,t.linkType=r,t.linkUrl=i}if(o&&o.__adobe&&o.__adobe.analytics){const{contextData:e}=o.__adobe.analytics;if(e&&e.a&&e.a.activitymap){const{page:n,link:o,region:r,pageIDType:i}=e.a.activitymap;t.pageName=n||t.pageName,t.linkName=o||t.linkName,t.linkRegion=r||t.linkRegion,void 0!==i&&(t.pageIDType=i)}}};var rs=({properties:e,logger:t}={})=>{let n=e||{};return{get pageName(){return n.pageName},set pageName(e){n.pageName=e},get linkName(){return n.linkName},set linkName(e){n.linkName=e},get linkRegion(){return n.linkRegion},set linkRegion(e){n.linkRegion=e},get linkType(){return n.linkType},set linkType(e){n.linkType=e},get linkUrl(){return n.linkUrl},set linkUrl(e){n.linkUrl=e},get pageIDType(){return n.pageIDType},set pageIDType(e){n.pageIDType=e},get clickedElement(){return n.clickedElement},set clickedElement(e){n.clickedElement=e},get properties(){return{pageName:n.pageName,linkName:n.linkName,linkRegion:n.linkRegion,linkType:n.linkType,linkUrl:n.linkUrl,pageIDType:n.pageIDType}},isValidLink:()=>!!(n.linkUrl&&n.linkType&&n.linkName&&n.linkRegion),isInternalLink(){return this.isValidLink()&&"other"===n.linkType},isValidActivityMapData:()=>!!n.pageName&&!!n.linkName&&!!n.linkRegion&&void 0!==n.pageIDType,get xdm(){return n.filteredXdm?n.filteredXdm:ts(this)},get data(){return n.filteredData?n.filteredData:ns(this)},applyPropertyFilter(e){e&&!1===e(n)&&(t&&t.info(`Clicked element properties were rejected by filter function: ${JSON.stringify(this.properties,null,2)}`),n={})},applyOptionsFilter(e){const o=this.options;if(o&&o.clickedElement&&(o.xdm||o.data)){if(e&&!1===e(o))return t&&t.info(`Clicked element properties were rejected by filter function: ${JSON.stringify(this.properties,null,2)}`),void(this.options=void 0);this.options=o,n.filteredXdm=o.xdm,n.filteredData=o.data}},get options(){const e={};if(this.isValidLink()&&(e.xdm=this.xdm),this.isValidActivityMapData()&&(e.data=this.data),this.clickedElement&&(e.clickedElement=this.clickedElement),e.xdm||e.data)return e},set options(e){n={},e&&os(e,n)}}},is=({clickActivityStorage:e})=>t=>{if(Ka())return;const n=e.load(),o=rs({properties:n});if(o.isValidLink()||o.isValidActivityMapData()){if(o.isValidLink()){const e=o.xdm;delete e.eventType,t.mergeXdm(e)}o.isValidActivityMapData()&&t.mergeData(o.data),e.save({pageName:o.pageName,pageIDType:o.pageIDType})}},as=({window:e,getLinkName:t,getLinkRegion:n,getAbsoluteUrlFromAnchorElement:o,findClickableElement:r,determineLinkType:i})=>({clickedElement:a,config:s,logger:l,clickActivityStorage:c})=>{const{onBeforeLinkClickSend:d,clickCollection:u}=s,{filterClickDetails:g}=u,m=rs({logger:l});if(a){const l=r(a);if(l){m.clickedElement=a,m.linkUrl=o(e,l),m.linkType=i(e,s,m.linkUrl,l),m.linkRegion=n(l),m.linkName=t(l),m.pageIDType=0,m.pageName=e.location.href;const r=c.load();r&&r.pageName&&(m.pageName=r.pageName,m.pageIDType=1),g?m.applyPropertyFilter(g):d&&m.applyOptionsFilter(d)}}return m};const ss="clickData";var ls=({storage:e})=>({save:t=>{const n=JSON.stringify(t);e.setItem(ss,n)},load:()=>{let t=null;const n=e.getItem(ss);return n&&(t=JSON.parse(n)),t},remove:()=>{e.removeItem(ss)}}),cs=({clickActivityStorage:e})=>t=>{e.save({pageName:t.getContent().xdm.web.webPageDetails.name,pageIDType:1})},ds=(e,t)=>{const{clickCollectionEnabled:n,onBeforeLinkClickSend:o,downloadLinkQualifier:r}=e;!1===n&&(o&&t.warn("The 'onBeforeLinkClickSend' configuration was provided but will be ignored because clickCollectionEnabled is false."),r&&r!==Ba&&t.warn("The 'downloadLinkQualifier' configuration was provided but will be ignored because clickCollectionEnabled is false."))},us=e=>e&&e.replace(/\s+/g," ").trim();const gs=/^(SCRIPT|STYLE|LINK|CANVAS|NOSCRIPT|#COMMENT)$/i;var ms=e=>!(e&&e.nodeName&&e.nodeName.match(gs));const ps=e=>{let t=[],n=!1;if(ms(e)){if(t.push(e),e.childNodes){Array.prototype.slice.call(e.childNodes).forEach((e=>{const o=ps(e);t=t.concat(o.supportedNodes),n=n||o.includesUnsupportedNodes}))}}else n=!0;return{supportedNodes:t,includesUnsupportedNodes:n}},fs=(e,t,n)=>{let o;return n&&n!==e.nodeName.toUpperCase()||(o=e.getAttribute(t)),o},hs=e=>{const t={texts:[]};return e.supportedNodes.forEach((e=>{e.getAttribute&&(t.alt||(t.alt=us(e.getAttribute("alt"))),t.title||(t.title=us(e.getAttribute("title"))),t.inputValue||(t.inputValue=us(fs(e,"value","INPUT"))),t.imgSrc||(t.imgSrc=us(fs(e,"src","IMG")))),e.nodeValue&&t.texts.push(e.nodeValue)})),t};const bs=/^(HEADER|MAIN|FOOTER|NAV)$/i,vs=e=>{let t;return"region"===e.role&&tn(e["aria-label"])&&(t=e["aria-label"]),t},ys=e=>{let t;return e&&e.nodeName&&e.nodeName.match(bs)&&(t=e.nodeName),t};var _s=(e,t)=>{const n=e.location.href;let o=t.href||"";"string"!=typeof o&&(o="");try{return new URL(o,n).href}catch{return n}},ws=e=>!(!e.href||"A"!==e.tagName&&"AREA"!==e.tagName||e.onclick&&e.protocol&&!(e.protocol.toLowerCase().indexOf("javascript")<0)),Cs=e=>!!e&&!!e.onclick,ks=e=>{if("INPUT"===e.tagName){const t=e.getAttribute("type");if("submit"===t)return!0;if("image"===t&&e.src)return!0}return!1},Ps=e=>"BUTTON"===e.tagName&&"submit"===e.type,Es=e=>{const t=e.indexOf("?"),n=e.indexOf("#");return t>=0&&(t<n||n<0)?e.substring(0,t):n>=0?e.substring(0,n):e},Ts=(e,t,n)=>{let o=!1;if(t)if(n&&n.download)o=!0;else if(e){const n=new RegExp(e),r=Es(t).toLowerCase();o=n.test(r)}return o},Is=(e,t)=>{let n=!1;if(t&&e.location.hostname){const o=e.location.hostname.toLowerCase();n=Es(t).toLowerCase().indexOf(o)<0}return n},Ds=e=>{const t=e.getContent();return void 0!==t.xdm&&void 0!==t.xdm.web&&void 0!==t.xdm.web.webPageDetails&&void 0!==t.xdm.web.webPageDetails.name},As=()=>{const e={};return{getItem:t=>e[t],setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}};const Ss=as({window:window,getLinkName:e=>{let t=us(e.innerText||e.textContent);const n=ps(e);if(!t||n.includesUnsupportedNodes){const e=hs(n);t=us(e.texts.join("")),t||(t=e.alt||e.title||e.inputValue||e.imgSrc)}return t||""},getLinkRegion:e=>{let t,n=e.parentNode;for(;n;){if(t=us(n.id||vs(n)||ys(n)),t)return t;n=n.parentNode}return"BODY"},getAbsoluteUrlFromAnchorElement:_s,findClickableElement:e=>{let t=e;for(;t;){if(ws(t)||Cs(t)||ks(t)||Ps(t))return t;t=t.parentNode}return null},determineLinkType:(e,t,n,o)=>{let r="other";return tn(n)&&(Ts(t.downloadLinkQualifier,n,o)?r="download":Is(e,n)&&(r="exit")),r}});let xs;const Os=e=>{if(!xs){const t=Qt(window)(e.orgId||""),n=As(),o=e.clickCollection.sessionStorageEnabled?t.session:n;xs=ls({storage:o})}},js=({config:e,eventManager:t,handleError:n,logger:o})=>{ds(e,o);const r=e.clickCollection;xs||Os(e);const i=es({config:e,logger:o,clickActivityStorage:xs,getClickedElementProperties:Ss}),a=is({clickActivityStorage:xs}),s=cs({clickActivityStorage:xs});return{lifecycle:{onComponentsRegistered(e){const{lifecycle:o}=e;Wa({eventManager:t,lifecycle:o,handleError:n})},onClick({event:e,clickedElement:t}){i({event:e,clickedElement:t})},onBeforeEvent({event:e}){Ds(e)&&(r.eventGroupingEnabled&&a(e),s(e,o,xs))}}}};js.namespace="ActivityCollector",js.configValidators=Qa,js.buildOnInstanceConfiguredExtraParams=({config:e,logger:t})=>(xs||Os(e),{getLinkDetails:n=>Ss({clickActivityStorage:xs,clickedElement:n,config:e,logger:t}).properties});const Rs=e=>`URL destination succeeded: ${e.spec.url}`;var Ns=({fireReferrerHideableImage:e,logger:t,cookieJar:n,isPageSsl:o})=>{const r=o?{sameSite:"none",secure:!0}:{},i=e=>{e.filter((e=>"cookie"===e.type)).forEach((e=>{const{name:t,value:o,domain:i,ttlDays:a}=e.spec;n.set(t,o||"",{domain:i||"",expires:a||10,...r})}))},a=n=>{const o=n.filter((e=>"url"===e.type));return Promise.all(o.map((n=>e(n.spec).then((()=>{t.info(Rs(n))})).catch((()=>{}))))).then(nn)};return e=>(i(e),a(e))},Ls=({processDestinations:e})=>{const t=({response:t})=>{const n=t.getPayloadsByType("activation:push");return e(n)},n=({response:e})=>({destinations:e.getPayloadsByType("activation:pull")});return({response:e})=>t({response:e}).then((()=>n({response:e})))};const Ms=({logger:e,fireReferrerHideableImage:t})=>{const n=fe.withConverter({write:e=>encodeURIComponent(e)}),o=Ee({logger:e,cookieJar:n}),r=Ns({fireReferrerHideableImage:t,logger:e,cookieJar:o,isPageSsl:"https:"===window.location.protocol});return{lifecycle:{onResponse:Ls({processDestinations:r})},commands:{}}};Ms.namespace="Audiences";var Vs=({storedConsent:e,taskQueue:t,defaultConsent:n,consent:o,sendSetConsentRequest:r,validateSetConsentOptions:i,consentHashStore:a,doesIdentityCookieExist:s})=>{const l={[Ko]:n};let c=e.read();const d=s(),u=void 0!==c[Ko];d&&u||a.clear(),d||(e.clear(),c={}),o.initializeConsent(l,c);const g=()=>{if(0===t.length){const t=e.read();void 0!==t[Ko]&&o.setConsent(t)}};return{commands:{setConsent:{optionsValidator:i,run:({consent:e,identityMap:n,edgeConfigOverrides:i})=>{o.suspend();const s=a.lookup(e);return t.addTask((()=>s.isNew()?r({consentOptions:e,identityMap:n,edgeConfigOverrides:i}):Promise.resolve())).then((()=>s.save())).finally(g)}}},lifecycle:{onResponse:g,onRequestFailure:g}}},Us=e=>Ct(JSON.stringify(gn(e)));const zs=({standard:e,version:t})=>`${e}.${t}`;var Gs=({storage:e})=>({clear(){e.clear()},lookup(t){const n={},o=e=>{const t=zs(e),{standard:o,version:r,...i}=e;return n[t]||(n[t]=Us(i).toString()),n[t]};return{isNew:()=>t.some((t=>{const n=zs(t),r=e.getItem(n);return null===r||r!==o(t)})),save(){t.forEach((t=>{const n=zs(t);e.setItem(n,o(t))}))}}}}),Fs=()=>{const e={},t=jr({content:e,addIdentity:(t,n)=>{e.identityMap=e.identityMap||{},e.identityMap[t]=e.identityMap[t]||[],e.identityMap[t].push(n)},hasIdentity:t=>void 0!==(e.identityMap&&e.identityMap[t])});return t.setConsent=t=>{e.consent=t},t},qs=({payload:e,datastreamIdOverride:t})=>xr({payload:e,datastreamIdOverride:t,getAction:()=>"privacy/set-consent",getUseSendBeacon:()=>!1}),$s=({parseConsentCookie:e,orgId:t,cookieJar:n})=>{const o=At(t,Ft);return{read(){const t=n.get(o);return t?e(t):{}},clear(){n.remove(o)}}},Ws=({createConsentRequestPayload:e,createConsentRequest:t,sendEdgeNetworkRequest:n,edgeConfigOverrides:o})=>({consentOptions:r,identityMap:i,edgeConfigOverrides:a})=>{const s=Lr({payload:e(),globalConfigOverrides:o,localConfigOverrides:a});s.payload.setConsent(r),ge(i)&&Object.keys(i).forEach((e=>{i[e].forEach((t=>{s.payload.addIdentity(e,t)}))}));const l=t(s);return n({request:l}).then((()=>{}))},Bs=e=>e.split(";").reduce(((e,t)=>{const[n,o]=t.split("=");return e[n]=o,e}),{}),Hs=Oo({consent:To(Eo()).required().nonEmpty(),identityMap:No,edgeConfigOverrides:Lo}).noUnknownFields().required(),Qs=Oo({defaultConsent:Ro(Ho,Qo,Jo).default(Ho)});const Js=({config:e,consent:t,sendEdgeNetworkRequest:n,createNamespacedStorage:o})=>{const{orgId:r,defaultConsent:i}=e,a=$s({parseConsentCookie:Bs,orgId:r,cookieJar:fe}),s=Te(),l=Ws({createConsentRequestPayload:Fs,createConsentRequest:qs,sendEdgeNetworkRequest:n,edgeConfigOverrides:e.edgeConfigOverrides}),c=o(`${Dt(r)}.consentHashes.`),d=Gs({storage:c.persistent}),u=$t({orgId:r});return Vs({storedConsent:a,taskQueue:s,defaultConsent:i,consent:t,sendSetConsentRequest:l,validateSetConsentOptions:Hs,consentHashStore:d,doesIdentityCookieExist:u})};Js.namespace="Consent",Js.configValidators=Qs;var Ks=({createEventMergeId:e})=>({commands:{createEventMergeId:{run:e}}});const Xs=()=>Ks({createEventMergeId:Pe});Xs.namespace="EventMerge";var Ys={PAUSE:"media.pauseStart",PLAY:"media.play",BUFFER_START:"media.bufferStart",AD_START:"media.adStart",Ad_BREAK_START:"media.adBreakStart",SESSION_END:"media.sessionEnd",SESSION_START:"media.sessionStart",SESSION_COMPLETE:"media.sessionComplete",PING:"media.ping",AD_BREAK_COMPLETE:"media.adBreakComplete",AD_COMPLETE:"media.adComplete",AD_SKIP:"media.adSkip",BITRATE_CHANGE:"media.bitrateChange",CHAPTER_COMPLETE:"media.chapterComplete",CHAPTER_SKIP:"media.chapterSkip",CHAPTER_START:"media.chapterStart",ERROR:"media.error",STATES_UPDATE:"media.statesUpdate"},Zs=({mediaRequestPayload:e,action:t})=>xr({payload:e,edgeSubPath:"/va",getAction:()=>t,getUseSendBeacon:()=>!1}),el=({config:e,eventManager:t,consent:n,sendEdgeNetworkRequest:o,setTimestamp:r})=>({createMediaEvent({options:n}){const o=t.createEvent(),{xdm:i}=n;if(r(i),o.setUserXdm(i),i.eventType===Ys.AD_START){const{advertisingDetails:t}=n.xdm.mediaCollection;o.mergeXdm({mediaCollection:{advertisingDetails:{playerName:t.playerName||e.streamingMedia.playerName}}})}return o},createMediaSession(n){const{playerName:o,channel:r,appVersion:i}=e.streamingMedia,a=t.createEvent(),{sessionDetails:s}=n.xdm.mediaCollection;return a.setUserXdm(n.xdm),a.mergeXdm({eventType:Ys.SESSION_START,mediaCollection:{sessionDetails:{playerName:s.playerName||o,channel:s.channel||r,appVersion:s.appVersion||i}}}),a},augmentMediaEvent({event:e,playerId:t,getPlayerDetails:n,sessionID:o}){if(!t||!n)return e;const{playhead:r,qoeDataDetails:i}=n({playerId:t});return e.mergeXdm({mediaCollection:{playhead:bn(r),qoeDataDetails:i,sessionID:o}}),e},trackMediaSession({event:e,mediaOptions:n,edgeConfigOverrides:o}){const r={mediaOptions:n,edgeConfigOverrides:o};return t.sendEvent(e,r)},trackMediaEvent({event:e,action:t}){const r=Nr(),i=Zs({mediaRequestPayload:r,action:t});return r.addEvent(e),e.finalize(),n.awaitConsent().then((()=>o({request:i}).then((()=>({})))))}}),tl={MAIN:"main",COMPLETED:"completed"},nl=()=>{let e;return{getSession:t=>e[t]||{},storeSession:({playerId:t,sessionDetails:n})=>{void 0===e&&(e={}),e[t]=n},stopPing:({playerId:t})=>{const n=e[t];n&&(clearTimeout(n.pingId),n.pingId=null,n.playbackState=tl.COMPLETED)},savePing:({playerId:t,pingId:n,playbackState:o})=>{e[t]&&(e[t].pingId&&clearTimeout(e[t].pingId),e[t].pingId=n,e[t].playbackState=o)}}};const ol=(e,t)=>e===Ys.AD_START||e===Ys.Ad_BREAK_START||e===Ys.AD_SKIP||e===Ys.AD_COMPLETE?"ad":e===Ys.AD_BREAK_COMPLETE||e===Ys.CHAPTER_COMPLETE||e===Ys.CHAPTER_START||e===Ys.CHAPTER_SKIP||e===Ys.SESSION_START?"main":e===Ys.SESSION_END||e===Ys.SESSION_COMPLETE?"completed":t;var rl=({mediaEventManager:e,mediaSessionCacheManager:t,config:n})=>{const o=r=>{const i=e.createMediaEvent({options:r}),{playerId:a,xdm:s}=r,{eventType:l}=s,c=l.split(".")[1],{getPlayerDetails:d,sessionPromise:u,playbackState:g}=t.getSession(a);return u.then((r=>r.sessionId?(e.augmentMediaEvent({event:i,eventType:l,playerId:a,getPlayerDetails:d,sessionID:r.sessionId}),e.trackMediaEvent({event:i,action:c}).then((()=>{if(a)if(l===Ys.SESSION_COMPLETE||l===Ys.SESSION_END)t.stopPing({playerId:a});else{const e=ol(l,g);if("completed"===e)return;const r="ad"===e?n.streamingMedia.adPingInterval:n.streamingMedia.mainPingInterval,i=setTimeout((()=>{const e={playerId:a,xdm:{eventType:Ys.PING}};o(e)}),1e3*r);t.savePing({playerId:a,pingId:i,playbackState:e})}}))):Promise.reject(new Error(`Failed to trigger media event: ${l}. Session ID is not available for playerId: ${a}.`))))};return e=>o(e)},il=({config:e,mediaEventManager:t,mediaSessionCacheManager:n,legacy:o=!1})=>r=>{if(!e.streamingMedia)return Promise.reject(new Error("Streaming media is not configured."));const{playerId:i,getPlayerDetails:a,edgeConfigOverrides:s}=r,l=t.createMediaSession(r);t.augmentMediaEvent({event:l,playerId:i,getPlayerDetails:a});const c=t.trackMediaSession({event:l,mediaOptions:{playerId:i,getPlayerDetails:a,legacy:o},edgeConfigOverrides:s});return n.storeSession({playerId:i,sessionDetails:{sessionPromise:c,getPlayerDetails:a,playbackState:tl.MAIN}}),c},al=e=>!en(e)||!e.trim(),sl=({mediaSessionCacheManager:e,config:t,trackMediaEvent:n})=>({response:o,playerId:r,getPlayerDetails:i})=>{const a=o.getPayloadsByType("media-analytics:new-session");if(qe(a)){const{sessionId:o}=a[0];if(al(o))return{};if(!r||!i)return{sessionId:o};const s=setTimeout((()=>{n({playerId:r,xdm:{eventType:Ys.PING}})}),1e3*t.streamingMedia.mainPingInterval);return e.savePing({playerId:r,pingId:s,playbackState:tl.MAIN}),{sessionId:o}}return{}};const ll={Video:"video",Audio:"audio"},cl={VOD:"vod",Live:"live",Linear:"linear",Podcast:"podcast",Audiobook:"audiobook",AOD:"aod"},dl={FullScreen:"fullScreen",ClosedCaption:"closedCaptioning",Mute:"mute",PictureInPicture:"pictureInPicture",InFocus:"inFocus"},ul={AdBreakStart:"adBreakStart",AdBreakComplete:"adBreakComplete",AdStart:"adStart",AdComplete:"adComplete",AdSkip:"adSkip",ChapterStart:"chapterStart",ChapterComplete:"chapterComplete",ChapterSkip:"chapterSkip",SeekStart:"seekStart",SeekComplete:"seekComplete",BufferStart:"bufferStart",BufferComplete:"bufferComplete",BitrateChange:"bitrateChange",StateStart:"stateStart",StateEnd:"stateEnd"},gl={SessionStart:"sessionStart",SessionEnd:"sessionEnd",SessionComplete:"sessionComplete",Play:"play",Pause:"pauseStart",Error:"error",StateUpdate:"statesUpdate"},ml={MediaResumed:"media.resumed",GranularAdTracking:"media.granularadtracking"},pl={Show:"a.media.show",Season:"a.media.season",Episode:"a.media.episode",AssetId:"a.media.asset",Genre:"a.media.genre",FirstAirDate:"a.media.airDate",FirstDigitalDate:"a.media.digitalDate",Rating:"a.media.rating",Originator:"a.media.originator",Network:"a.media.network",ShowType:"a.media.type",AdLoad:"a.media.adLoad",MVPD:"a.media.pass.mvpd",Authorized:"a.media.pass.auth",DayPart:"a.media.dayPart",Feed:"a.media.feed",StreamFormat:"a.media.format"},fl={Artist:"a.media.artist",Album:"a.media.album",Label:"a.media.label",Author:"a.media.author",Station:"a.media.station",Publisher:"a.media.publisher"},hl={Advertiser:"a.media.ad.advertiser",CampaignId:"a.media.ad.campaign",CreativeId:"a.media.ad.creative",PlacementId:"a.media.ad.placement",SiteId:"a.media.ad.site",CreativeUrl:"a.media.ad.creativeURL"};var bl=({trackMediaEvent:e,trackMediaSession:t,mediaResponseHandler:n,logger:o,createMediaHelper:r,createGetInstance:i,config:s})=>({lifecycle:{onBeforeEvent({mediaOptions:e,onResponse:t=nn}){if(!e)return;const{legacy:o,playerId:r,getPlayerDetails:i}=e;o&&t((({response:e})=>n({playerId:r,getPlayerDetails:i,response:e})))}},commands:{getMediaAnalyticsTracker:{run:()=>{if(!s.streamingMedia)return Promise.reject(new Error("Streaming media is not configured."));o.info("Streaming media is configured in legacy mode.");const n=r({logger:o});return Promise.resolve({getInstance:()=>i({logger:o,trackMediaEvent:e,trackMediaSession:t,uuid:a}),Event:ul,MediaType:ll,PlayerState:dl,StreamType:cl,MediaObjectKey:ml,VideoMetadataKeys:pl,AudioMetadataKeys:fl,AdMetadataKeys:hl,...n})}}}}),vl=({logger:e})=>{const t=(t,n,o)=>{const r={friendlyName:t,offset:n,index:o},i=Oo({friendlyName:jo().nonEmpty(),offset:So(),index:So()});try{const e=i(r);return{advertisingPodDetails:{friendlyName:e.friendlyName,
offset:e.offset,index:e.index}}}catch(t){return e.warn("An error occurred while creating the Ad Break Object.",t),{}}},n=(t,n,o,r)=>{const i={friendlyName:t,name:n,podPosition:o,length:r},a=Oo({friendlyName:jo().nonEmpty(),name:jo().nonEmpty(),podPosition:So(),length:So()});try{const e=a(i);return{advertisingDetails:{friendlyName:e.friendlyName,name:e.name,podPosition:e.podPosition,length:e.length}}}catch(t){return e.warn("An error occurred while creating the Advertising Object.",t),{}}},o=(t,n,o,r)=>{const i={friendlyName:t,offset:n,length:o,index:r},a=Oo({friendlyName:jo().nonEmpty(),offset:So(),length:So(),index:So()});try{const e=a(i);return{chapterDetails:{friendlyName:e.friendlyName,offset:e.offset,index:e.index,length:e.length}}}catch(t){return e.warn("An error occurred while creating the Chapter Object.",t),{}}},r=t=>{const n=/^[a-zA-Z0-9_]{1,64}$/,o=jo().matches(n,"This is not a valid state name.");try{return{name:o(t)}}catch(t){return e.warn("An error occurred while creating the State Object.",t),{}}},i=(t,n,o,r)=>{const i={bitrate:t,droppedFrames:n,fps:o,startupTime:r},a=Oo({bitrate:So(),droppedFrames:So(),fps:So(),startupTime:So()});try{const e=a(i);return{bitrate:e.bitrate,droppedFrames:e.droppedFrames,framesPerSecond:e.fps,timeToStart:e.startupTime}}catch(t){return e.warn("An error occurred while creating the QOE Object.",t),{}}};return{createMediaObject:(t,n,o,r,i)=>{const a={friendlyName:t,name:n,length:o,streamType:i,contentType:r},s=Oo({friendlyName:jo().nonEmpty(),name:jo().nonEmpty(),length:So().required(),streamType:jo().nonEmpty(),contentType:jo().nonEmpty()});try{const e=s(a);return{sessionDetails:{name:e.name,friendlyName:e.friendlyName,length:Math.round(e.length),streamType:e.streamType,contentType:e.contentType}}}catch(t){return e.warn("An error occurred while creating the Media Object.",t),{}}},createAdBreakObject:t,createAdObject:n,createChapterObject:o,createStateObject:r,createQoEObject:i}};const yl={"a.media.show":"show","a.media.season":"season","a.media.episode":"episode","a.media.asset":"assetID","a.media.genre":"genre","a.media.airDate":"firstAirDate","a.media.digitalDate":"firstDigitalDate","a.media.rating":"rating","a.media.originator":"originator","a.media.network":"network","a.media.type":"showType","a.media.adLoad":"adLoad","a.media.pass.mvpd":"mvpd","a.media.pass.auth":"authorized","a.media.dayPart":"dayPart","a.media.feed":"feed","a.media.format":"streamFormat","a.media.artist":"artist","a.media.album":"album","a.media.label":"label","a.media.author":"author","a.media.station":"station","a.media.publisher":"publisher","media.resumed":"hasResume"},_l={"a.media.ad.advertiser":"advertiser","a.media.ad.campaign":"campaignID","a.media.ad.creative":"creativeID","a.media.ad.placement":"placementID","a.media.ad.site":"siteID","a.media.ad.creativeURL":"creativeURL"};var wl=({logger:e,trackMediaSession:t,trackMediaEvent:n,uuid:o})=>{let r=null;const i=()=>{r={qoe:null,lastPlayhead:0,playerId:o()}},a=({eventType:e})=>e===ul.BufferComplete||e===ul.SeekComplete?gl.Play:e===ul.StateStart||e===ul.StateEnd?gl.StateUpdate:e===ul.SeekStart?gl.Pause:e,s=({eventType:e,mediaDetails:t={},contextData:n=[]})=>{const o=a({eventType:e});if(e===ul.StateStart){return{eventType:`media.${o}`,mediaCollection:{statesStart:[t]}}}if(e===ul.StateEnd){return{eventType:`media.${o}`,mediaCollection:{statesEnd:[t]}}}const r={eventType:`media.${o}`,mediaCollection:{...t}},i=[];return Object.keys(n).forEach((e=>{yl[e]?r.mediaCollection.sessionDetails[yl[e]]=n[e]:_l[e]?r.mediaCollection.advertisingDetails[_l[e]]=n[e]:i.push({name:e,value:n[e]})})),qe(i)&&(r.mediaCollection.customMetadata=i),r};return{trackSessionStart:(n,o={})=>{if(ue(n)||yt(n))return e.warn("Invalid media object"),{};null===r&&(e.warn("The Media Session was completed. Restarting a new session."),i());const a=s({eventType:gl.SessionStart,mediaDetails:n,contextData:o});return t({playerId:r.playerId,getPlayerDetails:()=>({playhead:r.lastPlayhead,qoeDataDetails:r.qoe}),xdm:a})},trackPlay:()=>{if(null===r)return e.warn("The Media Session was completed."),{};const t=s({eventType:gl.Play});return n({playerId:r.playerId,xdm:t})},trackPause:()=>{if(null===r)return e.warn("The Media Session was completed."),{};const t=s({eventType:gl.Pause});return n({playerId:r.playerId,xdm:t})},trackSessionEnd:()=>{if(null===r)return e.warn("The Media Session was completed."),{};const t=s({eventType:gl.SessionEnd});return n({playerId:r.playerId,xdm:t})},trackComplete:()=>{if(null===r)return e.warn("The Media Session was completed."),{};const t=s({eventType:gl.SessionComplete});return n({playerId:r.playerId,xdm:t})},trackError:t=>{if(e.warn(`trackError(${t})`),null===r)return e.warn("The Media Session was completed."),{};const o={name:t,source:"player"},i=s({eventType:gl.Error,mediaDetails:{errorDetails:o}});return n({playerId:r.playerId,xdm:i})},trackEvent:(t,o,i)=>{if(yt(o))return e.warn("Invalid media object."),{};if(null===r)return e.warn("The Media Session was completed."),{};if(!Object.values(ul).includes(t))return e.warn("Invalid event type"),{};const a=s({eventType:t,mediaDetails:o,contextData:i});return n({playerId:r.playerId,xdm:a})},updatePlayhead:t=>{null!==r?Xt(t)&&(r.lastPlayhead=parseInt(t,10)):e.warn("The Media Session was completed.")},updateQoEObject:t=>{null!==r?t&&(r.qoe=t):e.warn("The Media Session was completed.")},destroy:()=>{e.warn("Destroy called, destroying the tracker."),r=null}}};const Cl=({eventManager:e,sendEdgeNetworkRequest:t,config:n,logger:o,consent:r})=>{const i=nl(),a=el({sendEdgeNetworkRequest:t,config:n,consent:r,eventManager:e,setTimestamp:Ti((()=>new Date))}),s=rl({mediaSessionCacheManager:i,mediaEventManager:a,config:n}),l=il({config:n,mediaEventManager:a,mediaSessionCacheManager:i,legacy:!0}),c=sl({mediaSessionCacheManager:i,config:n,trackMediaEvent:s});return bl({mediaResponseHandler:c,trackMediaSession:l,trackMediaEvent:s,createMediaHelper:vl,createGetInstance:wl,logger:o,config:n})};Cl.namespace="Legacy Media Analytics";const kl="web",Pl="webapp",El="://",Tl="#",Il=/^(\w+):\/\/([^/#]+)(\/[^#]*)?(#.*)?$/,Dl=/^(?:.*@)?(?:[a-z\d\u00a1-\uffff.-]+|\[[a-f\d:]+])(?::\d+)?$/,Al=/^\/(?:[/\w\u00a1-\uffff-.~]|%[a-fA-F\d]{2})*$/,Sl=/^#(?:[/\w\u00a1-\uffff-.~]|%[a-fA-F\d]{2})+$/,xl=(e="/")=>{let t=e.length;for(;t>0&&-1!=="/".indexOf(e.charAt(t-1));)t-=1;return e.substring(0,t)||"/"},Ol=e=>tn(e)?e.toLowerCase():"",jl=e=>tn(e)?e.toLowerCase():"",Rl=e=>tn(e)?xl(e):"/",Nl=e=>{const t=e.match(Il);return t?{surfaceType:Ol(t[1]),authority:jl(t[2]),path:Rl(t[3]),fragment:t[4]}:null},Ll=e=>`${e.surfaceType}${El}${e.authority}${e.path||""}${e.fragment||""}`,Ml=e=>{const t=e(),n=t.host.toLowerCase(),o=t.pathname;return kl+El+n+xl(o)},Vl=(e,t)=>e.startsWith(Tl)?Ml(t)+e:e,Ul=(e,t,n)=>{const o=e=>(n.warn(e),null);if(!tn(e))return o(`Invalid surface: ${e}`);const r=Vl(e,t),i=Nl(r);return null===i?o(`Invalid surface: ${e}`):[kl,Pl].includes(i.surfaceType)?i.authority&&Dl.test(i.authority)?i.path&&!Al.test(i.path)?o(`Invalid path ${i.path} in surface: ${e}`):i.fragment&&!Sl.test(i.fragment)?o(`Invalid fragment ${i.fragment} in surface: ${e}`):i:o(`Invalid authority ${i.authority} in surface: ${e}`):o(`Unsupported surface type ${i.surfaceType} in surface: ${e}`)},zl=e=>!!e&&0===e.indexOf(kl+El)&&-1===e.indexOf(Tl),Gl=(e=[],t,n)=>e.map((e=>Ul(e,t,n))).filter((e=>!ue(e))).map(Ll),Fl="https://ns.adobe.com/personalization/default-content-item",ql="https://ns.adobe.com/personalization/dom-action",$l="https://ns.adobe.com/personalization/html-content-item",Wl="https://ns.adobe.com/personalization/json-content-item",Bl="https://ns.adobe.com/personalization/ruleset-item",Hl="https://ns.adobe.com/personalization/redirect-item",Ql="https://ns.adobe.com/personalization/message/in-app",Jl="https://ns.adobe.com/personalization/message/content-card",Kl="https://ns.adobe.com/personalization/eventHistoryOperation",Xl=e=>{e.includes(Ar)||e.push(Ar)},Yl=(e,t)=>{const n=Ml(t);e.includes(n)||e.push(n)},Zl=e=>e.filter(((t,n)=>e.indexOf(t)===n));var ec=({getPageLocation:e,renderDecisions:t,decisionScopes:n,personalization:o,event:r,isCacheInitialized:i,logger:a})=>{const s=r.getViewName();return{isRenderDecisions:()=>t,isSendDisplayEvent:()=>!!o.sendDisplayEvent,shouldIncludeRenderedPropositions:()=>!!o.includeRenderedPropositions,getViewName:()=>s,hasScopes:()=>n.length>0||qe(o.decisionScopes),hasSurfaces:()=>qe(o.surfaces),hasViewName:()=>tn(s),createQueryDetails(){const t=[...n];qe(o.decisionScopes)&&t.push(...o.decisionScopes);const r=Gl(o.surfaces,e,a);this.shouldRequestDefaultPersonalization()&&(Xl(t),Yl(r,e));const i=[Fl,$l,Wl,Hl,Bl,Ql,Jl];return t.includes(Ar)&&i.push(ql),{schemas:i,decisionScopes:Zl(t),surfaces:Zl(r)}},isCacheInitialized:()=>i,shouldFetchData(){return this.hasScopes()||this.hasSurfaces()||this.shouldRequestDefaultPersonalization()},shouldUseCachedData(){return this.hasViewName()&&!this.shouldFetchData()},shouldRequestDefaultPersonalization(){return o.defaultPersonalizationEnabled||!this.isCacheInitialized()&&!1!==o.defaultPersonalizationEnabled}}};const tc="Rendering is disabled for authoring mode.",nc="decisioning.propositionDisplay",oc="decisioning.propositionInteract",rc="decisioning.propositionTrigger",ic="decisioning.propositionDismiss",ac="decisioning.propositionSuppressDisplay",sc=1,lc={DISPLAY:"display",INTERACT:"interact",TRIGGER:"trigger",DISMISS:"dismiss",SUPPRESS:"suppressDisplay"},cc={[nc]:lc.DISPLAY,[oc]:lc.INTERACT,[rc]:lc.TRIGGER,[ic]:lc.DISMISS,[ac]:lc.SUPPRESS},dc={[lc.DISPLAY]:nc,[lc.INTERACT]:oc,[lc.TRIGGER]:rc,[lc.DISMISS]:ic,[lc.SUPPRESS]:ac},uc=e=>cc[e],gc=e=>dc[e],mc={propositions:[]};var pc=({logger:e,options:t})=>{const n=Oo({propositions:To(Oo({id:jo().required(),scope:jo().required(),scopeDetails:Oo({decisionProvider:jo().required()}).required(),items:To(Oo({id:jo().required(),schema:jo().required(),data:Oo(Eo())})).nonEmpty().required()}).required()).nonEmpty().required(),metadata:Oo(Eo()),viewName:jo()}).required();try{return n(t)}catch(t){return e.warn("Invalid options for applyPropositions. No propositions will be applied.",t),mc}},fc=({getPageLocation:e,logger:t,fetchDataHandler:n,viewChangeHandler:o,onClickHandler:r,isAuthoringModeEnabled:i,mergeQuery:a,viewCache:s,showContainers:l,applyPropositions:c,setTargetMigration:d,mergeDecisionsMeta:u,renderedPropositions:g,onDecisionHandler:m,handleConsentFlicker:p})=>({lifecycle:{onComponentsRegistered(){p()},onDecision:m,onBeforeRequest:({request:e})=>(d(e),Promise.resolve()),onBeforeEvent({event:r,renderDecisions:c,decisionScopes:d=[],personalization:m={},onResponse:p=nn,onRequestFailure:f=nn}){if(p((()=>({propositions:[]}))),f((()=>l())),i())return t.warn(tc),a(r,{enabled:!1}),Promise.resolve();const h=ec({getPageLocation:e,renderDecisions:c,decisionScopes:d,personalization:m,event:r,isCacheInitialized:s.isInitialized(),logger:t}),b=[];if(h.shouldIncludeRenderedPropositions()&&b.push(g.clear()),h.shouldFetchData()){const e=s.createCacheUpdate(h.getViewName());f((()=>e.cancel())),n({cacheUpdate:e,personalizationDetails:h,event:r,onResponse:p})}else h.shouldUseCachedData()&&b.push(o({personalizationDetails:h,event:r,onResponse:p,onRequestFailure:f}));return Promise.all(b).then((e=>{const t=e.flatMap((e=>e));qe(t)&&u(r,t,[lc.DISPLAY])}))},onClick({event:e,clickedElement:t}){r({event:e,clickedElement:t})}},commands:{applyPropositions:{optionsValidator:e=>pc({logger:t,options:e}),run:c}}}),hc=(e="undefined")=>je(Me,{},{innerHTML:e});const bc=":eq(",vc=/:eq\((\d+)\)/g,yc=e=>-1===e.indexOf(bc),_c=e=>e.split(vc).filter(tn),wc=/(#|\.)(-?\w+)/g,Cc=(e,t,n)=>`${t}${CSS.escape(n)}`,kc=e=>e.replace(wc,Cc),Pc=e=>{const t=[],n=kc(e.trim()),o=_c(n),{length:r}=o;let i=0;for(;i<r;){const e=o[i],n=o[i+1];n?t.push({sel:e,eq:Number(n)}):t.push({sel:e}),i+=2}return t},Ec=e=>{const t=document;if(yc(e))return Ye(e,t);const n=Pc(e),{length:o}=n;let r=[],i=t,a=0;for(;a<o;){const{sel:e,eq:t}=n[a],s=Ye(e,i),{length:l}=s;if(0===l)break;if(null!=t&&t>l-1)break;a<o-1&&(null==t?[i]=s:i=s[t]),a===o-1&&(r=null==t?s:[s[t]]),a+=1}return r};var Tc=(e,t=document)=>t.getElementById(e),Ic=(e,t,n)=>{e.setAttribute(t,n)},Dc=(e,t)=>e.getAttribute(t),Ac=(e,t)=>{e.removeAttribute(t)},Sc=(e,t,n,o)=>{let r;r=o?`${t}:${n} !${o};`:`${t}:${n};`,e.style.cssText+=`;${r}`},xc=e=>e.parentNode,Oc=e=>e.nextElementSibling,jc=(e,t)=>{if(!e)return;const n=xc(e);n&&n.insertBefore(t,Oc(e))},Rc=(e,t)=>{if(!e)return;const n=xc(e);n&&n.insertBefore(t,e)},Nc=e=>{const{children:t}=e;return t?$e(t):[]},Lc=e=>{const{childNodes:t}=e;return t?$e(t):[]},Mc=e=>e.firstElementChild;let Vc;var Uc=(e=document)=>{if(void 0===Vc){const t=e.querySelector("[nonce]");Vc=t&&(t.nonce||t.getAttribute("nonce"))}return Vc};const zc="src",Gc=e=>e.tagName===Le,Fc=e=>je(Le,{src:e}),qc=e=>{Ye(Le,e).forEach((e=>{const t=Dc(e,zc);t&&Fc(t)}))},$c=(e,t)=>e.tagName===t,Wc=e=>$c(e,Ve)&&!Dc(e,zc);var Bc=e=>{const t=Ye(Ve,e),{length:n}=t,o=Uc();if(o)for(let e=0;e<n;e+=1){const n=t[e];Wc(n)&&(n.nonce=o)}};const Hc=(e,t)=>new Promise(((n,o)=>{t.onload=()=>{n(t)},t.onerror=()=>{o(new Error(`Failed to load script: ${e}`))}})),Qc=e=>{const t=document.createElement("script");t.src=e,t.async=!0;const n=Hc(e,t);return document.head.appendChild(t),n},Jc=(e,t)=>!!e&&e.tagName===t,Kc=e=>Jc(e,Ue)&&!Dc(e,zc),Xc=e=>Jc(e,Ue)&&Dc(e,zc),Yc=e=>{const t=Ye(Ue,e),n=[],{length:o}=t,r=Uc(),i={...r&&{nonce:r}};for(let e=0;e<o;e+=1){const o=t[e];if(!Kc(o))continue;const{textContent:r}=o;r&&n.push(je(Ue,i,{textContent:r}))}return n},Zc=e=>{const t=Ye(Ue,e),n=[],{length:o}=t;for(let e=0;e<o;e+=1){const o=t[e];if(!Xc(o))continue;const r=Dc(o,zc);r&&n.push(r)}return n},ed=(e,t)=>{t.forEach((t=>{e.appendChild(t),e.removeChild(t)}))},td=e=>Promise.all(e.map(Qc));var nd=(e,t,n)=>{const o=hc(t);Bc(o);const r=Lc(o),i=Yc(o),a=Zc(o);return qc(o),r.forEach((t=>{xe(e,t)})),n(e),ed(e,i),td(a)};const od=e=>{Lc(e).forEach(ft)};var rd=(e,t,n)=>(od(e),nd(e,t,n)),id=(e,t,n)=>{const o=hc(t);Bc(o);const r=Lc(o),i=Yc(o),a=Zc(o),{length:s}=r;let l=s-1;for(qc(o);l>=0;){const t=r[l];n(t);const o=Mc(e);o?Rc(o,t):xe(e,t),l-=1}return ed(e,i),td(a)};const ad="alloy-prehiding",sd="{ visibility: hidden }",ld={},cd=e=>{if(ld[e])return;const t=Uc(),n={...t&&{nonce:t}},o=je(Ve,n,{textContent:`${e} ${sd}`});xe(document.head,o),ld[e]=o},dd=e=>{const t=ld[e];t&&(ft(t),delete ld[e])},ud=e=>t=>{if(!t)return;if(Tc(ad))return;const n=Uc(),o={id:ad,...n&&{nonce:n}},r=je(Ve,o,{textContent:t});e.logOnContentHiding({status:"hide-containers",message:"Prehiding style applied to hide containers.",logLevel:"info"}),xe(document.head,r)},gd=e=>()=>{const t=Tc(ad);t&&(e.logOnContentHiding({status:"show-containers",message:"Prehiding style removed to show containers.",logLevel:"info"}),ft(t))};var md=(e,t,n)=>{n(e),e.textContent=t},pd=(e,t,n)=>{const o=hc(t);Bc(o);const r=Lc(o),i=Yc(o),a=Zc(o);return qc(o),r.forEach((t=>{n(t),Rc(e,t)})),ed(e,i),td(a)},fd=(e,t,n)=>pd(e,t,n).then((()=>{ft(e)})),hd=(e,t,n)=>{const o=hc(t);Bc(o);const r=Lc(o),i=Yc(o),a=Zc(o);qc(o);let s=e;return r.forEach((e=>{n(e),jc(s,e),s=e})),ed(e,i),td(a)},bd=(e,t,n)=>{const{priority:o,...r}=t;Object.keys(r).forEach((t=>{Sc(e,t,r[t],o)})),n(e)},vd=(e,t,n)=>{Object.keys(t).forEach((n=>{Ic(e,n,t[n])})),n(e)},yd=(e,t,n)=>{Gc(e)&&(Fc(t),n(e),Ac(e,zc),Ic(e,zc,t))},_d=(e,{from:t,to:n},o)=>{const r=Nc(e),i=r[t],a=r[n];i&&a&&(t<n?jc(a,i):Rc(a,i),o(a),o(i))};const wd=({containers:e,content:t,decorateProposition:n,renderFunc:o,renderStatusHandler:r})=>{const i=e.filter(r.shouldRender).map((async e=>{await o(e,t,n),r.markAsRendered(e)}));return Promise.all(i)},Cd=e=>async(t,n,o)=>{const{selector:r,prehidingSelector:i,content:a}=t;cd(i);try{const t=await mt(r,Ec);wd({containers:t,content:a,decorateProposition:n,renderFunc:e,renderStatusHandler:o})}finally{dd(i)}},kd=e=>`${e}`.endsWith("px")?e:`${e}px`;var Pd=(e,t,n)=>{const{priority:o,...r}=t;Object.keys(r).forEach((t=>{let n=r[t];"left"!==t&&"top"!==t||(n=kd(n)),Sc(e,t,n,o)})),n(e)},Ed=(e,t,n)=>{n(e)},Td=(e,t,n)=>{const{priority:o,...r}=t;Object.keys(r).forEach((t=>{let n=r[t];"width"!==t&&"height"!==t||(n=kd(n)),Sc(e,t,n,o)})),n(e)};const Id="setHtml",Dd="customCode",Ad="setText",Sd="setAttribute",xd="setImageSource",Od="setStyle",jd="move",Rd="resize",Nd="rearrange",Ld="remove",Md="insertAfter",Vd="insertBefore",Ud="replaceHtml",zd="prependHtml",Gd="appendHtml",Fd="click",qd="collectInteractions";var $d=()=>({[Id]:Cd(rd),[Dd]:Cd(id),[Ad]:Cd(md),[Sd]:Cd(vd),[xd]:Cd(yd),[Od]:Cd(bd),[jd]:Cd(Pd),[Rd]:Cd(Td),[Nd]:Cd(_d),[Ld]:Cd(ft),[Md]:Cd(hd),[Vd]:Cd(pd),[Ud]:Cd(fd),[zd]:Cd(id),[Gd]:Cd(nd),[qd]:Cd(Ed)}),Wd=({eventManager:e,mergeDecisionsMeta:t})=>({decisionsMeta:n=[],propositionAction:o,documentMayUnload:r=!1,eventType:i=nc,propositionEventTypes:a=[uc(i)],viewName:s})=>{const l=e.createEvent(),c={eventType:i};return s&&(c.web={webPageDetails:{viewName:s}}),qe(n)&&t(l,n,a,o),l.mergeXdm(c),r&&l.documentMayUnload(),e.sendEvent(l)};const Bd="personalization:decisions";var Hd=({logger:e,prehidingStyle:t,showContainers:n,hideContainers:o,mergeQuery:r,processPropositions:i,createProposition:a,notificationHandler:s,consent:l})=>({cacheUpdate:c,personalizationDetails:d,event:u,onResponse:g})=>{const{state:m,wasSet:p}=l.current();"out"===m&&p||(d.isRenderDecisions()?o(t):n()),r(u,d.createQueryDetails());const f=s(d.isRenderDecisions(),d.isSendDisplayEvent(),d.getViewName());g((({response:t})=>{const o=t.getPayloadsByType(Bd);qe(o)||e.logOnContentRendering({status:"no-offers",message:"No offers were returned.",logLevel:"info",detail:{query:d.createQueryDetails()}});const r=o.map((e=>a(e))),{page:s=[],view:l=[],proposition:u=[]}=St(r,(e=>e.getScopeType())),g=c.update(l);let m,p,h;return d.isRenderDecisions()?(({render:m,returnedPropositions:p,returnedDecisions:h}=i([...s,...g],u)),qe(s)&&e.logOnContentRendering({status:"rendering-started",message:"Started rendering propositions for page-wide scope.",logLevel:"info",detail:{scope:Ar,propositions:s.map((e=>e.toJSON()))}}),qe(g)&&e.logOnContentRendering({status:"rendering-started",message:`Rendering propositions started for view scope - ${d.getViewName()}.`,logLevel:"info",detail:{scope:d.getViewName(),propositions:g.map((e=>e.toJSON()))}}),m().then(f),n()):({returnedPropositions:p,returnedDecisions:h}=i([],[...s,...g,...u])),{propositions:p,decisions:h}}))},Qd=(e,t)=>{if(yc(e))return pt(e,t);const n=Ec(e);let o=!1;for(let e=0;e<n.length;e+=1)if(n[e]===t){o=!0;break}return o};const Jd="view",Kd="page",Xd="proposition",Yd=e=>e.map((e=>{const{trackingLabel:t,scopeType:n,...o}=e;return o})),Zd=e=>e.filter(((t,n)=>{const o=JSON.stringify(t);return n===e.findIndex((e=>JSON.stringify(e)===o))})),eu=(e,t,n)=>{const{documentElement:o}=document;let r=e,i=0;for(;r&&r!==o;){if(Qd(t,r)){const e=n(t),o={metas:e},r=e.find((e=>e.trackingLabel));r&&(o.label=r.trackingLabel,o.weight=i);const a=e.find((e=>e.scopeType===Jd));return a&&(o.viewName=a.scope,o.weight=i),o}r=r.parentNode,i+=1}return{metas:null}};var tu=(e,t,n)=>{const o=[];let r,i="",a=Number.MAX_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER;for(let l=0;l<t.length;l+=1){const{metas:c,label:d,weight:u,viewName:g}=eu(e,t[l],n);c&&(d&&u<=a&&(i=d,a=u),g&&u<=s&&(r=g,s=u),o.push(...Yd(c)))}return{decisionsMeta:Zd(o),propositionActionLabel:i,propositionActionToken:void 0,viewName:r}},nu=(e=document)=>-1!==e.location.href.indexOf("adobe_authoring_enabled");const ou=(e,t,n,o)=>{if(0===t.length)return;const r={};n.forEach((e=>{r[e]=sc}));const i={_experience:{decisioning:{propositions:t,propositionEventType:r}}};o&&(i._experience.decisioning.propositionAction=o),e.mergeXdm(i)},ru=(e,t)=>{e.mergeQuery({personalization:{...t}})},iu=(e,t)=>{if(!t&&!e)return;const n={};return e&&(n.label=e),t&&(n.tokens=[t]),n};var au=({mergeDecisionsMeta:e,collectInteractions:t,collectClicks:n,getInteractionMetas:o,getClickMetas:r,getClickSelectors:i,autoCollectPropositionInteractions:a})=>({event:s,clickedElement:l})=>{const c=[];let d,u,g;if([t(l,o,a),n(l,i(),r)].forEach((({decisionsMeta:e,propositionActionLabel:t,propositionActionToken:n,viewName:o})=>{Array.prototype.push.apply(c,e),!d&&t&&(d=t),!u&&n&&(u=n),!g&&o&&(g=o)})),qe(c)){const t={eventType:oc};g&&(t.web={webPageDetails:{viewName:g}}),s.mergeXdm(t),e(s,c,[lc.INTERACT],iu(d,u))}},su=({createProposition:e})=>{let t=!1,n=Promise.resolve({});const o=(t,n)=>{const o=t[n.toLowerCase()];if(o&&o.length>0)return o;return[e({scope:n,scopeDetails:{characteristics:{scopeType:Jd}},items:[{schema:Fl}]},!1)]};return{createCacheUpdate:e=>{const r=Ie();return t=!0,n=n.then((e=>r.promise.then((t=>({...e,...t}))).catch((()=>e)))),{update(t){const n=t.filter((e=>e.getScope())),i=St(n,(e=>e.getScope().toLowerCase()));return r.resolve(i),e?o(i,e):[]},cancel(){r.reject()}}},getView:e=>n.then((t=>o(t,e))),isInitialized:()=>t}},lu=({processPropositions:e,viewCache:t,logger:n})=>({personalizationDetails:o,onResponse:r})=>{let i,a;const s=o.getViewName();return r((()=>({propositions:i,decisions:a}))),t.getView(s).then((t=>{let r;return o.isRenderDecisions()?(({render:r,returnedPropositions:i,returnedDecisions:a}=e(t)),n.logOnContentRendering({status:"rendering-started",message:`Started rendering propositions for view scope - ${s}.`,logLevel:"info",detail:{scope:s,propositions:t.map((e=>e.toJSON()))}}),r()):(({returnedPropositions:i,returnedDecisions:a}=e([],t)),[])}))};const cu=e=>Object.keys(e).map((t=>({id:t,...e[t]})));var du=()=>{const e={};return{storeClickMeta:({selector:t,meta:{id:n,scope:o,scopeDetails:r,trackingLabel:i,scopeType:a}})=>{e[t]||(e[t]={}),e[t][n]={scope:o,scopeDetails:r,trackingLabel:i,scopeType:a}},getClickSelectors:()=>Object.keys(e),getClickMetas:t=>e[t]?cu(e[t]):{}}},uu=()=>{const e={},t={};return{storeInteractionMeta:(n,o,r,i,a)=>{a=parseInt(a,10),e[a]||(e[a]={},t[a]={}),t[a][n]||(t[a][n]=new Set),t[a][n].add(o),e[a][n]={...i,scopeType:r}},getInteractionMetas:n=>Array.isArray(n)&&0!==n.length?Object.values(n.map((e=>parseInt(e,10))).reduce(((n,o)=>(Object.keys(e[o]||{}).forEach((r=>{n[r]||(n[r]={proposition:e[o][r],items:new Set}),n[r].items=new Set([...n[r].items,...t[o][r]])})),n)),{})).map((({proposition:e,items:t})=>({...e,items:Array.from(t).map((e=>({id:e})))}))):[]}};const gu=(e,t)=>e===Wl&&t===qd,mu={[ql]:()=>!0,[$l]:()=>!0,[Wl]:gu,[Ql]:()=>!0,[Fl]:()=>!0},pu=(e,t)=>"function"==typeof mu[e]&&mu[e](e,t);var fu=({processPropositions:e,createProposition:t,renderedPropositions:n,viewCache:o})=>{const r=({items:e,metadataForScope:t={}})=>{const{actionType:n,selector:o}=t;return e.filter((e=>pu(e.schema,n))).map((e=>{const{schema:r}=e;return r===$l||gu(r,n)?yt(t)?void 0:{...e,schema:gu(r,n)?ql:r,data:{...e.data,selector:o,type:n}}:{...e}})).filter((e=>e))},i=e=>!(e.scope===Ar&&e.renderAttempted),a=({propositions:e,metadata:t})=>e.filter(i).map((e=>{if(qe(e.items)){const{id:n,scope:o,scopeDetails:i}=e;return{id:n,scope:o,scopeDetails:i,items:r({items:e.items,metadataForScope:t[e.scope]})}}return e})).filter((e=>qe(e.items)));return({propositions:r=[],metadata:i={},viewName:s})=>{const l=Ie();n.concat(l.promise);const c=a({propositions:r,metadata:i}).map((e=>t(e)));return Promise.resolve().then((()=>s?o.getView(s):[])).then((t=>{const{render:n,returnedPropositions:o}=e([...c,...t]);return n().then(l.resolve),{propositions:o}}))}},hu=({window:e})=>()=>e.location,bu=({targetMigrationEnabled:e})=>e?e=>{e.getPayload().mergeMeta({target:{migration:!0}})}:nn;const vu="BODY > *:eq(0)";var yu=e=>{const{selector:t,type:n}=e;return n!==Dd||t!==vu?e:{...e,selector:"BODY"}};const _u="SCRIPT,LINK,STYLE",wu=e=>{const t=hc(e);return Ye(_u,t).map((e=>e.outerHTML)).join("")};var Cu=e=>{const t={...e},{content:n,selector:o}=t;if(al(n))return t;if(null==o)return t;const r=Ec(o);return Jc(r[0],ze)?(t.type=Gd,t.content=wu(n),t):t},ku=e=>t=>t?e.reduce(((e,t)=>({...e,...t(e)})),t):t,Pu=({preprocess:e,isPageWideSurface:t})=>{const n=(t,n)=>{const{id:o,schema:r,data:i,characteristics:{trackingLabel:a}={}}=t,s=i?i.type:void 0,l=e(i);return{getId:()=>o,getSchema:()=>r,getSchemaType:()=>s,getData:()=>l,getProposition:()=>n,getTrackingLabel:()=>a,getOriginalItem:()=>t,toString:()=>JSON.stringify(t),toJSON:()=>t}};return(e,o=!0,r=!1)=>{const{id:i,scope:a,scopeDetails:s,items:l=[]}=e,{characteristics:{scopeType:c}={}}=s||{};return{getScope:()=>a,getScopeType:()=>a===Ar||t(a)?Kd:c===Jd?Jd:Xd,getItems(){return l.map((e=>n(e,this)))},getNotification:()=>({id:i,scope:a,scopeDetails:s}),getId:()=>i,toJSON:()=>e,shouldSuppressDisplay:()=>r,addToReturnValues(t,n,r,i){o&&(t.push({...e,items:r.map((e=>e.getOriginalItem())),renderAttempted:i}),i||n.push({...e,items:r.map((e=>e.getOriginalItem()))}))}}}},Eu=()=>{let e=Promise.resolve([]);return{concat(t){e=e.then((e=>t.then((t=>e.concat(t))).catch((()=>e))))},clear(){const t=e;return e=Promise.resolve([]),t}}},Tu=()=>({render:nn,setRenderAttempted:!0,includeInNotification:!0});const Iu="always",Du="never",Au="decoratedElementsOnly",Su=[Iu,Du,Au],xu="data-aep-interact-id",Ou="data-aep-click-label",ju="data-aep-click-token";let Ru=0;const Nu=(e,t)=>t?parseInt(t,10):++Ru,Lu=(e,t)=>!!e&&(!!e[t]&&[Iu,Au].includes(e[t])),Mu=(e,t,n,o,r,i,a,s)=>{const{scopeDetails:l={}}=a,{decisionProvider:c}=l;return Lu(e,c)||t===Fd?e=>{if(!e.tagName)return;const t=Nu(n,Dc(e,xu));s(n,o,i,a,t),Ic(e,xu,t),r&&!Dc(e,Ou)&&Ic(e,Ou,r)}:nn};var Vu=(e,t)=>e!==Jd?{shouldRender:()=>!0,markAsRendered:()=>{}}:{shouldRender:e=>{if(!e)return!0;return!(e.dataset.adobePropositionIds??"").split(",").includes(t)},markAsRendered:e=>{const n=(e.dataset.adobePropositionIds??"").split(",");n.includes(t)||n.push(t),e.dataset.adobePropositionIds=n.sort().join(",")}},Uu=({modules:e,logger:t,storeInteractionMeta:n,storeClickMeta:o,autoCollectPropositionInteractions:r})=>i=>{const{type:a,selector:s}=i.getData()||{};if(!a)return t.warn("Invalid DOM action data: missing type.",i.getData()),{setRenderAttempted:!1,includeInNotification:!1};if(a===Fd)return s?(o({selector:s,meta:{...i.getProposition().getNotification(),trackingLabel:i.getTrackingLabel(),scopeType:i.getProposition().getScopeType()}}),{setRenderAttempted:!0,includeInNotification:!1}):(t.warn("Invalid DOM action data: missing selector.",i.getData()),{setRenderAttempted:!1,includeInNotification:!1});if(!e[a])return t.warn("Invalid DOM action data: unknown type.",i.getData()),{setRenderAttempted:!1,includeInNotification:!1};const l=Vu(i.getProposition().getScopeType(),i.getId()),c=Mu(r,a,i.getProposition().getId(),i.getId(),i.getTrackingLabel(),i.getProposition().getScopeType(),i.getProposition().getNotification(),n);return{render:()=>e[a](i.getData(),c,l),setRenderAttempted:!0,includeInNotification:!0}},zu=({modules:e,logger:t,storeInteractionMeta:n,autoCollectPropositionInteractions:o})=>r=>{const{type:i,selector:a}=r.getData()||{};if(!a||!i)return{setRenderAttempted:!1,includeInNotification:!1};if(!e[i])return t.warn("Invalid HTML content data",r.getData()),{setRenderAttempted:!1,includeInNotification:!1};const s=Mu(o,i,r.getProposition().getId(),r.getId(),r.getTrackingLabel(),r.getProposition().getScopeType(),r.getProposition().getNotification(),n),l=Vu(r.getProposition().getScopeType(),r.getId());return{render:()=>e[i](r.getData(),s,l),setRenderAttempted:!0,includeInNotification:!0}};const Gu="BODY";var Fu=({logger:e,executeRedirect:t,collect:n})=>o=>{const{content:r}=o.getData()||{};if(!r)return e.warn("Invalid Redirect data",o.getData()),{};return{render:()=>(cd(Gu),n({decisionsMeta:[o.getProposition().getNotification()],documentMayUnload:!0}).then((()=>(e.logOnContentRendering({status:"rendering-redirect",detail:{propositionDetails:o.getProposition().getNotification(),redirect:r},message:`Redirect action ${o.toString()} executed.`,logLevel:"info"}),t(r)))).catch((e=>{throw dd(Gu),e}))),setRenderAttempted:!0,onlyRenderThis:!0}},qu=({schemaProcessors:e,logger:t})=>{const n=(e,n)=>()=>Promise.resolve().then(e).then((()=>(t.enabled&&t.info(`Action ${n.toString()} executed.`),n.toJSON()))).catch((e=>{const{message:o,stack:r}=e,i=`Failed to execute action ${n.toString()}. ${o} ${r}`;t.logOnContentRendering({status:"rendering-failed",detail:{propositionDetails:n.getProposition().getNotification(),item:n.toJSON()},error:e,message:i,logLevel:"warn"})})),o=async(e,t)=>{const n=(await Promise.allSettled(e.map((e=>e())))).filter((e=>"fulfilled"===e.status)).map((e=>e.value));if(t&&qe(n))return{...t,items:n}},r=t=>{const n=e[t.getSchema()];return n?n(t):{}},i=({renderers:e,returnedPropositions:t,returnedDecisions:i,items:a,proposition:s})=>{let l,c,d,u,g=[...e],m=[...t],p=[...i],f=[],h=[],b=[],v=!1,y=!1,_=0;for(;a.length>_;){if(u=a[_],({render:l,setRenderAttempted:c,includeInNotification:d,onlyRenderThis:y}=r(u)),y){m=[],p=[],c?(f=[u],h=[]):(f=[],h=[u]),g=[],b=[l],v=d;break}l&&b.push(n(l,u)),d&&(v=!0),c?f.push(u):h.push(u),_+=1}if(b.length>0){const e=v?s.getNotification():void 0;g.push((()=>o(b,e)))}else v&&g.push((()=>Promise.resolve(s.getNotification())));return f.length>0&&s.addToReturnValues(m,p,f,!0),h.length>0&&s.addToReturnValues(m,p,h,!1),{renderers:g,returnedPropositions:m,returnedDecisions:p,onlyRenderThis:y}};return(e,n=[])=>{let o,r,a,s=[],l=[],c=[],d=0;for(;e.length>d&&(r=e[d],a=r.getItems(),({renderers:s,returnedPropositions:l,returnedDecisions:c,onlyRenderThis:o}=i({renderers:s,returnedPropositions:l,returnedDecisions:c,items:a,proposition:r})),!o);)d+=1;o&&e.forEach(((e,t)=>{t!==d&&e.addToReturnValues(l,c,e.getItems(),!1)})),n.forEach((e=>{e.addToReturnValues(l,c,e.getItems(),!1)}));return{returnedPropositions:l,returnedDecisions:c,render:()=>Promise.all(s.map((e=>e()))).then((e=>{const n=e.filter((e=>e)),o=n.map((e=>{const{id:t,scope:n,scopeDetails:o}=e;return{id:t,scope:n,scopeDetails:o}}));if(qe(n)){const e=St(n,(e=>e.scope));t.logOnContentRendering({status:"rendering-succeeded",detail:{...e},message:`Scopes: ${JSON.stringify(e)} successfully executed.`,logLevel:"info"})}return o}))}}};const $u=()=>{let e=0;return t=>{const{items:n=[]}=t;return!!n.some((e=>e.schema===Ql))&&(e+=1,e>1)}};var Wu=({processPropositions:e,createProposition:t,notificationHandler:n})=>({renderDecisions:o,propositions:r,event:i,personalization:a={}})=>{if(!o)return Promise.resolve();const{sendDisplayEvent:s=!0}=a,l=i?i.getViewName():void 0,c=$u(),d=r.map((e=>t(e,!0,c(e)))),{render:u,returnedPropositions:g}=e(d),m=n(o,s,l),p=d.reduce(((e,t)=>(e[t.getId()]=t,e)),{});return u().then((e=>{const t=e.filter((e=>!p[e.id].shouldSuppressDisplay())),n=e.filter((e=>p[e.id].shouldSuppressDisplay()));m(t,n)})),Promise.resolve({propositions:g})};const Bu="text/html",Hu="application/json",Qu="defaultContent",Ju=["content","contentType"],Ku=["mobileParameters","webParameters","html"],Xu=(e,t)=>{for(let n=0;n<Ju.length;n+=1){const o=Ju[n];if(!Object.prototype.hasOwnProperty.call(e,o))return t.warn(`Invalid in-app message data: missing property '${o}'.`,e),!1}const{content:n,contentType:o}=e;if(o===Hu)for(let o=0;o<Ku.length;o+=1){const r=Ku[o];if(!Object.prototype.hasOwnProperty.call(n,r))return t.warn(`Invalid in-app message data.content: missing property '${r}'.`,e),!1}return!0};var Yu=({modules:e,logger:t})=>n=>{const o=n.getData(),r=n.getProposition(),i={...r.getNotification()},a=r.shouldSuppressDisplay();if(!o)return t.warn("Invalid in-app message data: undefined.",o),{};const{type:s=Qu}=o;return e[s]?Xu(o,t)?i?{render:()=>a?null:e[s]({...o,meta:i}),setRenderAttempted:!0,includeInNotification:!0}:(t.warn("Invalid in-app message meta: undefined.",i),{}):{}:(t.warn("Invalid in-app message data: unknown type.",o),{})};const Zu=e=>{const t=Ye(`#${e}`,document);t&&t.length>0&&ft(t[0])},eg=e=>{const t={};if(!e||"a"!==e.tagName.toLowerCase())return t;const{href:n}=e;if(!n||!n.startsWith("adbinapp://"))return t;const o=n.split("?"),r=o[0].split("://")[1],i=e.innerText,a=e.getAttribute("data-uuid")||"";let s,l;if(qe(o)){const e=dn.parse(o[1]);s=e.interaction||"",l=da(e.link||"")}return{action:r,interaction:s,link:l,label:i,uuid:a}};var tg=e=>(t,n=!1)=>(n?e.location.href=t:e.location.replace(t),new Promise((()=>{})));const ng="alloy-messaging-container",og="alloy-overlay-container",rg="alloy-content-iframe",ig=()=>[ng,og].forEach(Zu),ag=(e,t=tg(window))=>n=>{n.preventDefault(),n.stopImmediatePropagation();const{target:o}=n,r="a"===o.tagName.toLowerCase()?o:o.closest("a");if(!r)return;const{action:i,interaction:a,link:s,label:l,uuid:c}=eg(r);e(i,{label:l,id:a,uuid:c,link:s}),"dismiss"===i&&ig(),tn(s)&&s.length>0&&t(s,!0)},sg=(e,t)=>{const n=(new DOMParser).parseFromString(e,Bu),o=n.querySelector("script");o&&o.setAttribute("nonce",Uc());const r=je("iframe",{src:URL.createObjectURL(new Blob([n.documentElement.outerHTML],{type:"text/html"})),id:rg});return r.addEventListener("load",(()=>{const{addEventListener:e}=r.contentDocument||r.contentWindow.document;e("click",t)})),r
},lg=(e,t,n,o)=>{[{id:og,element:o},{id:ng,element:n},{id:rg,element:e}].forEach((({id:e,element:n})=>{const{style:o={},params:r={}}=t[e];Object.assign(n.style,o);const{parentElement:i="body",insertionMethod:a="appendChild",enabled:s=!0}=r,l=document.querySelector(i);s&&l&&"function"==typeof l[a]&&l[a](n)}))},cg=e=>{const{verticalAlign:t,width:n,horizontalAlign:o,backdropColor:r,height:i,cornerRadius:a,horizontalInset:s,verticalInset:l,uiTakeover:c=!1}=e,d={width:n?`${n}%`:"100%",backgroundColor:r||"rgba(0, 0, 0, 0.5)",borderRadius:a?`${a}px`:"0px",border:"none",position:c?"fixed":"relative",overflow:"hidden"};return"left"===o?d.left=s?`${s}%`:"0":"right"===o?d.right=s?`${s}%`:"0":"center"===o&&(d.left="50%",d.transform="translateX(-50%)"),"top"===t?d.top=l?`${l}%`:"0":"bottom"===t?(d.position="fixed",d.bottom=l?`${l}%`:"0"):"center"===t&&(d.top="50%",d.transform=("center"===o?`${d.transform} `:"")+"translateY(-50%)",d.display="flex",d.alignItems="center",d.justifyContent="center"),d.height=i?`${i}vh`:"100%",d},dg=e=>{const{backdropOpacity:t,backdropColor:n}=e;return{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",background:"transparent",opacity:t||.5,backgroundColor:n||"#FFFFFF"}},ug=["enabled","parentElement","insertionMethod"],gg=e=>{if(!e)return!1;const t=Object.keys(e);if(!t.includes(ng))return!1;if(!t.includes(og))return!1;const n=Object.values(e);for(let e=0;e<n.length;e+=1){if(!Oo(n[e],"style"))return!1;if(!Oo(n[e],"params"))return!1;for(let t=0;t<ug.length;t+=1)if(!Oo(n[e].params,ug[t]))return!1}return!0},mg=e=>{if(!e)return;const{uiTakeover:t=!1}=e;return{[rg]:{style:{border:"none",width:"100%",height:"100%"},params:{enabled:!0,parentElement:"#alloy-messaging-container",insertionMethod:"appendChild"}},[ng]:{style:cg(e),params:{enabled:!0,parentElement:"body",insertionMethod:"appendChild"}},[og]:{style:dg(e),params:{enabled:!0===t,parentElement:"body",insertionMethod:"appendChild"}}}},pg=(e={},t)=>{ig();const{content:n,contentType:o,mobileParameters:r}=e;let{webParameters:i}=e;if(o!==Bu)return;const a=je("div",{id:ng}),s=sg(n,ag(t)),l=je("div",{id:og});gg(i)||(i=mg(r)),i&&lg(s,i,a,l)};var fg=(e,t)=>new Promise((n=>{const{meta:o}=e;pg(e,((e,n)=>{const r={};r[lc.INTERACT]=sc,-1!==Object.values(lc).indexOf(e)&&(r[e]=sc),t({decisionsMeta:[o],propositionAction:n,eventType:oc,propositionEventTypes:Object.keys(r)})})),n({meta:o})})),hg=e=>({defaultContent:t=>fg(t,e)}),bg=(e,t)=>(n,o,r)=>{if(!n)return()=>{};if(!o){const e=Ie();return t.concat(e.promise),e.resolve}return(t=[],n=[])=>{qe(t)&&e({decisionsMeta:t,viewName:r}),qe(n)&&e({decisionsMeta:n,eventType:ac,propositionAction:{reason:"Conflict"},viewName:r})}},vg=({showContainers:e,consent:t})=>()=>{const{state:n,wasSet:o}=t.current();n===Qo&&o?e():t.awaitConsent().catch(e)};const yg=e=>{const{documentElement:t}=document;let n=e;const o=new Set;let r,i;for(;n&&n!==t&&!(n instanceof ShadowRoot);){const e=Dc(n,xu);e&&o.add(e),r=r||Dc(n,Ou),i=i||Dc(n,ju),n=n.parentNode}return{interactIds:[...o],clickLabel:r,clickToken:i}},_g=e=>{const t=e.find((e=>e.scopeType===Jd));return t?t.scope:void 0},wg=(e,t,n)=>o=>{const{scopeDetails:r={}}=o,{decisionProvider:i}=r;return e[i]===Iu||e[i]===Au&&(t||n)};var Cg=(e,t,n)=>{const{interactIds:o,clickLabel:r="",clickToken:i}=yg(e),a=wg(n,r,i);if(0===o.length)return{};const s=t(o).filter(a);return{decisionsMeta:Yd(s),propositionActionLabel:r,propositionActionToken:i,viewName:_g(s)}};const kg="personalization:decisions",Pg="AJO",Eg="TGT",Tg=({config:e,logger:t,eventManager:n,consent:o})=>{const{targetMigrationEnabled:r,prehidingStyle:i,autoCollectPropositionInteractions:a}=e,s=Wd({eventManager:n,mergeDecisionsMeta:ou}),l=gd(t),c=ud(t),{storeInteractionMeta:d,getInteractionMetas:u}=uu(),{storeClickMeta:g,getClickSelectors:m,getClickMetas:p}=du(),f=hu({window:window}),h=$d(),b=ku([Cu,yu]),v=Pu({preprocess:b,isPageWideSurface:zl}),y=su({createProposition:v}),_=tg(window),w={[Fl]:Tu,[ql]:Uu({modules:h,logger:t,storeInteractionMeta:d,storeClickMeta:g,autoCollectPropositionInteractions:a}),[$l]:zu({modules:h,logger:t,storeInteractionMeta:d,autoCollectPropositionInteractions:a}),[Hl]:Fu({logger:t,executeRedirect:_,collect:s}),[Ql]:Yu({modules:hg(s),logger:t})},C=qu({schemaProcessors:w,logger:t}),k=Eu(),P=bg(s,k),E=Hd({prehidingStyle:i,showContainers:l,hideContainers:c,mergeQuery:ru,processPropositions:C,createProposition:v,notificationHandler:P,consent:o,logger:t}),T=au({mergeDecisionsMeta:ou,collectInteractions:Cg,collectClicks:tu,getInteractionMetas:u,getClickMetas:p,getClickSelectors:m,autoCollectPropositionInteractions:a}),I=lu({processPropositions:C,viewCache:y,logger:t}),D=fu({processPropositions:C,createProposition:v,renderedPropositions:k,viewCache:y}),A=bu({targetMigrationEnabled:r}),S=Wu({processPropositions:C,createProposition:v,notificationHandler:P}),x=vg({showContainers:l,consent:o});return fc({getPageLocation:f,logger:t,fetchDataHandler:E,viewChangeHandler:I,onClickHandler:T,isAuthoringModeEnabled:nu,mergeQuery:ru,viewCache:y,showContainers:l,applyPropositions:D,setTargetMigration:A,mergeDecisionsMeta:ou,renderedPropositions:k,onDecisionHandler:S,handleConsentFlicker:x})};Tg.namespace="Personalization";const Ig=Su.map((e=>Ao(e)));Tg.configValidators=Oo({prehidingStyle:jo().nonEmpty(),targetMigrationEnabled:Io().default(!1),autoCollectPropositionInteractions:Oo({[Pg]:Po(Ig).default(Iu),[Eg]:Po(Ig).default(Du)}).default({[Pg]:Iu,[Eg]:Du}).noUnknownFields()});const Dg=e=>null!==e&&"object"==typeof e&&Object.getPrototypeOf(e)===Object.prototype,Ag=(e,t={},n=[])=>(Object.keys(e).forEach((o=>{Dg(e[o])||Array.isArray(e[o])?Ag(e[o],t,[...n,o]):t[[...n,o].join(".")]=e[o]})),t);var Sg=e=>Dg(e)?Ag(e):e,xg=({renderDecisions:e,decisionProvider:t,applyResponse:n,event:o,personalization:r,decisionContext:i})=>{const a={...Sg(o.getContent()),...i};return({response:i})=>{if(t.addPayloads(i.getPayloadsByType(kg)),!o.hasQuery())return{propositions:[]};const s=t.evaluate(a);return n({renderDecisions:e,propositions:s,event:o,personalization:r})}};const Og={MATCHER:"matcher",GROUP:"group",HISTORICAL:"historical"},jg={EQUALS:"eq",NOT_EQUALS:"ne",EXISTS:"ex",NOT_EXISTS:"nx",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"ge",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"le",CONTAINS:"co",NOT_CONTAINS:"nc",STARTS_WITH:"sw",ENDS_WITH:"ew"},Rg={AND:"and",OR:"or"},Ng={ORDERED:"ordered",MOST_RECENT:"mostRecent"},Lg={[jg.EQUALS]:d(),[jg.NOT_EQUALS]:u(),[jg.EXISTS]:g(),[jg.NOT_EXISTS]:m(),[jg.GREATER_THAN]:f(),[jg.GREATER_THAN_OR_EQUAL_TO]:h(),[jg.LESS_THAN]:b(),[jg.LESS_THAN_OR_EQUAL_TO]:v(),[jg.CONTAINS]:y(),[jg.NOT_CONTAINS]:_(),[jg.STARTS_WITH]:w(),[jg.ENDS_WITH]:C()},Mg="eventId",Vg="eventType",Ug=["iam.eventType",Vg,"type"],zg=["iam.id","id"],Gg=(e,t,n)=>{switch(t){case jg.GREATER_THAN:return e>n;case jg.GREATER_THAN_OR_EQUAL_TO:return e>=n;case jg.LESS_THAN:return e<n;case jg.LESS_THAN_OR_EQUAL_TO:return e<=n;case jg.EQUALS:return e===n;case jg.NOT_EQUALS:return e!==n;default:return!1}},Fg=(e,t)=>{for(let n=0;n<t.length;n+=1)if(!P(e[t[n]]))return t[n];throw new Error("The event does not match the expected schema.")},qg=e=>{const t=structuredClone(e);return[[Fg(t,Ug),Vg],[Fg(t,zg),Mg]].forEach((([e,n])=>{e!==n&&(t[n]=t[e],delete t[e])})),t},$g="TGT",Wg="DEFAULT",Bg="ECID",Hg="<key>",Qg="<identity>",Jg=K(Y,(e=>e.join("-"))),Kg=100,Xg=K(Z);var Yg=e=>{const t=structuredClone(e),n=Object.keys(t).sort().reduce(((e,n)=>{const o=t[n];return null==o||""===o?e:e+=`${n}:${o}`}),"");return Ct(n)},Zg=e=>{const t=new Date;return t.setDate(t.getDate()-e),t};const em=1e3,tm=30,nm="events",om=2097152,rm={TYPE:"~type",SOURCE:"~source"},im={EDGE:"com.adobe.eventType.edge",RULES_ENGINE:"com.adobe.eventType.rulesEngine"},am={REQUEST:"com.adobe.eventSource.requestContent"},sm="cjmiam",lm="schema",cm="insert",dm="insertIfNotExists";var um=(e=tm,t=em)=>n=>{let o=Object.entries(n).reduce(((e,[t,{timestamps:n=[]}])=>(n.forEach((n=>{e.push({key:t,timestamp:n})})),e)),[]);const r=Zg(e);return o=o.filter((({timestamp:e})=>e>=r)),o.sort(((e,t)=>e.timestamp-t.timestamp)),o=o.slice(-t),o.reduce(((e,{key:t,timestamp:n})=>(e[t]||(e[t]={timestamps:[]}),e[t].timestamps.push(n),e)),{})},gm=e=>{const{_experience:t}=e||{};return!!t&&"object"==typeof t};const mm=e=>e?.scopeDetails?.activity?.id,pm=e=>e?.scopeDetails?.decisionProvider,fm=(e,t)=>n=>{try{const n=e.getItem(t);return[JSON.parse(n),n.length]}catch{}return[n,0]},hm=(e,t)=>n=>{e.setItem(t,JSON.stringify(n))},bm=()=>{const e={};return{getItem:t=>t in e?e[t]:null,setItem:(t,n)=>{e[t]=n}}},vm=e=>{e.clear()};var ym=(e=[])=>Array.isArray(e)?e.flat(1/0):e,_m=(e,t,n)=>{const{html:o,mobileParameters:r}=n;return{schema:Ql,data:{mobileParameters:r,webParameters:{},content:o,contentType:Bu},id:e}},wm=(e,t,n)=>{const{schema:o,data:r,id:i}=n;return{schema:o,data:r,id:i||e}};const Cm={[sm]:_m,[lm]:wm};var km=()=>e=>{const{id:t,type:n,detail:o}=e;return"function"==typeof Cm[n]?Cm[n](t,n,o):o};const Pm=e=>{const{schema:t,data:n}=e;if(t===Bl)return!0;if(t!==Wl)return!1;try{const e="string"==typeof n.content?JSON.parse(n.content):n.content;return e&&Object.prototype.hasOwnProperty.call(e,"version")&&Object.prototype.hasOwnProperty.call(e,"rules")}catch{return!1}};var Em=(e,t)=>{const n=km(),o=mm(e),r=[],i=e=>{const{data:t={},schema:n}=e,o=n===Bl?t:t.content;o&&r.push(ie("string"==typeof o?JSON.parse(o):o,{generateEventHash:Yg}))},a=i=>{const a=t.getEvent(nc,o),s=a?.timestamps[0],l=ym(r.map((e=>e.execute(i)))).map(n).map((e=>{const n=t.addEvent({eventType:lc.TRIGGER,eventId:o}).timestamps[0];return{...e,data:{...e.data,qualifiedDate:n,displayedDate:s}}}));return{...e,items:l}};return Array.isArray(e.items)&&e.items.filter(Pm).forEach(i),{rank:e?.scopeDetails?.rank||1/0,evaluate:a,isEvaluable:r.length>0}},Tm=({eventRegistry:e})=>{const t={},n=n=>{const o=mm(n);if(!o)return;const r=Em(n,e);r.isEvaluable&&(t[o]=r)};return{addPayload:n,addPayloads:e=>{e.forEach(n)},evaluate:(e={})=>Object.values(t).sort((({rank:e},{rank:t})=>e-t)).map((t=>t.evaluate(e))).filter((e=>e.items.length>0))}},Im=e=>{const t=[];return e.forEach((e=>{const n=[];e.items.forEach((e=>{e.schema===Kl?t.push({operation:e.data.operation,event:{eventId:e.data.content["iam.id"],eventType:e.data.content["iam.eventType"]}}):n.push(e)})),e.items=n})),t},Dm=({lifecycle:e,eventRegistry:t})=>({renderDecisions:n=!1,propositions:o=[],event:r,personalization:i})=>{if(e){const a=Im(o);t.addEventPayloads(a),e.onDecision({renderDecisions:n,propositions:o,event:r,personalization:i})}return{propositions:o}},Am=({storage:e,logger:t})=>{let n,o,r,i=e;const a=e=>{i=e;const t=fm(i,nm);if(n=hm(i,nm),[o,r]=t({}),r>om){const e=um();o=e(o),n(o)}};a(e);const s=(e={eventType:null,eventId:null},r=cm)=>{const{eventType:i,eventId:a}=e;if(!i||!a)return;const s=Yg(e);if(r===dm&&o[s])return;o[s]&&Array.isArray(o[s].timestamps)||(o[s]={timestamps:[]});const l=(new Date).getTime();return o[s].timestamps.push(l),o[s].timestamps.sort(),t.info("[Event History] Added event for",e,"with hash",s,"and timestamp",l),n(o),o[s]},l=(e=[])=>e.map((({operation:e,event:t})=>s(t,e)));return{addExperienceEdgeEvent:e=>{const{xdm:t}=e.getContent();if(!gm(t))return;const{_experience:{decisioning:{propositionEventType:n={},propositionAction:{id:o}={},propositions:r=[]}={}}}=t;Object.keys(n).filter((e=>n[e]===sc)).forEach((e=>{r.forEach((t=>{pm(t)===Pg&&s({eventId:mm(t),eventType:e,action:o})}))}))},addEvent:s,addEventPayloads:l,getEvent:(e,t)=>{const n=Yg({eventType:e,eventId:t});if(o[n])return o[n]},toJSON:()=>o,setStorage:a}},Sm=({eventRegistry:e,window:t,getBrowser:n})=>{const o=(new Date).getTime(),r=()=>({title:t.title,url:t.url,...an(t.url)}),i=()=>({url:t.referrer,...an(t.referrer)}),a=()=>{const e=new Date,t=e.getTime();return{pageLoadTimestamp:o,currentTimestamp:t,currentDate:e.getDate(),"~state.com.adobe.module.lifecycle/lifecyclecontextdata.dayofweek":e.getDay()+1,"~state.com.adobe.module.lifecycle/lifecyclecontextdata.hourofday":e.getHours(),currentMinute:e.getMinutes(),currentMonth:e.getMonth(),currentYear:e.getFullYear(),pageVisitDuration:t-o,"~timestampu":t/1e3,"~timestampz":e.toISOString()}},s=()=>({height:t.height,width:t.width,scrollY:t.scrollY,scrollX:t.scrollX}),l={browser:(()=>({name:n()}))(),page:r(),referringPage:i()},c=()=>({...l,...a(),window:s(),"~sdkver":Di});return{getContext:(t={})=>{const n={...c(),...t};return{...Sg(n),events:e.toJSON()}}}};const xm=(e,...t)=>t,Om=()=>!0,jm=()=>{let e=xm,t=Om,n=0;const o={},r=e=>()=>{delete o[e]},i=(e,t)=>"function"!=typeof e?()=>{}:(n+=1,o[n]={callback:e,params:t},{id:n,unsubscribe:r(n)}),a=(...n)=>{Object.values(o).forEach((({callback:o,params:r})=>{const i=e(r,...n);t(r,...i)&&o(...i)}))},s=(n,...r)=>{if(!n||!o[n])return;const{callback:i,params:a}=o[n],s=e(a,...r);t(a,...s)&&i(...s)};return{add:i,emit:a,emitOne:s,hasSubscriptions:()=>Object.keys(o).length>0,setEmissionPreprocessor:t=>{"function"==typeof t&&(e=t)},setEmissionCondition:e=>{"function"==typeof e&&(t=e)}}},Rm=({options:e})=>Oo({surfaces:To(jo()).uniqueItems(),schemas:To(jo()).uniqueItems(),callback:Do().required()}).noUnknownFields()(e),Nm=e=>{const{id:t,scope:n,scopeDetails:o}=e;return{id:t,scope:n,scopeDetails:o}};var Lm=({collect:e})=>{let t=()=>{};const n=new Set,o=e=>[lc.INTERACT,lc.DISMISS].includes(e),r=(e,t,r)=>{const i=[e,t].join("-"),a=!r.has(i)&&(o(e)||!n.has(i));return r.add(i),n.add(i),a},i=(t,n=[])=>{if(!(n instanceof Array))return Promise.resolve();if(!Object.values(lc).includes(t))return Promise.resolve();const o=[],i=new Set;return n.forEach((e=>{const n=Nm(e);r(t,n.id,i)&&o.push(n)})),o.length>0?e({decisionsMeta:o,eventType:gc(t),documentMayUnload:!0}):Promise.resolve()},a=jm(),s=(e,t)=>{const{surfacesFilter:n,schemasFilter:o}=e;return[{propositions:t.filter((e=>!n||n.includes(e.scope))).map((e=>{const{items:t=[]}=e;return{...e,items:t.filter((e=>!o||o.includes(e.schema)))}})).filter((e=>e.items.length>0))},i]};a.setEmissionPreprocessor(s);const l=({surfaces:e,schemas:n,callback:o})=>{const{id:r,unsubscribe:i}=a.add(o,{surfacesFilter:e instanceof Array?e:void 0,schemasFilter:n instanceof Array?n:void 0});return t(r),Promise.resolve({unsubscribe:i})};return{refresh:e=>{t=t=>{t?a.emitOne(t,e):a.emit(e)},t()},command:{optionsValidator:e=>Rm({options:e}),run:l}}};const Mm=({options:e})=>Oo({renderDecisions:Io(),personalization:Oo({decisionContext:Oo({})})}).noUnknownFields()(e);var Vm=({contextProvider:e,decisionProvider:t})=>({optionsValidator:e=>Mm({options:e}),run:({renderDecisions:n,decisionContext:o,applyResponse:r})=>r({renderDecisions:n,propositions:t.evaluate(e.getContext(o))})});const Um=({config:e,eventManager:t,createNamespacedStorage:n,consent:o,getBrowser:r,logger:i})=>{const{orgId:a,personalizationStorageEnabled:s}=e,l=Wd({eventManager:t,mergeDecisionsMeta:ou}),c=n(`${Dt(a)}.decisioning.`);s||vm(c.persistent);const d=Am({storage:bm(),logger:i}),u=Tm({eventRegistry:d}),g=Sm({eventRegistry:d,window:window,getBrowser:r}),m=Vm({contextProvider:g,decisionProvider:u}),p=Lm({collect:l});let f;return{lifecycle:{onDecision({propositions:e}){p.refresh(e)},onComponentsRegistered(e){f=Dm({lifecycle:e.lifecycle,eventRegistry:d}),s&&o.awaitConsent().then((()=>{d.setStorage(c.persistent)})).catch((()=>{c&&vm(c.persistent)}))},onBeforeEvent({event:e,renderDecisions:t,personalization:n={},onResponse:o=nn}){const{decisionContext:r={}}=n;o(xg({renderDecisions:t,decisionProvider:u,applyResponse:f,event:e,personalization:n,decisionContext:g.getContext({[rm.TYPE]:im.EDGE,[rm.SOURCE]:am.REQUEST,...r})}))},onBeforeRequest({request:e}){const t=e.getPayload().toJSON(),{events:n=[]}=t;0!==n.length&&n.forEach((e=>d.addExperienceEdgeEvent(e)))}},commands:{evaluateRulesets:{run:({renderDecisions:e,personalization:t={}})=>{const{decisionContext:n={}}=t;return m.run({renderDecisions:e,decisionContext:{[rm.TYPE]:im.RULES_ENGINE,[rm.SOURCE]:am.REQUEST,...n},applyResponse:f})},optionsValidator:m.optionsValidator},subscribeRulesetItems:p.command}}};Um.namespace="RulesEngine",Um.configValidators=Oo({personalizationStorageEnabled:Io().default(!1)});var zm=Oo({streamingMedia:Oo({channel:jo().nonEmpty().required(),playerName:jo().nonEmpty().required(),appVersion:jo(),mainPingInterval:So().minimum(10).maximum(50).default(10),adPingInterval:So().minimum(1).maximum(10).default(10)}).noUnknownFields()}),Gm=({options:e})=>Po([Oo({playerId:jo().required(),getPlayerDetails:Do().required(),xdm:Oo({mediaCollection:Oo({sessionDetails:Oo(Eo()).required()})}),edgeConfigOverrides:Lo}).required(),Oo({xdm:Oo({mediaCollection:Oo({playhead:So().required(),sessionDetails:Oo(Eo()).required()})}),edgeConfigOverrides:Lo}).required()],"an object with playerId, getPlayerDetails and xdm.mediaCollection.sessionDetails, or an object with xdm.mediaCollection.playhead and xdm.mediaCollection.sessionDetails")(e),Fm=({options:e})=>Po([Oo({playerId:jo().required(),xdm:Oo({eventType:Ro(...Object.values(Ys)).required(),mediaCollection:Oo(Eo())}).required()}).required(),Oo({xdm:Oo({eventType:Ro(...Object.values(Ys)).required(),mediaCollection:Oo({playhead:So().integer().required(),sessionID:jo().required()}).required()}).required()}).required()],"Error validating the sendMediaEvent command options.")(e),qm=({config:e,trackMediaEvent:t,trackMediaSession:n,mediaResponseHandler:o})=>({lifecycle:{onBeforeEvent({mediaOptions:e,onResponse:t=nn}){if(!e)return;const{legacy:n,playerId:r,getPlayerDetails:i}=e;n||t((({response:e})=>o({playerId:r,getPlayerDetails:i,response:e})))}},commands:{createMediaSession:{optionsValidator:e=>Gm({options:e}),run:n},sendMediaEvent:{optionsValidator:e=>Fm({options:e}),run:n=>e.streamingMedia?t(n):Promise.reject(new Error("Streaming media is not configured."))}}});const $m=({config:e,logger:t,eventManager:n,sendEdgeNetworkRequest:o,consent:r})=>{const i=nl(),a=el({config:e,eventManager:n,consent:r,sendEdgeNetworkRequest:o,setTimestamp:Ti((()=>new Date))}),s=rl({mediaSessionCacheManager:i,mediaEventManager:a,config:e}),l=il({config:e,mediaEventManager:a,mediaSessionCacheManager:i}),c=sl({mediaSessionCacheManager:i,config:e,trackMediaEvent:s});return qm({config:e,trackMediaEvent:s,mediaResponseHandler:c,trackMediaSession:l})};$m.namespace="Streaming media",$m.configValidators=zm;var Wm=Object.freeze({__proto__:null,activityCollector:js,audiences:Ms,consent:Js,eventMerge:Xs,mediaAnalyticsBridge:Cl,personalization:Tg,rulesEngine:Um,streamingMedia:$m});const{console:Bm}=window,Hm=Qt(window),Qm=(e={})=>{const t=Oo({name:jo().default("alloy"),monitors:To(Oo({})).default([]),components:To(Do())}).noUnknownFields(),{name:n,monitors:o,components:r}=t(e),i=Vo({console:Bm,locationSearch:window.location.search,createLogger:Dr,instanceName:n,createNamespacedStorage:Hm,getMonitors:yi.bind(null,o)}),a=qa({instanceName:n,logController:i,components:r});return i.logger.logOnInstanceCreated({instance:a}),a};t.createCustomInstance=Qm;var Jm=e=>null==e,Km=e=>!Jm(e)&&!Array.isArray(e)&&"object"==typeof e,Xm=se({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});Xm.get.bind(Xm),Xm.set.bind(Xm),Xm.remove.bind(Xm),Xm.withConverter.bind(Xm);const Ym=(e,t)=>{Object.keys(t).forEach((n=>{Km(e[n])&&Km(t[n])?Ym(e[n],t[n]):e[n]=t[n]}))};var Zm=(e,...t)=>{if(Jm(e))throw new TypeError('deepAssign "target" cannot be null or undefined');const n=Object(e);return t.forEach((e=>Ym(n,Object(e)))),n};t.deepAssign=Zm;const ep=[];for(let e=0;e<256;++e)ep.push((e+256).toString(16).slice(1));let tp;const np=new Uint8Array(16);var op={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},rp=()=>({eventMergeId:de()});t.createEventMergeId=rp;var ip=e=>"function"==typeof e,ap=e=>Km(e)&&0===Object.keys(e).length,sp=e=>"boolean"==typeof e,lp=e=>"number"==typeof e&&!Number.isNaN(e),cp=e=>{const t=parseInt(e,10);return lp(t)&&e===t},dp=e=>"string"==typeof e;const up=e=>function(t,n){return null==t?t:e.call(this,t,n)},gp=(e,t)=>function(n,o){return t.call(this,e.call(this,n,o),o)},mp=(e,t)=>function(n,o){const r=[],i=[e,t].reduce(((e,t)=>{try{return t.call(this,e,o)}catch(t){return r.push(t),e}}),n);if(r.length)throw new Error(r.join("\n"));return i},pp=(e,t,n)=>Object.assign(gp(e,t),e,n),fp=(e,t,n)=>Object.assign(gp(e,up(t)),e,n),hp=(e,t,n)=>Object.assign(mp(up(t),e),e,n),bp=(e,t,n,o)=>{if(!e)throw new Error(`'${n}': Expected ${o}, but got ${JSON.stringify(t)}.`)};var vp=(e,t)=>(bp(sp(e),e,t,"true or false"),e),yp=(e,t)=>(bp(ip(e),e,t,"a function"),e),_p=(e,t)=>function(n,o){let r;const i=e.find((e=>{try{return r=e.call(this,n,o),!0}catch{return!1}}));return bp(i,n,o,t),r},wp=e=>function(t,n){bp(Array.isArray(t),t,n,"an array");const o=[],r=t.map(((r,i)=>{try{return e.call(this,r,`${n}[${i}]`,t)}catch(e){return void o.push(e.message)}}));if(o.length)throw new Error(o.join("\n"));return r},Cp=e=>t=>null==t?e:t,kp=(e="This field has been deprecated")=>function(t,n){let o=e;return void 0!==t&&(n&&(o=`'${n}': ${o}`),this&&this.logger&&this.logger.warn(o)),t},Pp=e=>(t,n)=>(bp(t===e,t,n,`${e}`),t),Ep=e=>function(t,n){bp(Km(t),t,n,"an object");const o=[],r={};if(Object.keys(t).forEach((i=>{const a=t[i],s=n?`${n}.${i}`:i;try{const t=e.call(this,a,s);void 0!==t&&(r[i]=t)}catch(e){o.push(e.message)}})),o.length)throw new Error(o.join("\n"));return r},Tp=(e,t)=>(n,o)=>(bp(n>=t,n,o,`${e} greater than or equal to ${t}`),n),Ip=(e,t)=>(n,o)=>(bp(n<=t,n,o,`${e} less than or equal to ${t}`),n),Dp=e=>(t,n)=>{const o=[];if(Object.keys(t).forEach((t=>{if(!e[t]){const e=n?`${n}.${t}`:t;o.push(`'${e}': Unknown field.`)}})),o.length)throw new Error(o.join("\n"));return t},Ap=e=>(t,n)=>(Km(t)?bp(!ap(t),t,n,e):bp(t.length>0,t,n,e),t),Sp=e=>function(t,n){bp(Km(t),t,n,"an object");const o=[],r={};if(Object.keys(e).forEach((i=>{const a=t[i],s=e[i],l=n?`${n}.${i}`:i;try{const e=s.call(this,a,l);void 0!==e&&(r[i]=e)}catch(e){o.push(e.message)}})),Object.keys(t).forEach((e=>{Object.prototype.hasOwnProperty.call(r,e)||(r[e]=t[e])})),o.length)throw new Error(o.join("\n"));return r},xp=(e,t,n)=>function(o,r){bp(Km(o),o,r,"an object");const{[e]:i,[n]:a,...s}=o,l=t(i,r);if(void 0!==l){let t=`The field '${e}' is deprecated. Use '${n}' instead.`;if(r&&(t=`'${r}': ${t}`),void 0!==a&&a!==l)throw new Error(t);this&&this.logger&&this.logger.warn(t)}return{[n]:a||l,...s}},Op=()=>{const e=[];return(t,n)=>(bp(-1===e.indexOf(t),t,n,"a unique value across instances"),e.push(t),t)},jp=e=>{const t=Object.create(null);for(let n=0;n<e.length;n+=1){const o=e[n];if(o in t)return!1;t[o]=!0}return!0},Rp=()=>(e,t)=>(bp(jp(e),e,t,"array values to be unique"),e);const Np=/^[a-z0-9.-]{1,}$/i;var Lp=(e,t)=>(bp(Np.test(e),e,t,"a valid domain"),e),Mp=(e,t)=>(bp(cp(e),e,t,"an integer"),e),Vp=(e,t)=>(bp(lp(e),e,t,"a number"),e),Up=e=>{try{return null!==RegExp(e)}catch{return!1}},zp=(e,t)=>(bp(Up(e),e,t,"a regular expression"),e),Gp=(e,t)=>{if(null==e)throw new Error(`'${t}' is a required option`);return e},Fp=(e,t)=>(bp(dp(e),e,t,"a string"),e),qp=e=>(t,n)=>(bp(e.test(t),t,n,`does not match the ${e.toString()}`),t);const $p=e=>e;$p.default=function(e){return pp(this,Cp(e))},$p.required=function(){return pp(this,Gp)},$p.deprecated=function(e){return pp(this,kp(e))};const Wp=function(){return fp(this,Lp)},Bp=function(e){return fp(this,Tp("an integer",e))},Hp=function(e){return fp(this,Tp("a number",e))},Qp=function(e){return fp(this,Ip("a number",e))},Jp=function(){return fp(this,Mp,{minimum:Bp})},Kp=function(){return fp(this,Ap("a non-empty string"))},Xp=function(){return fp(this,Ap("a non-empty array"))},Yp=function(){return fp(this,Ap("a non-empty object"))},Zp=function(){return fp(this,zp)},ef=function(e){return fp(this,qp(e))},tf=function(){return fp(this,Op())},nf=function(){return fp(this,Rp())},of=function(e,t){return pp(this,_p(e,t))},rf=function(){return this},af=function(e){return fp(this,wp(e),{nonEmpty:Xp,uniqueItems:nf})},sf=function(){return fp(this,vp)},lf=function(){return fp(this,yp)},cf=function(e){return fp(this,Pp(e))},df=function(){return fp(this,Vp,{minimum:Hp,maximum:Qp,integer:Jp,unique:tf})},uf=function(e){return fp(this,Ep(e),{nonEmpty:Yp})},gf=e=>({noUnknownFields:function(){return fp(this,Dp(e))},nonEmpty:Yp,concat:function(t){const n={...e,...t.schema};return fp(this,t,gf(n))},renamed:function(e,t,n){return hp(this,xp(e,t,n))},schema:e}),mf=function(e){return fp(this,Sp(e),gf(e))},pf=function(){return fp(this,Fp,{regexp:Zp,domain:Wp,nonEmpty:Kp,unique:tf,matches:ef})},ff=of.bind($p);rf.bind($p);const hf=af.bind($p),bf=sf.bind($p);lf.bind($p);const vf=cf.bind($p);df.bind($p);const yf=uf.bind($p),_f=mf.bind($p),wf=pf.bind($p);yf(hf(_f({authenticatedState:function(...e){return ff(e.map(vf),`one of these values: ${JSON.stringify(e)}`)}("ambiguous","authenticated","loggedOut"),id:wf(),namespace:_f({code:wf()}).noUnknownFields(),primary:bf(),xid:wf()}).noUnknownFields()).required()),_f({});t.components=[Wm.activityCollector,Wm.audiences,Wm.consent,Wm.eventMerge,Wm.mediaAnalyticsBridge,Wm.personalization,Wm.rulesEngine,Wm.streamingMedia]}},"adobe-alloy/dist/lib/instanceManager/createInstanceManager.js":{script:function(e){"use strict";e.exports=({turbine:e,window:t,createCustomInstance:n,components:o,createEventMergeId:r,orgId:i,wrapOnBeforeEventSend:a,getConfigOverrides:s})=>{const{instances:l}=e.getExtensionSettings(),c={},d={};return t.__alloyMonitors=t.__alloyMonitors||[],t.__alloyMonitors.push({onInstanceCreated:(...e)=>{d.onInstanceCreated||=[],d.onInstanceCreated.push(e)},onInstanceConfigured:(...e)=>{d.onInstanceConfigured||=[],d.onInstanceConfigured.push(e)},onBeforeCommand(...e){const{commandName:t}=e[0];"configure"===t&&(d.onBeforeCommand||=[],d.onBeforeCommand.push(e))}}),l.forEach((({name:r,edgeConfigId:l,stagingEdgeConfigId:d,developmentEdgeConfigId:u,onBeforeEventSend:g,...m})=>{const p=n({name:r,components:o});t[r]=p,t.__alloyNS||(t.__alloyNS=[]),t.__alloyNS.push(r),c[r]=p;const f=e.environment&&e.environment.stage,h="development"===f&&u||"staging"===f&&d||l;m.edgeConfigOverrides=s(m),p("configure",{...m,datastreamId:h,debugEnabled:e.debugEnabled,orgId:m.orgId||i,onBeforeEventSend:a(g)}),e.onDebugChanged((e=>{p("setDebug",{enabled:e})}))})),{getInstance:e=>c[e],createEventMergeId:()=>r(),addMonitor(e){t.__alloyMonitors.push(e),Object.keys(d).forEach((t=>{e[t]&&d[t].forEach((n=>{e[t](...n)}))}))}}}}},"adobe-alloy/dist/lib/instanceManager/injectWrapOnBeforeEventSend.js":{script:function(e){"use strict";e.exports=({version:e})=>t=>n=>{if(n.xdm.implementationDetails.name=`${n.xdm.implementationDetails.name}/reactor`,n.xdm.implementationDetails.version=`${n.xdm.implementationDetails.version}+${e}`,t)return t(n)}}},"adobe-alloy/dist/lib/createEventMergeIdCache.js":{script:function(e){"use strict";e.exports=()=>{const e={};return{set(t,n){e[t]=n},getByCacheId:t=>e[t],clearByEventMergeId(t){Object.keys(e).forEach((n=>{e[n]===t&&delete e[n]}))}}}}},"adobe-alloy/dist/lib/createSendEventCallbackStorage.js":{script:function(e){"use strict";e.exports=()=>{const e=[];return{add(t){e.push(t)},triggerEvent(t){e.forEach((e=>{e(t)}))}}}}},"adobe-alloy/dist/lib/createMediaCollectionSessionStorage.js":{script:function(e){"use strict";e.exports=()=>{const e={};return{add({playerId:t,sessionDetails:n}){if(e[t])throw new Error(`Player Id ${t} already exists`);e[t]=n},remove({playerId:t}){e[t]=void 0},get:({playerId:t})=>e[t]}}}},"adobe-alloy/dist/lib/createVariableStore.js":{script:function(e){"use strict";e.exports=()=>({})}}}}},company:{orgId:"AA7A3BC75245B3BC0A490D4D@AdobeOrg",dynamicCdnEnabled:!1},property:{name:"truist com",settings:{domains:["truist.com"],undefinedVarsReturnEmpty:!1,ruleComponentSequencingEnabled:!0},id:"PR9d16d0de58d24b3387413dba29015836"},rules:[{id:"RL00268d71fceb4df19111aa66e90a5b3f",name:"3PT - Taboola",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:90}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%zGlobal_etp_total_optout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/31ef7ee1e16e/RC8252bb09d8584107923e844d15811ff7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL00b85a36aeee441ab8f963510e906add",name:"AT - 00 - PT03 - Target Frequency Cap",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:3}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=(new Date).getTime(),t=JSON.parse(localStorage.getItem("at_activities")||"{}");if(_satellite.logger.info("PT frequency cap at_activities",localStorage.getItem("at_activities"),t),_satellite.logger.info("Object.keys(activities)",Object.keys(t)),Object.keys(t).length)for(var n in t){if((i=t[n]).stamps&&(t[n].c_s=i.stamps,delete t[n].stamps),void 0===i.c_s)break;_satellite.logger.info("activities[activity_key].c_s",i.c_s);for(var o=i.c_s.length;o--;)if(i.c_s[o]<=e){t[n].c_s=i.c_s.slice(o+1);break}i.c_s.length||delete t[n]}var r=[];for(var n in t){var i=t[n];_satellite.logger.info("activities[activity_key].c_s",i.c_s),i.c_s&&i.c_s.length>=i.f_c&&r.push(n)}localStorage.setItem("at_activities",JSON.stringify(t)),_satellite.logger.info("PT frequency cap profile.impressionCounters",r);var a=_satellite.getVar("zSite_AT_alloyConfig").getTargetUtilVars()[16]||"target_mbox_parameters",s=_satellite.getVar(a)||{};return s["profile.impressionCounters"]=r.join(""),_satellite.setVar(a,s),!0}},timeout:2e3}],actions:[]},{id:"RL04fa6b0c8f284d3983812a5124274ba7",name:"zGlobal - AT - 00 - DC - Target initPropositions",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"initPropositions"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.getVar("zGlobal_alloyTargetUtil").initPropositions()}},timeout:2e3}],actions:[]},{id:"RL08e4d483f23a42e3bafdb1515b617db0",name:"AT - 00 - PT01 - Target prehiding - Business Checking",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/small-business"},{value:"/small-business/banking/checking"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e="#main-grid .herobanner";return _satellite.getVar("zGlobal_alloyPrehideUtil").addPageLoadSelector(e),!0}},timeout:2e3}],actions:[]},{id:"RL0dd7881e89ae4ea6b279f7d83b2823de",name:"3PT - Library Load - No ETP Optout Check",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try {\n  (function(a,b,c,d,e,f,g){e['ire_o']=c;e[c]=e[c]||function(){(e[c].a=e[c].a||[]).push(arguments)};f=d.createElement(b);g=d.getElementsByTagName(b)[0];f.async=1;f.src=a;g.parentNode.insertBefore(f,g);})('https://utt.impactcdn.com/A3564261-29e2-47f0-8c6a-f11131f39e5e1.js','script','ire',document,window); \n} catch(e){\n  _satellite.logger.log('error loading Impact UTT script' + e);\n}",language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL128be7b9a5ba4c27b321c683feaef4d6",name:"01 - DOM Ready - all link decoration",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"trackState"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return $("a").each((function(e,t){var n=$(t).attr("href");if(n&&n.length>0){if(/.*(zip|doc|docx|xls|xlsx|pdf|mp3)/.test(n)&&($(t).attr("data-wa-track-clk","1"),$(t).attr("data-wa-linktype","download")),/^https?:\/\/|^\/\//i.test(n)&&new URL(n).hostname&&!/\.truist\.com/.test(new URL(n).hostname)&&_satellite.getVar("zGlobal_truist_domains").indexOf(new URL(n).hostname.replace(/((?:http[s]*\:\/\/)*(.*?)(\.)|((?:http[s]*\:\/\/)(?:http[s]*\:\/\/)*))(?=[^\/]*\..{2,5})/,""))<0){var o=new URL(n).hostname.replace(/((?:http[s]*\:\/\/)*(.*?)(\.)|((?:http[s]*\:\/\/)(?:http[s]*\:\/\/)*))(?=[^\/]*\..{2,5})/,"");$(t).attr("data-wa-linktype","exit"),$(t).attr("data-wa-track-clk","1"),_satellite.getVar("zGlobal_social_domains").indexOf(o)>-1&&($(t).attr("data-wa-track-clk","1"),$(t).attr("data-wa-linkType","social"))}/tel:|mailto:/.test(n)&&$(t).attr("data-wa-track-clk","1"),"Get it on Google Play"===$(t).find("img").attr("alt")&&($(t).attr("data-wa-track-clk","1"),$(t).attr("data-wa-linkType","exit"),$(t).attr("data-wa-linkname","google_download")),
"Available on the App Store"===$(t).find("img").attr("alt")&&($(t).attr("data-wa-track-clk","1"),$(t).attr("data-wa-linkType","exit"),$(t).attr("data-wa-linkname","apple_download"))}})),!0}},timeout:2e3}],actions:[]},{id:"RL1967ab8e503d412f8c1fc00969625f09",name:"zGlobal - AT - 01 - DC - handlePrefetchPropositions",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"handlePrefetchPropositions"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return _satellite.getVar("zGlobal_alloyTargetUtil").handlePrefetchPropositions(e.detail)}},timeout:2e3}],actions:[]},{id:"RL19bece181f12437dafdf5f8d6a72c49a",name:"zGlobal - AT - 01 - DC - handleAwaitTriggerProposition",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"handleAwaitTriggerProposition"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return _satellite.getVar("zGlobal_alloyTargetUtil").handleAwaitTriggerProposition(e.detail)}},timeout:2e3}],actions:[]},{id:"RL1abae1208c194fbea93227bfc2f1aa3b",name:"zGlobal - AT - 02 - DC - Analytics_Post - 80 - Target follower",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Analytics_Post"},ruleOrder:80}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return!!(e.detail&&e.detail.waData&&e.detail.waData.targetClk)&&(_satellite.logger.info("02 - DC - Analytics_Post - target follower: targetClk found, telling Target..."),!0)}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=_satellite.getVar("zGlobal_alloyTargetUtil"),n=(e.detail.triggerEvent||{}).element;return t.trackPropositionClick(n,e.detail.waData)}},timeout:2e3}],actions:[]},{id:"RL1ba43bbd58444d9681fef18d84d28c90",name:"3PT - Acoustic",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:90}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%zGlobal_etp_total_optout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/31ef7ee1e16e/RC692051fe9f6f4be087dded826b135ec0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1d2563f415d340cba23a7da38076c998",name:"3PT - Facebook",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:90}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%zGlobal_etp_total_optout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/31ef7ee1e16e/RC8460ecbf00a3485aa832ce650a7227c3-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL1d4a0e4d1f16486ba5325daf112c37d2",name:"AT - 00 - PT01 - Target prehiding - Homepage",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e="#main-hero-login > DIV:nth-of-type(1)",t="#gridLayout-1516948026 > DIV:nth-of-type(1) > DIV:nth-of-type(1)";return _satellite.getVar("zGlobal_alloyPrehideUtil").addPageLoadSelector(e+","+t),!0}},timeout:2e3}],actions:[]},{id:"RL22c42fc98f1949b8bcdb8b0f69b96806",name:"zGlobal - 01 - onLoad 80 - id_sync - 3rd Party ID Sync",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:80}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%zGlobal_etp_total_optout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"sync_off"!==_satellite.getVar("zSite_config").aepSyncOverride&&(sessionStorage.getItem("aepidsync")?(_satellite.logger.info("AEP ID Sync: sessionStorage found, not executing."),!1):(_satellite.logger.info("AEP ID Sync: conditions completed.  executing..."),!0))}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/31ef7ee1e16e/RC1733b9301bf64e448316941d582d568e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL25983ac5e0584d7a8b5625ed07377fc8",name:"3PT - LinkedIn",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:90}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%zGlobal_etp_total_optout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/31ef7ee1e16e/RCf14eecdcf4f14aa395dcabc3b1540ac0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2616dc876a714db1b382b27276f8b8b6",name:"zGlobal - 01 - DC - trackAction",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"trackAction"},ruleOrder:40}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=window.digitalDataWA;return t=window.digitalDataWAUtils.cloneAssign(t,e.detail.cData),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return _satellite.getVar("zGlobal_AA_Global_Processing").go("web.webinteraction.linkClicks",e),!0}},timeout:2e3}],actions:[]},{id:"RL2b8b9e5010a24d269efe6ef56cf20325",name:"3PT - Bing",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:90}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%zGlobal_etp_total_optout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/31ef7ee1e16e/RCe54181bf9d8843d5a48625ed35577473-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL31d68432f291490c9136fcf4e1f32e6b",name:"01- CLK - contact form submit",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:" [data-form-submit]",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(window.location.href.indexOf("wealth")>-1)return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/31ef7ee1e16e/RCa4c6a6073cde4b64945879f1078cab63-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL359637b57b5e44a6ab0f63c2444cc5b9",name:"zGlobal - AT - 01 - DC - handleMarTechPropositions",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"handleMarTechPropositions"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return _satellite.getVar("zGlobal_alloyTargetUtil").handleMarTechPropositions(e.detail)}},timeout:2e3}],actions:[]},{id:"RL37d56fc33b514a82ae5604b7517e7269",name:"AT - 00 - PT01 - Target prehiding - Loans",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/loans"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e="#main-grid .herobanner",t="#gridLayout-541292123";return _satellite.getVar("zGlobal_alloyPrehideUtil").addPageLoadSelector(e+","+t),!0}},timeout:2e3}],actions:[]},{id:"RL386264c5c23d4b0e8c8bad576ab3fbb7",name:"01- CLK -  newsletter -money and mindset",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:" [data-form-submit]",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(window.location.href.indexOf("money-mindset")>-1)return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/31ef7ee1e16e/RC025c8869158e446fba915deffe6ec949-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL401e166a7be14ccda91d8debbb85db63",name:"3PT - The Trade Desk - Base Pixel",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:90}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%zGlobal_etp_total_optout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/31ef7ee1e16e/RC09ca20850ee24aa1ac5762a8afb203f5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4610fd0f988849569c5e8731c067a406",name:"zGlobal - AT - 01 - DC - propositionImpressionData",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"propositionImpressionData"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=e.detail||{};if(_satellite.logger.log("propositionImpressionData event_detail",t),t.target_parameters){var n=_satellite.getVar("zSite_AT_alloyConfig"),o=n.getTargetProperty(),r={edgeConfigOverrides:function(){var e={com_adobe_experience_platform:{datasets:{event:{datasetId:n.getTargetDatasetId()}}}};return o&&(e.com_adobe_target={propertyToken:o}),e}(),renderDecisions:!1,decisionScopes:["proposition_impression_data"],documentUnloading:!0,data:{__adobe:{target:t.target_parameters}}};_satellite.logger.log("propositionImpressionData event_data",r),window.alloy("sendEvent",r),_satellite.logger.log("propositionImpressionData sendEvent")}return!0}},timeout:2e3}],actions:[]},{id:"RL4a05b4bf748548749f5c91b66afe7551",name:"zGlobal - AT - 00 - PT50 - Target initPropositions",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return alloyTargetUtil=_satellite.getVar("zGlobal_alloyTargetUtil"),alloyTargetUtil.initPropositions()}},timeout:2e3}],actions:[]},{id:"RL4b1c118817994a63b003716baa26e9e6",name:"3PT - Twitter",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:90}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%zGlobal_etp_total_optout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/31ef7ee1e16e/RC082204b99e8246b5b6217307462b8408-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4be4b8e1ed214b9c9d490aa2c123f4d4",name:"zGlobal -  02 - DC - GenericDC",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"genericDC"},ruleOrder:40}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=_satellite.getVar("zGlobal_AA_Global_Processing");let n="";return e.detail?e.detail.temp&&e.detail.temp.eventType||e.detail.eventType?(n=e.detail.eventType||e.detail.temp.eventType,t.go(n,e,e.detail),!0):(t.go("web.webinteraction.linkClicks",e,e.detail),!0):(t.go("web.webinteraction.linkClicks",e),!0)}},timeout:2e3}],actions:[]},{id:"RL4d576bfd9a3c44cf9e054fae5f29f02c",name:"3PT - Eloqua",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:90}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%zGlobal_etp_total_optout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/31ef7ee1e16e/RC336a9207726b4f99848d60208806787a-source.min.js",language:"html",isExternal:!0}}]},{id:"RL4ee20a08b25a4b3da695c9b39c731b3d",name:"zGlobal - 00 - PT91 - AlloyVersion",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:91}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return alloy("getLibraryInfo").then((function(e){_satellite.setVar("alloyVersion",e.libraryInfo.version)}))}},timeout:2e3}],actions:[]},{id:"RL517b46718f6b4497b8a8149e5d699499",name:"zGlobal - 3PT - DOM R - Interaction Listeners",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=_satellite.getVar("3pt_matrix_interaction");return!(!e||"object"!=typeof e||!Object.keys(e.length>0))}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%zGlobal_etp_total_optout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/31ef7ee1e16e/RC1a76f33bd48b41ea8fc99c2f46562722-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL555a669f379f48c18ac7acd892a9b993",name:"zGlobal - 01 - Element Exists - HTML Video Tracking",events:[{modulePath:"core/src/lib/events/elementExists.js",settings:{elementSelector:"video"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/31ef7ee1e16e/RC83b2f62bf6c04c1e84b85e6cb6617aa2-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL5a481e62f19e45aeb95400bbbbdfcde1",name:"zGlobal - 00 - PT20 - AT Frequency Cap Tracking",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:20}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=JSON.parse(localStorage.getItem("at_activities")||"{}");if(!e)return!1;_satellite.logger.info("targetFrequencyCounters && targetFrequencyCapped START",e);var t=[],n=[];for(var o in window.digitalDataWA=window.digitalDataWA||{},e){var r=e[o],i=o.slice(1);_satellite.logger.info("activities[activity_key].c_s",r.c_s),t.push(i+":"+r.c_s.length),r.c_s&&r.c_s.length>=r.f_c&&n.push(i)}return _satellite.logger.info("at_frequency_counters",t),_satellite.logger.info("at_frequency_capped",n),window.digitalDataWA.targetFrequencyCounters=t.join(","),window.digitalDataWA.targetFrequencyCapped=n.join(","),_satellite.logger.info("targetFrequencyCounters && targetFrequencyCapped END"),!0}},timeout:2e3}],actions:[]},{id:"RL5fcb4c96dbec4acc974ac022caa5d8b2",name:"01 - CLK - accordion click",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".accordion div.border-container button[aria-expanded='false']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.logger.info("01 - CLK - data-wa-track-clk=1: getting link data..."),_satellite.getVar("zGlobal_util_getWAData").getLinkData(this),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=this.textContent;return(e=(e=(e=(e=(e=e.toLowerCase()).replace("&amp;","&")).replace("&","&")).replace(/^(?:\W|_)+|(?:\W|_)+$/g,"")).replace(/[^:|\-\.\w]+/g,"_")).search("transcript")<0&&(window.digitalDataWA.temp.linkType="interaction",window.digitalDataWA.temp.linkPosition="accordion",window.digitalDataWA.temp.linkURL="",console.log("inside new Rule"),!0)}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return _satellite.getVar("zGlobal_AA_Global_Processing").go("web.webinteraction.linkClicks",e),!0}},timeout:2e3}],actions:[]},{id:"RL6484ac9e02b54e4e84298607f3394b9b",name:"3PF - Window Loaded - Twitter (Global) - Add ALT Tags after load",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:100}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/31ef7ee1e16e/RCb5b38dc7104344d7a83bcaea98dfbda6-source.min.js",language:"javascript",isExternal:!0},timeout:2e4,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/31ef7ee1e16e/RC5e6ffa8b1d064de9b0fedb2771ba74b2-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL64aee84e9b334e87b3c6579f24516068",name:"01 - DOM Loaded - OneTrust ADA attributes",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){document.querySelectorAll(".ot-switch-nob").forEach((function(e){e.setAttribute("aria-label","toggle")}));var e=document.getElementById("vendor-search-handler");return e&&e.setAttribute("title","vendor search handler"),!0}},timeout:2e3}],actions:[]},{id:"RL655dff9dbc5b444a9b1ed8918713424f",name:"zGlobal - 00 - PT99 - AdobeLaunchInitialized",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:99}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return window.dispatchEvent?(_satellite.logger.info("00 - AdobeLaunchInitialized: sending CustomEvent..."),window.dispatchEvent(new CustomEvent("AdobeLaunchInitialized"))):_satellite.logger.warn("00 - AdobeLaunchInitialized: window.dispatchEvent function not available"),!0}},timeout:2e3}],actions:[]},{id:"RL680ef3833aa442669eb2cc45a4ee1206",name:"AT - 02 - DC - Analytics_Post - 79 - Target Hero-Login linkPosition override",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Analytics_Post"},ruleOrder:79}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=e.detail||{},n=(t.triggerEvent||{}).element,o=t.waData||{};return!!(o.targetClk&&o.linkPage&&("truist|com|home"===o.linkPage||"truist|com|logoff"===o.linkPage)&&o.linkPosition&&o.linkPosition.indexOf("|hero_banner")>0&&n)&&(_satellite.logger.info("02 - DC - Analytics_Post - target follower: correcting hero_banner link position"),t.triggerEvent.element.setAttribute("data-at-linkposition","hero_banner"),!0)}},timeout:2e3}],actions:[]},{id:"RL6b63566049904b999a45ce08ae1574fc",name:"AT - 00 - PT01 - Target prehiding - Credit Cards",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/credit-cards"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e="#main-grid .herobanner";return _satellite.getVar("zGlobal_alloyPrehideUtil").addPageLoadSelector(e),!0}},timeout:2e3}],actions:[]},{id:"RL6d164ecce04343bea4b642ba34afa5d9",name:"zGlobal - 01 - FIELD - data-wa-track-field=1",events:[{modulePath:"core/src/lib/events/focus.js",settings:{elementSelector:"[data-wa-track-field='1']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:11}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.logger.info("zGlobal - 01 - FIELD - data-wa-track-field=1: getting fieldname data..."),_satellite.getVar("zGlobal_util_getWAData").getFieldData(this),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return _satellite.getVar("zGlobal_AA_Global_Processing").go("web.webinteraction.linkClicks",e),!0}},timeout:2e3}],actions:[]},{id:"RL6dd7b0b396ae4f9cab996b956429d20c",name:"AT - 00 - PT01 - Target prehiding - Savings",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/savings"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e="#main-grid .herobanner",t=".splide__list";return _satellite.getVar("zGlobal_alloyPrehideUtil").addPageLoadSelector(e+","+t),!0}},timeout:2e3}],actions:[]},{id:"RL6f4a3cc408234a9eb9daae7947892b76",name:"zGlobal - 01 - CLK - onetrust overlay interactions",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#onetrust-pc-sdk button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:10},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#onetrust-pc-sdk a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#onetrust-pc-sdk input",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.logger.info("01 - CLK - data-wa-track-clk=1: getting link data..."),_satellite.getVar("zGlobal_util_getWAData").getLinkData(this),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=window.digitalDataWA,t=window.digitalDataWAUtils;e.temp.linkPosition="onetrust_overlay","INPUT"==this.nodeName&&(e.temp.linkName=this.getAttribute("name"));var n=this.getAttribute("aria-label");return"unknown"===e.temp.linkName&&n&&(e.temp.linkName=n),e.temp.linkName=t.cleanText(e.temp.linkName),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return _satellite.getVar("zGlobal_AA_Global_Processing").go("web.webinteraction.linkClicks",e),!0}},timeout:2e3}],actions:[]},{id:"RL720fc6e895ec477c907931a054378ae7",name:"3PT - Work With Us - Custom Form Submit - Gtag",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".btn-primary.submit",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/wealth/work-with-us/specialized-expertise/medical"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%zGlobal_etp_total_optout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(window.threePTFiredCount=window.threePTFiredCount||0,0===$(".invalid").length&&(0===$("[aria-errormessage]").length||1===$("[aria-errormessage]").length&&"TEXTAREA"===$("[aria-errormessage]")[0].nodeName&&0===window.threePTFiredCount))return window.threePTFiredCount+=1,!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/31ef7ee1e16e/RC3108bc9a29514a3a8c121b3ea79e8a9c-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL75bda2ad05744e638ef501b3315d4ffa",name:"zGlobal - AT - 00 - PT06 - Target prehiding",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:6}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.getVar("zGlobal_alloyPrehideUtil").executePageLoadPrehide(),!0}},timeout:2e3}],actions:[]},{id:"RL78bdc54353894ce9a470e852566c5180",name:"AT - 00 - PT01 - Target prehiding - Personal Loans",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/loans/personal-loans"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e="#main-grid > div > div > div > div:nth-child(7) > div:nth-child(1) > div > div > div:nth-child(1) > div > div:nth-child(2) > div:nth-child(1) > div";return _satellite.getVar("zGlobal_alloyPrehideUtil").addPageLoadSelector(e),!0}},timeout:2e3}],actions:[]},{id:"RL7c9b85ba0acf4da48d21df94aae91b64",name:"3PT - Pinterest",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:90}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%zGlobal_etp_total_optout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/31ef7ee1e16e/RC8f219503434045968fe9f582cf7f7d72-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7f407907df4b49d09472a8beb81e45c7",name:"3PF - Qualtrics",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:90}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/31ef7ee1e16e/RC3f0d743d48944b64a09ad3104cfad869-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7f713129c8ba4c33abc44cea22f106a6",name:"zGlobal - 01 - Analytics cachebuster",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"trackState"},ruleOrder:5}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return window.digitalDataWA={},!0}},timeout:2e3}],actions:[]},{id:"RL800102992d3d4e409115d48ba6fff88a",name:"zGlobal - 00 - PT05 - DC getECID / trackState -30",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:2},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"getECID"},ruleOrder:30},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"trackState"},ruleOrder:30}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.getVar("zGlobal_ecid"),!0}},timeout:2e3}],actions:[]},{id:"RL89272b0fcc664a78a92db429f7d51be8",name:"zGlobal - 01 - CLK - data-wa-track-clk=1",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"[data-wa-track-clk='1']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.logger.info("01 - CLK - data-wa-track-clk=1: getting link data..."),_satellite.getVar("zGlobal_util_getWAData").getLinkData(this),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return _satellite.getVar("zGlobal_AA_Global_Processing").go("web.webinteraction.linkClicks",e),!0}},timeout:2e3}],actions:[]},{id:"RL8f99dd374034495bb958f35e701ac280",name:"zGlobal - AT - 01 - DOM Ready - handlePropositionsAwaitingJQuery",events:[{modulePath:"core/src/lib/events/elementExists.js",settings:{elementSelector:"script[src*='/jquery.min']"},ruleOrder:50},{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return _satellite.getVar("zGlobal_alloyTargetUtil").handlePropositionsAwaitingJQuery(e.detail)}},timeout:2e3}],actions:[]},{id:"RL94630775498e4868a222d11011a61ca9",name:"3PT - Tik Tok",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:90}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%zGlobal_etp_total_optout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/31ef7ee1e16e/RC58ff6e06798d49cfbf7d45dc7e1ced57-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL9889741a12ec4a82ac3e6e4378caa9c4",name:"01 - CLK - drop down click",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:"#cv-help-go-btn",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.logger.info("01 - CLK - data-wa-track-clk=1: getting link data..."),_satellite.getVar("zGlobal_util_getWAData").getLinkData(this),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=$("#cv-help-center-menu option:selected").text().toLowerCase().replace(/\s+/g,"_"),t=$("#cv-help-center-menu option:selected").val();if(e.search("select_one")<0){var n=e;window.digitalDataWA.temp.linkType="navigation",window.digitalDataWA.temp.linkPosition="dropdown",window.digitalDataWA.temp.linkName=n,window.digitalDataWA.temp.linkURL=t}return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return _satellite.getVar("zGlobal_AA_Global_Processing").go("web.webinteraction.linkClicks",e),!0}},timeout:2e3}],actions:[]},{id:"RL9c57433141314286842f9e744276cf3f",name:"01 - CLK - specialties click",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".specialties div.specialites-item div[aria-expanded='false']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.logger.info("01 - CLK - data-wa-track-clk=1: getting link data..."),_satellite.getVar("zGlobal_util_getWAData").getLinkData(this),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=this.textContent;return(e=(e=(e=(e=(e=e.toLowerCase()).replace("&amp;","&")).replace("&","&")).replace(/^(?:\W|_)+|(?:\W|_)+$/g,"")).replace(/[^:|\-\.\w]+/g,"_")).search("transcript")<0&&(window.digitalDataWA.temp.linkType="interaction",window.digitalDataWA.temp.linkPosition="specialities",window.digitalDataWA.temp.linkURL="",console.log("inside new Rule"),!0)}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return _satellite.getVar("zGlobal_AA_Global_Processing").go("web.webinteraction.linkClicks",e),!0}},timeout:2e3}],actions:[]},{id:"RLa0163e577c08463fa6b9f7ea6002c90f",name:"zGlobal - AT - 01 - DC - handleRenderedPropositions",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"handleRenderedPropositions"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return _satellite.getVar("zGlobal_alloyTargetUtil").handleRenderedPropositions(e.detail)}},timeout:2e3}],actions:[]},{id:"RLa15cf20514584f3c9540b61de38f1b65",name:"3PT - DOM Ready - LOB section floodlight_2 Tags",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:99}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%zGlobal_etp_total_optout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"^/wealth",valueIsRegex:!0},{value:"^/checking",valueIsRegex:!0},{value:"^/small-business",valueIsRegex:!0},{value:"^/resources/small-business",valueIsRegex:!0},{value:"/commercial-corporate-institutional/business-insights",valueIsRegex:!1},{value:"/commercial-corporate-institutional/banking",valueIsRegex:!1},{value:"/commercial-corporate-institutional/investment-banking"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=_satellite.getVar("zGlobal_3PT_utils"),n={},o=window.location.pathname;return o.startsWith("/wealth")?(n.floodlight_2={type:"lobad0",cat:"truis0",cache_bust:"off",u1:"",u2:document.location.pathname},_satellite.logger.log("about to fire wealth section floodlight tags")):o.startsWith("/checking")?(n.floodlight_2={type:"lobad0",cat:"truis00",cache_bust:"off",u1:"",u2:document.location.pathname},_satellite.logger.log("about to fire checking section floodlight tags")):o.startsWith("/small-business")||o.startsWith("/resources/small-business")?(n.floodlight_2={type:"lobad0",cat:"truis002",cache_bust:"off",u1:"",u2:document.location.pathname},_satellite.logger.log("about to fire small-business section floodlight tags")):"/commercial-corporate-institutional/business-insights"===o||"/commercial-corporate-institutional/investment-banking"===o?(n.floodlight_2={type:"unive0",cat:"truis0",cache_bust:"off",u1:"",u2:document.location.pathname},_satellite.logger.log("about to fire commercial-corporate-institutional floodlight tag")):"/commercial-corporate-institutional/banking"===o&&(n.floodlight_2={type:"lobad0",cat:"truis003",cache_bust:"off",u1:"",u2:document.location.pathname},
_satellite.logger.log("about to fire commercial-corporate-institutional/banking floodlight tag")),t.execute3PT(n,e),!0}},timeout:2e3}],actions:[]},{id:"RLa1ffa72006fb4319b90424372ddedd4e",name:"AT - 01 - DC - propositionImpressionData - 25 - Target Frequency Cap",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"propositionImpressionData"},ruleOrder:25}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=(new Date).getTime(),n=JSON.parse(localStorage.getItem("at_activities")||"{}");if(e.detail&&e.detail.target_parameters&&e.detail.target_parameters.activity_impression_counter){var o=e.detail.target_parameters.activity_impression_counter.split(","),r="_"+o[0],i=o[1],a=t;"visit"===i?a+=18e5:parseInt(i)>0&&(a+=864e5*parseInt(i)),n[r]=n[r]||{},n[r].f_c=parseInt(o[2]),n[r].stamps&&(n[r].c_s=n[r].stamps,delete n[r].stamps),n[r].c_s=n[r].c_s||[],n[r].c_s.length>=n[r].f_c&&n[r].c_s.shift();for(var s=n[r].c_s.length;s--;)if(n[r].c_s[s]<=t){n[r].c_s=n[r].c_s.slice(s+1);break}n[r].c_s.push(a);var l=[];for(var r in n){var c=n[r];_satellite.logger.info("activities[activity_key].c_s",c.c_s),c.c_s&&c.c_s.length>=c.f_c&&l.push(r)}return localStorage.setItem("at_activities",JSON.stringify(n)),l.join(""),e.detail.target_parameters["profile.impressionCounters"]=l.join(""),_satellite.logger.info("DC frequency cap profile.impressionCounters",l),!0}return!1}},timeout:2e3}],actions:[]},{id:"RLaaf113cad06b4b359a64471abaf6d3e7",name:"zGlobal - AT - 01 - DC - handlePropositions",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"handlePropositions"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return _satellite.getVar("zGlobal_alloyTargetUtil").handlePropositions(e.detail)}},timeout:2e3}],actions:[]},{id:"RLab8201e8623e415daef7bef3fd82c763",name:"AT - 00 - PT01 - Target prehiding - Business L2F",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/small-business"},{value:"/small-business/banking/checking"},{value:"/small-business/banking/savings-account"},{value:"/small-business/online-banking"},{value:"/small-business/credit-cards"},{value:"/small-business/loans"},{value:"/small-business/merchant-services"},{value:"/small-business/employee-benefits"},{value:"/small-business/insurance"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e="#main-grid";return _satellite.getVar("zGlobal_alloyPrehideUtil").addPageLoadSelector(e),!0}},timeout:2e3}],actions:[]},{id:"RLb0615c6bd0744929b4b8e867bf46b244",name:"AT - 00 - PT01 - Target prehiding - Logoff",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/logoff"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e="#main-grid .herobanner, #main-hero-login > .hero-login-left-container";return _satellite.getVar("zGlobal_alloyPrehideUtil").addPageLoadSelector(e),!0}},timeout:2e3}],actions:[]},{id:"RLb129d95203434b70bdb965d1e0cf13ec",name:"AT - 00 - PT03 - Target Visit Completes",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:3}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=(new Date).getTime(),t=JSON.parse(localStorage.getItem("at_activities")||"{}");_satellite.logger.info("PT experience visit completes at_activities",localStorage.getItem("at_activities"));var n=[];if(Object.keys(t).length)for(var o in t){var r=t[o],i=r.e_s;if(void 0!==i&&i<=e){n.push(o+"_null"),delete t[o];break}var a=r.m_s;r.m_t;a&&a<e?n.push(o+"_"+r.exp):r.m_t&&"visit"===r.m_t&&(t[o].m_s=e+18e5)}if(localStorage.setItem("at_activities",JSON.stringify(t)),_satellite.logger.info("PT frequency cap profile.experienceVisitCompletes",n),0===n.length)return!0;var s=_satellite.getVar("zSite_AT_alloyConfig").getTargetUtilVars()[16]||"target_mbox_parameters",l=_satellite.getVar(s)||{};return l["profile.experienceVisitCompletes"]=n.join(""),_satellite.setVar(s,l),!0}},timeout:2e3}],actions:[]},{id:"RLb8e7863059d04bdbacec63bd398fa7bb",name:"01 - DOM R - PageView (custom)",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=window.location.pathname,t=e.substr(e.lastIndexOf("/")+1);return t&&(t=t.replace(/(\.|\?).*/,"")),!t||!(t.indexOf("find-an-advisor")>-1||t.indexOf("finder")>-1)}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=window.location.pathname;return!e.endsWith("/locations")&&0!==e.indexOf("/branch")&&0!==e.indexOf("/atm")&&0!==e.indexOf("/search")}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(window.glbPageData){_satellite.logger.info("glbPageData is available -> copying to digitalDataWA cache..."),window.digitalDataWA=window.digitalDataWA||{},window.digitalDataWAUtils=window.digitalDataWAUtils||_satellite.getVar("zGlobal_utils");var e=window.digitalDataWAUtils;window.digitalDataWA=e.cloneAssign(window.digitalDataWA,window.glbPageData),_satellite.logger.info("glbPageData cloneAssign to digitalDataWA cache completed.")}return!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return _satellite.getVar("zGlobal_AA_Global_Processing").go("web.webpagedetails.pageViews",e),!0}},timeout:2e3}],actions:[]},{id:"RLb9836e67728146338ff6535770fdbe5b",name:"AT - 00 - PT01 - Target prehiding - Checking",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/checking/truist-one-banking"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e="#main-grid > DIV.aem-Grid:nth-child(1) > DIV.responsivegrid:nth-child(1) > DIV.aem-Grid:nth-child(1) > DIV.gridlayoutcontainer:nth-child(2)",t="#splide01-list";return _satellite.getVar("zGlobal_alloyPrehideUtil").addPageLoadSelector(e+","+t),!0}},timeout:2e3}],actions:[]},{id:"RLbaab5983e92447fdbbe524c85ef2f5f7",name:"zGlobal - AT - 01 - DC - getTargetExperiences",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"getTargetExperiences"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return _satellite.logger.info("getPropositions event",JSON.stringify(e)),e.detail=e.detail||{},_satellite.logger.info("getPropositions event.detail",e.detail),e.detail.personalization_config=!0,_satellite.getVar("zGlobal_alloyTargetUtil").initPropositions(e.detail)}},timeout:2e3}],actions:[]},{id:"RLbd3d4c63bb6d47c2a93eb0e924ccd62a",name:"zGlobal - 00 - PT01 - Polyfills",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"function"!=typeof Element.prototype.closest&&(_satellite.logger.info("Polyfill closest"),Element.prototype.closest=function(e){"function"!=typeof Element.prototype.matches&&(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1});for(var t=this;t&&t!==document;t=t.parentNode)if(t.matches(e))return t;return null}),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}if("function"==typeof window.CustomEvent)return!1;_satellite.logger.info("Polyfill CustomEvent"),e.prototype=window.Event.prototype,window.CustomEvent=e}(),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"function"!=typeof Object.assign&&(_satellite.logger.info("Polyfill Object.assign"),Object.defineProperty(Object,"assign",{value:function(e){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o)for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])}return t},writable:!0,configurable:!0})),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),n=t.length,o=new Array(n);n--;)o[n]=[t[n],e[t[n]]];return o}),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return function(e){var t=function(){try{return!!Symbol.iterator}catch(e){return!1}}(),n=function(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n},o=function(e){return encodeURIComponent(e).replace(/%20/g,"+")},r=function(e){return decodeURIComponent(String(e).replace(/\+/g," "))},i=function(){var r=function(e){Object.defineProperty(this,"_entries",{writable:!0,value:{}});var t=typeof e;if("undefined"===t);else if("string"===t)""!==e&&this._fromString(e);else if(e instanceof r){var n=this;e.forEach((function(e,t){n.append(t,e)}))}else{if(null===e||"object"!==t)throw new TypeError("Unsupported input's type for URLSearchParams");if("[object Array]"===Object.prototype.toString.call(e))for(var o=0;o<e.length;o++){var i=e[o];if("[object Array]"!==Object.prototype.toString.call(i)&&2===i.length)throw new TypeError("Expected [string, any] as entry at index "+o+" of URLSearchParams's input");this.append(i[0],i[1])}else for(var a in e)e.hasOwnProperty(a)&&this.append(a,e[a])}},i=r.prototype;i.append=function(e,t){e in this._entries?this._entries[e].push(String(t)):this._entries[e]=[String(t)]},i.delete=function(e){delete this._entries[e]},i.get=function(e){return e in this._entries?this._entries[e][0]:null},i.getAll=function(e){return e in this._entries?this._entries[e].slice(0):[]},i.has=function(e){return e in this._entries},i.set=function(e,t){this._entries[e]=[String(t)]},i.forEach=function(e,t){var n;for(var o in this._entries)if(this._entries.hasOwnProperty(o)){n=this._entries[o];for(var r=0;r<n.length;r++)e.call(t,n[r],o,this)}},i.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),n(e)},i.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),n(e)},i.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),n(e)},t&&(i[Symbol.iterator]=i.entries),i.toString=function(){var e=[];return this.forEach((function(t,n){e.push(o(n)+"="+o(t))})),e.join("&")},e.URLSearchParams=r};(function(){try{var t=e.URLSearchParams;return"a=1"===new t("?a=1").toString()&&"function"==typeof t.prototype.set&&"function"==typeof t.prototype.entries}catch(e){return!1}})()||i();var a=e.URLSearchParams.prototype;"function"!=typeof a.sort&&(a.sort=function(){var e=this,t=[];this.forEach((function(n,o){t.push([o,n]),e._entries||e.delete(o)})),t.sort((function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0})),e._entries&&(e._entries={});for(var n=0;n<t.length;n++)this.append(t[n][0],t[n][1])}),"function"!=typeof a._fromString&&Object.defineProperty(a,"_fromString",{enumerable:!1,configurable:!1,writable:!1,value:function(e){if(this._entries)this._entries={};else{var t=[];this.forEach((function(e,n){t.push(n)}));for(var n=0;n<t.length;n++)this.delete(t[n])}var o,i=(e=e.replace(/^\?/,"")).split("&");for(n=0;n<i.length;n++)o=i[n].split("="),this.append(r(o[0]),o.length>1?r(o[1]):"")}})}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this),function(e){var t=function(){var t=e.URL,n=function(t,n){"string"!=typeof t&&(t=String(t));var o,r=document;if(n&&(void 0===e.location||n!==e.location.href)){(o=(r=document.implementation.createHTMLDocument("")).createElement("base")).href=n,r.head.appendChild(o);try{if(0!==o.href.indexOf(n))throw new Error(o.href)}catch(e){throw new Error("URL unable to set base "+n+" due to "+e)}}var i=r.createElement("a");i.href=t,o&&(r.body.appendChild(i),i.href=i.href);var a=r.createElement("input");if(a.type="url",a.value=t,":"===i.protocol||!/:/.test(i.href)||!a.checkValidity()&&!n)throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:i});var s=new e.URLSearchParams(this.search),l=!0,c=!0,d=this;["append","delete","set"].forEach((function(e){var t=s[e];s[e]=function(){t.apply(s,arguments),l&&(c=!1,d.search=s.toString(),c=!0)}})),Object.defineProperty(this,"searchParams",{value:s,enumerable:!0});var u=void 0;Object.defineProperty(this,"_updateSearchParams",{enumerable:!1,configurable:!1,writable:!1,value:function(){this.search!==u&&(u=this.search,c&&(l=!1,this.searchParams._fromString(this.search),l=!0))}})},o=n.prototype,r=function(e){Object.defineProperty(o,e,{get:function(){return this._anchorElement[e]},set:function(t){this._anchorElement[e]=t},enumerable:!0})};["hash","host","hostname","port","protocol"].forEach((function(e){r(e)})),Object.defineProperty(o,"search",{get:function(){return this._anchorElement.search},set:function(e){this._anchorElement.search=e,this._updateSearchParams()},enumerable:!0}),Object.defineProperties(o,{toString:{get:function(){var e=this;return function(){return e.href}}},href:{get:function(){return this._anchorElement.href.replace(/\?$/,"")},set:function(e){this._anchorElement.href=e,this._updateSearchParams()},enumerable:!0},pathname:{get:function(){return this._anchorElement.pathname.replace(/(^\/?)/,"/")},set:function(e){this._anchorElement.pathname=e},enumerable:!0},origin:{get:function(){var e={"http:":80,"https:":443,"ftp:":21}[this._anchorElement.protocol],t=this._anchorElement.port!=e&&""!==this._anchorElement.port;return this._anchorElement.protocol+"//"+this._anchorElement.hostname+(t?":"+this._anchorElement.port:"")},enumerable:!0},password:{get:function(){return""},set:function(){},enumerable:!0},username:{get:function(){return""},set:function(){},enumerable:!0}}),n.createObjectURL=function(e){return t.createObjectURL.apply(t,arguments)},n.revokeObjectURL=function(e){return t.revokeObjectURL.apply(t,arguments)},e.URL=n};if(function(){try{var t=new e.URL("b","http://a");return t.pathname="c d","http://a/c%20d"===t.href&&t.searchParams}catch(e){return!1}}()||t(),void 0!==e.location&&!("origin"in e.location)){var n=function(){return e.location.protocol+"//"+e.location.hostname+(e.location.port?":"+e.location.port:"")};try{Object.defineProperty(e.location,"origin",{get:n,enumerable:!0})}catch(t){setInterval((function(){e.location.origin=n()}),100)}}}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this),!0}},timeout:2e3}],actions:[]},{id:"RLc1dd53126a4c4b3d891562099396dd91",name:"3PT - Business Insights Subscribe Form Submit - Linkedin",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".btn-primary.submit",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/commercial-corporate-institutional/subscribe"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%zGlobal_etp_total_optout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(window.threePTFiredCount=window.threePTFiredCount||0,4===$("input.form-control.stacked.has-clear").length&&0===$("[aria-invalid=true]").length&&0===$(".has-error").length&&0===window.threePTFiredCount)return window.threePTFiredCount+=1,!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/31ef7ee1e16e/RCc36c943550164230975b7686ef5546c5-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLc348a4245b484ebda26a807aa1d0220d",name:"zGlobal - 01 - Element Exists - Wistia Audio and Video",events:[{modulePath:"core/src/lib/events/elementExists.js",settings:{elementSelector:"video"},ruleOrder:50},{modulePath:"core/src/lib/events/elementExists.js",settings:{elementSelector:"audio"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("undefined"!=typeof Wistia)return!0}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/31ef7ee1e16e/RC345adb4b7dc3478dad20f60aad6a63dc-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLc45043a7319242419860c3174ee01154",name:"zGlobal - 01 - FORMS - data-wa-track-formsubmit=1",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"[data-wa-track-formsubmit='1']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:10}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/31ef7ee1e16e/RC569b4329aa114798a87f9778044d1245-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLc6b0b7bb24724a56932b719c9d2d36ef",name:"zGlobal - 01 - DC - trackState",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"trackState"},ruleOrder:40}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){if(!e.detail||!e.detail.marTechData)return _satellite.logger.warn("trackState: No event.detail.marTechData is available!!!"),_satellite.logger.warn("trackState: Rule Cancelled."),!1;var t=window.digitalDataWA;return t=window.digitalDataWAUtils.cloneAssign(t,e.detail.cData),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return _satellite.getVar("zGlobal_AA_Global_Processing").go("web.webpagedetails.pageViews",e),!0}},timeout:2e3}],actions:[]},{id:"RLc8957e08be7b4b63ba9c46e8e1e43c8e",name:"AT - 00 - PT01 - Target prehiding - Wealth",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/wealth"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e="#main-grid .herobanner",t="#gridLayout-490359817 > DIV.aem-Grid > DIV.herobanner";return _satellite.getVar("zGlobal_alloyPrehideUtil").addPageLoadSelector(e+","+t),!0}},timeout:2e3}],actions:[]},{id:"RLcb344948354648bdadc48cd8b8782216",name:"zGlobal - 00 - PT40 - digitalDataWA init",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:40}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.logger.info("00 - digitalDataWA init is executing..."),window.digitalDataWA=window.digitalDataWA||{},_satellite.logger.info("00 - digitalDataWA init is complete."),!0}},timeout:2e3}],actions:[]},{id:"RLcf00f655654f4c029f4f41440ff8bf2a",name:"zGlobal - 02 - DC - Analytics_Post - 10",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Analytics_Post"},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){_satellite.logger.info("02 - DC - Analytics_Post: Preparing to send Analytics Record to AEP..."),_satellite.logger.info(e.detail);e.detail.triggerEvent;var t=e.detail.waData;return window.digitalDataWApost=window.digitalDataWApost||[],window.digitalDataWApost.push(t),window.digitalDataWAposting=t,"true"===(sessionStorage.getItem("waData_debug")||sessionStorage.getItem("aep_debug"))&&(console.log("**waData_debug is enabled**"),console.log("waData="+JSON.stringify(t))),!0}},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%zGlobal_xdm%",type:"%zGlobal_xdm.eventType%",instanceName:"alloy",personalization:{defaultPersonalizationEnabled:!1},documentUnloading:!0,edgeConfigOverrides:{staging:{datastreamId:"%zGlobal_datastreamID%",com_adobe_experience_platform:{datasets:{event:{datasetId:"%zGlobal_analyticsDatasetId%"}}}},production:{datastreamId:"%zGlobal_datastreamID%",com_adobe_experience_platform:{datasets:{event:{datasetId:"%zGlobal_analyticsDatasetId%"}}}},development:{datastreamId:"%zGlobal_datastreamID%",com_adobe_experience_platform:{datasets:{event:{datasetId:"%zGlobal_analyticsDatasetId%"}}}}}},timeout:2e3,delayNext:!0}]},{id:"RLd07e98af5874480c91791bfa021e7764",name:"AT - 00 - PT01 - Target prehiding - Open Account Pages",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/open-account"},{value:"/open-account/banking-accounts"},{value:"/open-account/savings-accounts"},{value:"/open-account/credit-cards"},{value:"/open-account/mortgage"},{value:"/open-account/small-business"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e="#main";return _satellite.getVar("zGlobal_alloyPrehideUtil").addPageLoadSelector(e),!0}},timeout:2e3}],actions:[]},{id:"RLd61009d1de0d4c2cbdfa6d1fe56edd3e",name:"3PT - Library Load",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:90}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%zGlobal_etp_total_optout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"//Get The Trade Desk library - JS implementation\ntry {\n_satellite.logger.log('firing trade desk separate - start step 1');\n\nvar script = document.createElement('script');\nscript.type = 'text/javascript';\nscript.src = \"https://js.adsrvr.org/up_loader.1.1.0.js\";    \ndocument.getElementsByTagName('head')[0].appendChild(script);\n\n_satellite.logger.log('firing trade desk separate - end step 1');\n} catch(e){\n  _satellite.logger.log('error loading the trade desk base script: ' + e);\n}",language:"javascript"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"var script = document.createElement('script');\nscript.type = 'text/javascript';\nscript.src = \"https://www.googletagmanager.com/gtag/js?id=AW-1032153865\";    \n\ndocument.getElementsByTagName('head')[0].appendChild(script);\n\n  window.dataLayer = window.dataLayer || [];\n  function gtag(){dataLayer.push(arguments);}\n  gtag('js', new Date());\n\n // gtag('config','DC-4264071'); \n  gtag('config', 'DC-14781975');\n  gtag('config', 'AW-1032153865');\n//  gtag('config', 'AW-377173270');\n",language:"javascript"}}]},{id:"RLd7ae38788e2d47ddb69c7a857baf02a0",name:"3PF - DOM Ready - Fire Sitewide Tags",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:99}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%zGlobal_etp_total_optout%"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=_satellite.getVar("3pt_matrix_universal"),n=_satellite.getVar("zGlobal_3PT_utils");if(_satellite.logger.log("about to fire universal tags"),t&&t.hasOwnProperty(document.domain)){_satellite.logger.log("firing universal tags");var o=t[document.domain];n.execute3PT(o,e)}return!0}},timeout:2e3}],actions:[]},{id:"RLdb298f4b8fcb4b1a95e02be2c368a571",name:"3PT - Invoca",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:90}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%zGlobal_etp_total_optout%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"try{\n  \n_satellite.logger.info('Invoca tag loads');\n  \n  (function(i,n,v,o,c,a) { i.InvocaTagId = o; var s = n.createElement('script'); s.type = 'text/javascript';\n        s.async = true; s.src = ('https:' === n.location.protocol ? 'https://' : 'http://' ) + v;\n        var fs = n.getElementsByTagName('script')[0]; fs.parentNode.insertBefore(s, fs);\n    })(window, document, 'solutions.invocacdn.com/js/invoca-latest.min.js', '944/1225822932');\n\n  \n_satellite.logger.info('Invoca tag load ends');\n  \n}\n\ncatch(e)\n{\n  \tconsole.log(\"Error in Invoca tags\" + e);\n\n}",language:"javascript"}}]},{id:"RLe2e3dc2583f44dfcb27cc9467e00f1e1",name:"zGlobal - 00 - PT41 - digitalDataWAUtils init",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:41}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.logger.info("00 - digitalDataWAUtils init is executing..."),window.digitalDataWAUtils=_satellite.getVar("zGlobal_utils"),_satellite.logger.info("00 - digitalDataWAUtils init is complete."),!0}},timeout:2e3}],actions:[]},{id:"RLe6ba202015164369923f5f8b99a23462",name:"01 - CLK - mobile simulator click",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"simulator-update",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.logger.info("01 - CLK - data-wa-track-clk=1: getting link data..."),_satellite.getVar("zGlobal_util_getWAData").getLinkData(this),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){try{var t,n,o,r,i,a=window.digitalDataWAUtils;t=e.detail.sim_function,n=e.detail.sim_id,o=e.detail.sim_steps,r=e.detail.step_num,i=e.detail.step_text,i=a.cleanText(i);var s=(r>o?"congratulations":"step_"+r+"_of_"+o)+"_"+i+"_"+t;window.digitalDataWA.temp.linkURL="",window.digitalDataWA.temp.linkPosition="mobilesimulator|"+n,window.digitalDataWA.temp.linkName=s,window.digitalDataWA.temp.linkType="interaction"}catch(e){console.log("Error in simulator code "+e)}return console.log("mobile simulator"),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return _satellite.getVar("zGlobal_AA_Global_Processing").go("web.webinteraction.linkClicks",e),!0}},timeout:2e3}],actions:[]},{id:"RLe89236f88080465f8aad50c7e1c526f9",name:"AT - 01 - DC - propositionImpressionData - 26 - Target Visit Completes",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"propositionImpressionData"},ruleOrder:26}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=(new Date).getTime(),n=JSON.parse(localStorage.getItem("at_activities")||"{}");if(e.detail&&e.detail.target_parameters&&e.detail.target_parameters.experience_visit_completes){var o=e.detail.target_parameters.experience_visit_completes.split(","),r="_"+o[0],i=o[1]||"0",a=o[2],s=o[3]||"0",l=t,c="fixed",d=t;return"visit"===a?(l+=18e5,c="visit"):parseInt(a)>0&&(l+=864e5*parseInt(a)),parseInt(s)>0&&(d+=864e5*parseInt(s)),_satellite.logger.info("paramSplit",o,r,i,l,d),n[r]=n[r]||{},n[r].exp=i,n[r].m_s=l,n[r].m_t=c,n[r].e_s=d,localStorage.setItem("at_activities",JSON.stringify(n)),!0}return!1}},timeout:2e3}],actions:[]},{id:"RLf0249a5d0fdf46a8920f76a4cc2e7a05",name:"zGlobal - AT - 01 - DC - trackPropositionClick",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"trackPropositionClick"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=e.detail.this_element;return _satellite.logger.info("alloyTargetUtil.trackPropositionClick(this_element)",t),_satellite.getVar("zGlobal_alloyTargetUtil").trackPropositionClick(t),!0}},timeout:2e3}],actions:[]},{id:"RLf0800ae19b4841dcb14611b7004df275",name:"AT - 00 - PT01 - Target prehiding - Mortgage Landing L2F",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/mortgage/mortgage-offer"}]},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e="#main";return _satellite.getVar("zGlobal_alloyPrehideUtil").addPageLoadSelector(e),!0}},timeout:2e3}],actions:[]},{id:"RLf5aded36b5a94b85bcf05f94998020ae",name:"01 - Caching Value - VOC",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/31ef7ee1e16e/RC449cf622ed104aad87aedf443c987b9a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf81bf00e6acd46ed89d8194bfb36d30e",name:"zGlobal - 01 - DC - trackNext",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"trackNext"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){window.digitalDataWA=window.digitalDataWA||{},window.digitalDataWAUtils=window.digitalDataWAUtils||_satellite.getVar("zGlobal_utils");var t=window.digitalDataWAUtils;_satellite.logger.info("01 - DC - trackNext: event.detail is:");var n=t.clone(e.detail);if(_satellite.logger.info(n),!e.detail||!e.detail.marTechData)return _satellite.logger.warn("01 - DC - trackNext: no event.detail.marTechData found  -> collection cancelled."),!1;_satellite.logger.info("01 - DC - trackNext: adding event.detail.marTechData to the dataQueue");var o=_satellite.getVar("zGlobal_util_getDataQueue"),r={[e.detail.featureKey||"offers"]:e.detail.marTechData};return o.update(r),!0}},timeout:2e3}],actions:[]},{id:"RLfa8f9ee384584914880e8bc8b5a00faa",name:"zGlobal - 3PT - Analytics Post follower and Direct Call 3PT execution",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"Analytics_Post"},ruleOrder:90},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"threePT"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){if(_satellite.logger.log("Analytics_Post Follower: the event.detail is"),_satellite.logger.log(e.detail),e.detail.threePT)return _satellite.logger.log("event.detail.threePT exists. Skipping 3PT Follower Condition 1"),!0;var t,n=_satellite.getVar("zGlobal_3PT_utils"),o=_satellite.getVar("3pt_matrix_LP"),r=_satellite.getVar("3pt_matrix_new_acct");if(o&&e.detail&&e.detail.waData&&"web.webpagedetails.pageViews"===e.detail.waData.eventType&&("01_dom_r_pageview_custom"===e.detail.waData.trigger||"zglobal_01_dom_r_pageview"===e.detail.waData.trigger)&&o.hasOwnProperty(e.detail.waData.pageName)&&(_satellite.logger.info("02 - 3PT - Analytics_Post - 3PT event forwarding: DOM Ready Pageview Found...setting 3pt object with Landing page tags"),t=o[e.detail.waData.pageName]),r&&e.detail&&e.detail.waData&&(e.detail.waData.events.indexOf("event23")>-1||e.detail.waData.events.indexOf("event24")>-1)&&e.detail.waData.newAcctAppType&&e.detail.waData.products){_satellite.logger.info("02 - 3PT - Analytics_Post - 3PT event forwarding: Account Opening event detected ...setting 3pt object with event-specific tags");var i=n.getAppName(e.detail.waData.newAcctAppType);t=n.generate3ptObj(e,i)}return!!t&&(e.detail.threePT=t,!0)}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return!0!==_satellite.getVar("zGlobal_etp_total_optout")||!!e.detail.threePT.hasOwnProperty("impact")&&(e.detail.threePT={impact:e.detail.threePT.impact},!0)}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t=_satellite.getVar("zGlobal_3PT_utils"),n=window.digitalDataWAUtils||_satellite.getVar("zGlobal_utils");return e.detail.extraInfo={},e.detail.extraInfo.domain=document.location.origin,e.detail.extraInfo.timestamp=t.timestamp(),(_satellite.cookie.get("3PT_Active_Test")||sessionStorage.getItem("3PT_Active_Test"))&&(e.detail.extraInfo.test="active",_satellite.logger.warn("***************3PT Event Forwarding Test Mode is Active***************")),e.detail.threePT.pinterest&&(e.detail.threePT.pinterest.uuid=t.generateUUID(),
e.detail.threePT.pinterest.click_id=n.getCookieValue("_epik")||n.getQueryParam("epik")),e.detail.threePT.facebook&&(e.detail.threePT.facebook.fbc=n.getCookieValue("_fbc"),e.detail.threePT.facebook.fbp=n.getCookieValue("_fbp"),e.detail.threePT.facebook.uuid=t.generateUUID()),e.detail.threePT.gtag&&(e.detail.threePT.gtag.uuid=t.generateUUID()),void 0!==e.detail.ruleTrigger&&(_satellite.logger.log("event.detail.ruleTrigger is defined"),e.detail.ruleTrigger=n.cleanText(e.detail.ruleTrigger)),e.detail.ruleTrigger||(_satellite.logger.log("event.detail.ruleTrigger is undefined"),e.detail.ruleTrigger=e.detail.waData&&e.detail.waData.trigger?n.cleanText(e.detail.waData.trigger):"unknown"),_satellite.logger.info("The finalized event.detail object is:"),_satellite.logger.info(e.detail),_satellite.logger.info("THE FULL EVENT.DETAIL.THREEPT is"),_satellite.logger.info(e.detail.threePT),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){if(e.detail.threePT){_satellite.logger.info("id_sync - 3rd Party Data Send: Initiating ID sync call...");var t=_satellite.getVar("zSite_AA_alloyConfig").getEnvironment(),n="00ad3159-7913-4766-bac8-00359b320ed7";"prdr"===t&&(n="743feb2e-21cc-46d9-8270-1f004d3ef59f"),"prod"===t&&(n="e8e81383-d7e2-482f-b582-8eb083d48c37");var o={ruleTrigger:e.detail.ruleTrigger||"",threePT:e.detail.threePT,extraInfo:e.detail.extraInfo};return void 0===o.extraInfo.ruleTrigger&&(o.extraInfo.ruleTrigger=o.ruleTrigger||"unknown"),alloy("sendEvent",{xdm:{eventType:"3pt_data_send",_suntrustbanksinc:o},data:{threePT:e.detail.threePT,extraInfo:e.detail.extraInfo},edgeConfigOverrides:{datastreamId:n}}),!0}return!1}},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/31ef7ee1e16e/RC9441e5f7bab5457eb0f5d4ba6fdcd45e-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLfea5456e65de4ecdb6db61b342cc9c33",name:"01 - CLK - tab  click",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div.global-tabs ul.r-tabs-nav li",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.logger.info("01 - CLK - data-wa-track-clk=1: getting link data..."),_satellite.getVar("zGlobal_util_getWAData").getLinkData(this),!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return window.digitalDataWA.temp.linkType="interaction",window.digitalDataWA.temp.linkPosition="global_tabs",window.digitalDataWA.temp.linkURL="",!0}},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return _satellite.getVar("zGlobal_AA_Global_Processing").go("web.webinteraction.linkClicks",e),!0}},timeout:2e3}],actions:[]},{id:"RLfefb8931dd0246b59e56827ea010042d",name:"zGlobal - 01 - Element Exists - Wistia Player Video and Audio Tracking",events:[{modulePath:"core/src/lib/events/elementExists.js",settings:{elementSelector:"wistia-player"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/550322ae7d69/9113c9ef16ff/31ef7ee1e16e/RCa9b140ecae7d4e07bcf5a1193bae18c4-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]}]}})();var _satellite=function(){"use strict";function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function t(e){return"[object Object]"===Object.prototype.toString.call(e)}function n(e){var n,o;return!1!==t(e)&&(void 0===(n=e.constructor)||!1!==t(o=n.prototype)&&!1!==o.hasOwnProperty("isPrototypeOf"))}function o(e){return"string"==typeof e&&-1!==e.indexOf("[")&&-1!==e.indexOf("]")}function r(e){return e.substr(0,e.indexOf("["))}function i(e,t,n){if(e.length&&ut(t)){var a=e[0];if(1!==e.length){var s=e.slice(1);if(!o(a))return i(s,t[a],n);var l=t[a=r(a)];Array.isArray(l)&&l.forEach((function(e){return i(s,e,n)}))}else t.hasOwnProperty(a)&&"string"==typeof t[a]&&(t[a]=n(t[a]))}}if(window.atob){var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=document,l=Object.assign,c=window,d=c,u=function(e,t,n,o){var r,i=Boolean(t&&Array.isArray(n)),a=Boolean(i&&e),s=document.createElement("a");if(i){var l=function(){var e=new Error("Unable to find the Library Embed Code for Dynamic Host Resolution.");throw e.code="dynamic_host_resolver_constructor_error",e};if(e&&(/^((https?:)?\/\/).+/.test(e)||l(),/^\/\/.+/.test(e)?s.href=d.location.protocol+e:s.href=e),s.hostname||l(),-1===n.indexOf(s.hostname)){var c=new Error("This library is not authorized for this domain. Please contact your CSM for more information.");throw c.code="dynamic_host_not_allowed",c}}var u=function(){if(null!=r)return r;if(a){var e=s.host;/:80$/.test(e)?e=e.replace(":80",""):/:80\/$/.test(e)?e=e.replace(":80/",""):/:443$/.test(e)?e=e.replace(":443",""):/:443\/$/.test(e)&&(e=e.replace(":443/","")),r=s.protocol+"//"+e}else r="";return r},g=function(e){return a&&"string"==typeof e?[u(),"/"===e.charAt(0)?e.slice(1):e].join("/"):e},m={getTurbineHost:u,decorateWithDynamicHost:g,get isDynamicEnforced(){return i}};return d&&o.onDebugChanged((function(e){e?d.dynamicHostResolver=m:delete d.dynamicHostResolver})),m},g=function(e){var t=[];return e.forEach((function(e){e.events&&e.events.forEach((function(n){t.push({rule:e,event:n})}))})),t.sort((function(e,t){return e.event.ruleOrder-t.event.ruleOrder}))},m="debug",p=function(e,t){var n=function(){return"true"===e.getItem(m)},o=function(t){e.setItem(m,t)},r=[],i=function(e){r.push(e)};return t.outputEnabled=n(),{onDebugChanged:i,getDebugEnabled:n,setDebugEnabled:function(e){n()!==e&&(o(e),t.outputEnabled=e,r.forEach((function(t){t(e)})))}}},f="Module did not export a function.",h=function(e,t,n){return function(o,r,i){i=i||[];var a=e.getModuleExports(o.modulePath);if("function"!=typeof a)throw new Error(f);var s=e.getModuleDefinition(o.modulePath),l=o.settings||{};!o.hasTransformedFilePaths&&s.filePaths&&(n(l,s.filePaths,o.modulePath),o.hasTransformedFilePaths=!0);var c=t(l,r);return a.bind(null,c).apply(null,i)}},b=function(e){return"string"==typeof e?e.replace(/\s+/g," ").trim():e},v={LOG:"log",INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error"},y="\ud83d\ude80",_=10===parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])?"[Launch]":y,w=!1,C=function(e){if(w&&window.console){var t=Array.prototype.slice.call(arguments,1);t.unshift(_),e!==v.DEBUG||window.console[e]||(e=v.INFO),window.console[e].apply(window.console,t)}},k=C.bind(null,v.LOG),P=C.bind(null,v.INFO),E=C.bind(null,v.DEBUG),T=C.bind(null,v.WARN),I=C.bind(null,v.ERROR),D=function(){var e=w;w=!0,C.apply(null,Array.prototype.concat(v.WARN,Array.prototype.slice.call(arguments))),e||(w=!1)},A={log:k,info:P,debug:E,warn:T,error:I,deprecation:D,get outputEnabled(){return w},set outputEnabled(e){w=e},createPrefixedLogger:function(e){var t="["+e+"]";return{log:k.bind(null,t),info:P.bind(null,t),debug:E.bind(null,t),warn:T.bind(null,t),error:I.bind(null,t)}}},S=c,x="com.adobe.reactor.",O=function(e,t){var n=x+(t||"");return{getItem:function(t){try{return S[e].getItem(n+t)}catch(e){return null}},setItem:function(t,o){try{return S[e].setItem(n+t,o),!0}catch(e){return!1}}}},j=O,R="dataElements.",N=j("sessionStorage",R),L=j("localStorage",R),M={PAGEVIEW:"pageview",SESSION:"session",VISITOR:"visitor"},V={},U=function(e){var t;try{t=JSON.stringify(e)}catch(e){}return t},z=b,G=A,F={setValue:function(e,t,n){var o;switch(t){case M.PAGEVIEW:return void(V[e]=n);case M.SESSION:return void((o=U(n))&&N.setItem(e,o));case M.VISITOR:return void((o=U(n))&&L.setItem(e,o))}},getValue:function(e,t){var n;switch(t){case M.PAGEVIEW:return V.hasOwnProperty(e)?V[e]:null;case M.SESSION:return null===(n=N.getItem(e))?n:JSON.parse(n);case M.VISITOR:return null===(n=L.getItem(e))?n:JSON.parse(n)}}},q=function(e,t,n,o){return"Failed to execute data element module "+e.modulePath+" for data element "+t+". "+n+(o?"\n"+o:"")},$=function(e,t,n,o,r){return function(i,a){var s=t(i);if(!s)return o?"":void 0;var l,c,d=s.storageDuration;try{l=e.getModuleExports(s.modulePath),c=e.getModuleDefinition(s.modulePath)}catch(e){return void G.error(q(s,i,e.message,e.stack))}if("function"==typeof l){var u,g=s.settings||{};!s.hasTransformedFilePaths&&c.filePaths&&(r(g,c.filePaths,s.modulePath),s.hasTransformedFilePaths=!0);try{u=l(n(g,a),a)}catch(e){return void G.error(q(s,i,e.message,e.stack))}return d&&(null!=u?F.setValue(i,d,u):u=F.getValue(i,d)),null==u&&null!=s.defaultValue&&(u=s.defaultValue),"string"==typeof u&&(s.cleanText&&(u=z(u)),s.forceLowerCase&&(u=u.toLowerCase())),u}G.error(q(s,i,"Module did not export a function."))}},W=b,B={text:function(e){return e.textContent},cleanText:function(e){return W(e.textContent)}},H=function(e,t,n){for(var o,r=e,i=0,a=t.length;i<a;i++){if(null==r)return;var s=t[i];if(n&&"@"===s.charAt(0)){var l=s.slice(1);r=B[l](r)}else if(r.getAttribute&&(o=s.match(/^getAttribute\((.+)\)$/))){var c=o[1];r=r.getAttribute(c)}else r=r[s]}return r},Q=function(e,t,n){return function(o,r){var i;if(t(o))i=n(o,r);else{var a=o.split("."),s=a.shift();"this"===s?r&&(i=H(r.element,a,!0)):"event"===s?r&&(i=H(r,a)):"target"===s?r&&(i=H(r.target,a)):i=H(e[s],a)}return i}},J=function(e,t){return function(n){var o=n.split(".")[0];return Boolean(t(n)||"this"===o||"event"===o||"target"===o||e.hasOwnProperty(o))}},K=function(e,t,n){var o={exports:{}};return e.call(o.exports,o,o.exports,t,n),o.exports},X=K,Y=A,Z=function(){var e={},t=function(t){var n=e[t];if(!n)throw new Error("Module "+t+" not found.");return n},n=function(){Object.keys(e).forEach((function(e){try{o(e)}catch(n){var t="Error initializing module "+e+". "+n.message+(n.stack?"\n"+n.stack:"");Y.error(t)}}))},o=function(e){var n=t(e);return n.hasOwnProperty("exports")||(n.exports=X(n.definition.script,n.require,n.turbine)),n.exports};return{registerModule:function(t,n,o,r,i){var a={definition:n,extensionName:o,require:r,turbine:i};a.require=r,e[t]=a},hydrateCache:n,getModuleExports:o,getModuleDefinition:function(e){return t(e).definition},getModuleExtensionName:function(e){return t(e).extensionName}}},ee=A,te=!1,ne=function(e){return function(t,n){var o=e._monitors;o&&(te||(ee.warn("The _satellite._monitors API may change at any time and should only be used for debugging."),te=!0),o.forEach((function(e){e[t]&&e[t](n)})))}},oe=A,re=function(e,t,n){var o,r,i,a,s=[],l=function(o,r,i){if(!e(r))return o;s.push(r);var a=t(r,i);return s.pop(),null==a&&n?"":a};return o=function(e,t){var n=/^%([^%]+)%$/.exec(e);return n?l(e,n[1],t):e.replace(/%(.+?)%/g,(function(e,n){return l(e,n,t)}))},r=function(e,t){for(var n={},o=Object.keys(e),r=0;r<o.length;r++){var i=o[r],s=e[i];n[i]=a(s,t)}return n},i=function(e,t){for(var n=[],o=0,r=e.length;o<r;o++)n.push(a(e[o],t));return n},a=function(e,t){return"string"==typeof e?o(e,t):Array.isArray(e)?i(e,t):"object"==typeof e&&null!==e?r(e,t):e},function(e,t){return s.length>10?(oe.error("Data element circular reference detected: "+s.join(" -> ")),e):a(e,t)}},ie=function(e){return function(){if("string"==typeof arguments[0])e[arguments[0]]=arguments[1];else if(arguments[0]){var t=arguments[0];for(var n in t)e[n]=t[n]}}},ae="undefined"!=typeof window&&window.Promise||void 0!==a&&a.Promise,se=ae,le=function(e,t,n){return function(o,r,i,a){return a.then((function(){var a,s=o.delayNext;return new se((function(t,n){var r=e(o,i,[i]);if(!s)return t();var l=o.timeout,c=new se((function(e,t){a=setTimeout((function(){t(new Error("A timeout occurred because the action took longer than "+l/1e3+" seconds to complete. "))}),l)}));se.race([r,c]).then(t,n)})).catch((function(e){return clearTimeout(a),e=t(e),n(o,r,e),se.reject(e)})).then((function(){clearTimeout(a)}))}))}},ce=ae,de=function(e,t,n,o,r){return function(i,a,s,l){return l.then((function(){var l;return new ce((function(t,n){var o=e(i,s,[s]),r=i.timeout,a=new ce((function(e,t){l=setTimeout((function(){t(new Error("A timeout occurred because the condition took longer than "+r/1e3+" seconds to complete. "))}),r)}));ce.race([o,a]).then(t,n)})).catch((function(e){return clearTimeout(l),e=t(e),o(i,a,e),ce.reject(e)})).then((function(e){if(clearTimeout(l),!n(i,e))return r(i,a),ce.reject()}))}))}},ue=ae.resolve(),ge=function(e,t,n){return function(o,r){return o.conditions&&o.conditions.forEach((function(t){ue=e(t,o,r,ue)})),o.actions&&o.actions.forEach((function(e){ue=t(e,o,r,ue)})),ue=(ue=ue.then((function(){n(o)}))).catch((function(){}))}},me=function(e){return Boolean(e&&"object"==typeof e&&"function"==typeof e.then)},pe=function(e,t,n,o){return function(r,i){var a;if(r.conditions)for(var s=0;s<r.conditions.length;s++){a=r.conditions[s];try{var l=e(a,i,[i]);if(me(l))throw new Error("Rule component sequencing must be enabled on the property for this condition to function properly.");if(!t(a,l))return n(a,r),!1}catch(e){return o(a,r,e),!1}}return!0}},fe=function(e,t){return function(n,o){e(n,o)&&t(n,o)}},he=function(e){return function(t){var n=e.getModuleDefinition(t.modulePath);return n&&n.displayName||t.modulePath}},be=function(e){return function(t){var n=t.rule,o=t.event,r=e.getModuleDefinition(o.modulePath).name;return{$type:e.getModuleExtensionName(o.modulePath)+"."+r,$rule:{id:n.id,name:n.name}}}},ve=function(e,t,n,o,r,i){return function(a,s){var l=s.rule,c=s.event;c.settings=c.settings||{};try{var d=r(s);t(c,null,[function(t){var o=n(d,t);a((function(){e(o,l)}))}])}catch(e){i.error(o(c,l,e))}}},ye=function(e,t,n,o){return function(r,i,a){var s=t(r);n.error(e(s,i.name,a)),o("ruleActionFailed",{rule:i,action:r})}},_e=function(e,t,n,o){return function(r,i,a){var s=t(r);n.error(e(s,i.name,a)),o("ruleConditionFailed",{rule:i,condition:r})}},we=function(e,t,n){return function(o,r){var i=e(o);t.log('Condition "'+i+'" for rule "'+r.name+'" was not met.'),n("ruleConditionFailed",{rule:r,condition:o})}},Ce=function(e,t){return function(n){e.log('Rule "'+n.name+'" fired.'),t("ruleCompleted",{rule:n})}},ke=function(e,t,n){return function(o,r){var i;if(o.actions)for(var a=0;a<o.actions.length;a++){i=o.actions[a];try{e(i,r,[r])}catch(e){return void t(i,o,e)}}n(o)}},Pe=function(e,t,n,o){return function(r,i){o("ruleTriggered",{rule:i}),e?n(i,r):t(i,r)}},Ee=function(e,t,n){return'Failed to execute "'+e+'" for "'+t+'" rule. '+n.message+(n.stack?"\n"+n.stack:"")},Te=function(e,t){return t&&!e.negate||!t&&e.negate},Ie=[],De=!1,Ae=function(e){De?e():Ie.push(e)},Se=function(e,t,n){e(t).forEach((function(e){n(Ae,e)})),De=!0,Ie.forEach((function(e){e()})),Ie=[]},xe=function(e){if(e||(e=new Error("The extension triggered an error, but no error information was provided.")),!(e instanceof Error)){var t="object"==typeof e?JSON.stringify(e):String(e);e=new Error(t)}return e},Oe={};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.isPlainObject=n;var je,Re=A,Ne=l,{isPlainObject:Le}=Oe,Me=function(e,t){return Le(t=t||{})?t=Ne({},t,e):Ne(t,e),t.hasOwnProperty("type")||Object.defineProperty(t,"type",{get:function(){return Re.deprecation("Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead."),t.$type}}),t},Ve=function(e,t){return function(n,o){var r=e[n];if(r){var i=r.modules;if(i)for(var a=Object.keys(i),s=0;s<a.length;s++){var l=a[s],c=i[l];if(c.shared&&c.name===o)return t.getModuleExports(l)}}}},Ue=function(e,t){return function(){return t?e(t):{}}},ze=function(e,t,n){return function(o){if(n){var r=o.split(".");r.splice(r.length-1||1,0,"min"),o=r.join(".")}return e(t)+o}},Ge=".js",Fe=function(e){return e.substr(0,e.lastIndexOf("/"))},qe=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},$e=function(e,t){qe(t,Ge)||(t+=Ge);var n=t.split("/"),o=Fe(e).split("/");return n.forEach((function(e){e&&"."!==e&&(".."===e?o.length&&o.pop():o.push(e))})),o.join("/")},We={exports:{}};je=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var o in n)t[o]=n[o]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function n(o){function r(){}function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},r.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=o.write?o.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var l in i)i[l]&&(s+="; "+l,!0!==i[l]&&(s+="="+i[l].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var r={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var s=i[a].split("="),l=s.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=t(s[0]);if(l=(o.read||o)(l,c)||t(l),n)try{l=JSON.parse(l)}catch(e){}if(r[c]=l,e===c)break}catch(e){}}return e?r[e]:r}}return r.set=i,r.get=function(e){return a(e,!1)},r.getJSON=function(e){return a(e,!0)},r.remove=function(t,n){i(t,"",e(n,{expires:-1}))},r.defaults={},r.withConverter=n,r}return n((function(){}))},We.exports=je();var Be=We.exports,He={get:Be.get,set:Be.set,remove:Be.remove},Qe=ae,Je=function(e,t){return new Qe((function(n,o){t.onload=function(){n(t)},t.onerror=function(){o(new Error("Failed to load script "+e))}}))},Ke=function(e){var t={};if(!e||"string"!=typeof e)return t;var n=e.trim().replace(/^[?#&]/,""),o=new URLSearchParams(n),r=o.keys();do{var i=r.next(),a=i.value;if(a){var s=o.getAll(a);1===s.length?t[a]=s[0]:t[a]=s}}while(!1===i.done);return t},Xe=function(e){var t="{{space}}",n=new URLSearchParams;return Object.keys(e).forEach((function(o){var r=e[o];"string"==typeof e[o]?r=r.replace(/ /g,t):["object","undefined"].includes(typeof r)&&!Array.isArray(r)&&(r=""),Array.isArray(r)?r.forEach((function(e){n.append(o,e)})):n.append(o,r)})),n.toString().replace(new RegExp(encodeURIComponent(t),"g"),"%20")},Ye="@adobe/reactor-",Ze={cookie:He,document:s,"load-script":function(e){var t=document.createElement("script");t.src=e,t.async=!0;var n=Je(e,t);return document.getElementsByTagName("head")[0].appendChild(t),n},"object-assign":l,promise:ae,"query-string":{parse:function(e){return Ke(e)},stringify:function(e){return Xe(e)}},window:c},et=function(e){return function(t){if(0===t.indexOf(Ye)){var n=t.substr(Ye.length),o=Ze[n];if(o)return o}if(0===t.indexOf("./")||0===t.indexOf("../"))return e(t);throw new Error('Cannot resolve module "'+t+'".')}},tt=Ve,nt=Ue,ot=ze,rt=A,it=$e,at=et,st=function(e,t,n,o,r,i,a){var s=e.extensions,l=e.buildInfo,c=e.environment,d=e.property.settings;if(s){var u=tt(s,t);Object.keys(s).forEach((function(g){var m=s[g],p=m.settings;Array.isArray(m.filePaths)&&(p=i(p,m.filePaths));var f=nt(o,p);if(m.modules){var h=rt.createPrefixedLogger(m.displayName),b=ot(a,m.hostedLibFilesBaseUrl,l.minified),v={buildInfo:l,environment:c,property:{name:e.property.name,id:e.property.id},getDataElementValue:r,getExtensionSettings:f,getHostedLibFileUrl:b,getSharedModule:u,logger:h,propertySettings:d,replaceTokens:o,onDebugChanged:n.onDebugChanged,get debugEnabled(){return n.getDebugEnabled()}};Object.keys(m.modules).forEach((function(e){var n=m.modules[e],o=at((function(n){var o=it(e,n);return t.getModuleExports(o)}));t.registerModule(e,n,g,o,v)}))}})),t.hydrateCache()}return t},lt=He,ct=A,dt=function(e,t,n,o,r){var i=ct.createPrefixedLogger("Custom Script");e.track=function(e){ct.log('"'+e+'" does not match any direct call identifiers.')},e.getVisitorId=function(){return null},e.property={name:t.property.name,id:t.property.id},e.company=t.company,e.buildInfo=t.buildInfo,e.environment=t.environment,e.logger=i,e.notify=function(e,t){switch(ct.deprecation("_satellite.notify is deprecated. Please use the `_satellite.logger` API."),t){case 3:i.info(e);break;case 4:i.warn(e);break;case 5:i.error(e);break;default:i.log(e)}},e.getVar=o,e.setVar=r,e.setCookie=function(e,t,n){var o="",r={};n&&(o=", { expires: "+n+" }",r.expires=n);var i='_satellite.setCookie is deprecated. Please use _satellite.cookie.set("'+e+'", "'+t+'"'+o+").";ct.deprecation(i),lt.set(e,t,r)},e.readCookie=function(e){return ct.deprecation('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("'+e+'").'),lt.get(e)},e.removeCookie=function(e){ct.deprecation('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("'+e+'").'),lt.remove(e)},e.cookie=lt,e.pageBottom=function(){},e.setDebug=n;var a=!1;Object.defineProperty(e,"_container",{get:function(){return a||(ct.warn("_satellite._container may change at any time and should only be used for debugging."),a=!0),t}})},{isPlainObject:ut}=Oe,gt=s,mt=l,pt=u,ft=g,ht=p,bt=h,vt=$,yt=Q,_t=J,wt=Z,Ct=ne,kt=re,Pt=ie,Et=le,Tt=de,It=ge,Dt=pe,At=fe,St=he,xt=be,Ot=ve,jt=ye,Rt=_e,Nt=we,Lt=Ce,Mt=ke,Vt=Pe,Ut=Ee,zt=Te,Gt=Se,Ft=xe,qt=Me,$t=O,Wt=st,Bt=dt,Ht=function(e,t){return function(n,o,r){return e&&ut(n)&&Object.keys(n).length&&Array.isArray(o)&&o.length?(o.forEach((function(e){Boolean(null!=r&&/^core\/.*actions.*\/customCode\.js$/.test(r))&&"source"===e&&!n.isExternal||i(e.split("."),n,t)})),n):n}},Qt=A,Jt=window._satellite;if(Jt&&!window.__satelliteLoaded){window.__satelliteLoaded=!0;var Kt=Jt.container;delete Jt.container;var Xt=mt({},Kt.buildInfo);Object.defineProperty(Xt,"environment",{get:function(){return Qt.deprecation("container.buildInfo.environment is deprecated.Please use `container.environment.stage` instead"),Kt.environment.stage}}),Kt.buildInfo=Xt;var Yt,Zt=ht($t("localStorage"),Qt),en="";gt.currentScript&&gt.currentScript.getAttribute("src")&&(en=gt.currentScript.getAttribute("src"));try{Yt=pt(en,Boolean(Kt.company.dynamicCdnEnabled),Kt.company.cdnAllowList,Zt)}catch(e){throw Qt.warn("Please review the following error:"),e}var tn,nn=Ht(Yt.isDynamicEnforced,Yt.decorateWithDynamicHost),on=wt(),rn=Kt.property.settings.undefinedVarsReturnEmpty,an=Kt.property.settings.ruleComponentSequencingEnabled,sn=Kt.dataElements||{},ln=function(e){return sn[e]},cn=function(){return tn.apply(null,arguments)},dn=vt(on,ln,cn,rn,nn),un={},gn=Pt(un),mn=_t(un,ln),pn=yt(un,ln,dn);tn=kt(mn,pn,rn),Bt(Jt,Kt,Zt.setDebugEnabled,pn,gn),Wt(Kt,on,Zt,tn,dn,nn,Yt.decorateWithDynamicHost);var fn=Ct(Jt),hn=bt(on,tn,nn),bn=St(on),vn=Nt(bn,Qt,fn),yn=Rt(Ut,bn,Qt,fn),_n=jt(Ut,bn,Qt,fn),wn=Lt(Qt,fn),Cn=Ot(Vt(an,At(Dt(hn,zt,vn,yn),Mt(hn,_n,wn)),It(Tt(hn,Ft,zt,yn,vn),Et(hn,Ft,_n),wn),fn),hn,qt,Ut,xt(on),Qt);Gt(ft,Kt.rules||[],Cn)}return e(Jt)}console.warn("Adobe Launch is unsupported in IE 9 and below.")}();